!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=297)}([function(e,t,n){"use strict";e.exports=n(27)},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=document,i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"createElement",value:function(){var e="udesk-callcenter-component-alert",t=this.element=o.getElementById(e),n=o.body;t||((t=this.element=o.createElement("div")).id=e,n.appendChild(t))}},{key:"success",value:function(e){this.createElement(),this.element.innerText=e,this.element.style.backgroundColor="green",this.show()}},{key:"error",value:function(e){this.createElement(),this.element.innerText=e,this.element.style.backgroundColor="red",this.show()}},{key:"destroy",value:function(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}},{key:"show",value:function(){var e=this;this.element.style.display="block",clearTimeout(this.timeoutId),this.timeoutId=setTimeout(function(){e.element&&(e.element.style.display="none")},5e3)}}])&&r(t.prototype,n),i&&r(t,i),e}();t.a=new i},function(module,exports){function getXMLHttpRequest(){var e;if("undefined"!=typeof XMLHttpRequest)e=new XMLHttpRequest;else for(var t=["MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],n=0,r=t.length;n<r;n++)try{e=new ActiveXObject(t[n]);break}catch(e){}return e}function load(options){var method=options.method,url=options.url,content=options.content,successCallback=options.successCallback,failureCallback=options.failureCallback,headers=options.headers,xhr=getXMLHttpRequest();function ensureReadiness(){if(!(xhr.readyState<4))if(xhr.status<200||xhr.status>=300){if(400===xhr.status){var _content=xhr.response,_contentType=xhr.getResponseHeader("Content-Type");if(_contentType.indexOf("application/json")>-1&&(_content=JSON.parse(_content),("invalid_password"===_content.code||"token_expired"===_content.code)&&obj.refreshToken&&!options.retry))return void obj.refreshToken(function(e){options.retry=!0,obj.token=e,load(options)})}failureCallback&&failureCallback(xhr)}else if(4===xhr.readyState){var contentType=xhr.getResponseHeader("Content-Type");"application/javascript"===contentType?successCallback&&successCallback(eval(xhr.response),xhr):contentType.indexOf("application/json")>-1?successCallback&&successCallback(JSON.parse(xhr.response),xhr):successCallback&&successCallback(xhr.response,xhr)}}if(xhr.onreadystatechange=ensureReadiness,xhr.open(method,obj.host+url,!0),headers)for(var i in headers)xhr.setRequestHeader(i,headers[i]);xhr.setRequestHeader("Authorization","Basic "+btoa("agent:"+obj.token)),xhr.send(content)}function get(e,t,n,r){var o=serializeParams(t);o&&(-1===e.indexOf("?")?e+="?"+o:e+="&"+o),load({method:"GET",url:e,successCallback:function(e,t){"string"==typeof e?n&&n(JSON.parse(e),t):n&&n(e,t)},failureCallback:r})}function post(e,t,n,r){load({method:"POST",url:e,headers:{"Content-type":"application/x-www-form-urlencoded"},content:serializeParams(t),successCallback:n,failureCallback:r})}function postJSON(e,t,n,r){load({method:"POST",url:e,content:JSON.stringify(t),successCallback:function(e,t){"string"==typeof e?n&&n(JSON.parse(e),t):n&&n(e,t)},headers:{"content-type":"application/json"},failureCallback:r})}function put(e,t,n,r){load({method:"PUT",url:e,content:JSON.stringify(t),successCallback:function(e,t){"string"==typeof e?n&&n(JSON.parse(e),t):n&&n(e,t)},headers:{"content-type":"application/json"},failureCallback:r})}function del(e,t,n,r){load({method:"DELETE",url:e,content:JSON.stringify(t),successCallback:function(e,t){"string"==typeof e?n&&n(JSON.parse(e),t):n&&n(e,t)},headers:{"content-type":"application/json"},failureCallback:r})}var obj={get:get,post:post,postJSON:postJSON,put:put,delete:del,token:"",host:"",refreshToken:null};function serializeParams(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t=t.join("&")}module.exports=obj},function(e,t,n){(function(e,r){var o;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var i,a=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",c="__lodash_hash_undefined__",l=500,f="__lodash_placeholder__",p=1,d=2,h=4,v=1,m=2,g=1,y=2,_=4,b=8,C=16,A=32,E=64,S=128,T=256,w=512,k=30,R="...",O=800,x=16,I=1,P=2,N=1/0,D=9007199254740991,M=1.7976931348623157e308,U=NaN,j=4294967295,L=j-1,F=j>>>1,B=[["ary",S],["bind",g],["bindKey",y],["curry",b],["curryRight",C],["flip",w],["partial",A],["partialRight",E],["rearg",T]],H="[object Arguments]",q="[object Array]",W="[object AsyncFunction]",V="[object Boolean]",G="[object Date]",z="[object DOMException]",Y="[object Error]",K="[object Function]",Q="[object GeneratorFunction]",J="[object Map]",Z="[object Number]",X="[object Null]",$="[object Object]",ee="[object Proxy]",te="[object RegExp]",ne="[object Set]",re="[object String]",oe="[object Symbol]",ie="[object Undefined]",ae="[object WeakMap]",se="[object WeakSet]",ue="[object ArrayBuffer]",ce="[object DataView]",le="[object Float32Array]",fe="[object Float64Array]",pe="[object Int8Array]",de="[object Int16Array]",he="[object Int32Array]",ve="[object Uint8Array]",me="[object Uint8ClampedArray]",ge="[object Uint16Array]",ye="[object Uint32Array]",_e=/\b__p \+= '';/g,be=/\b(__p \+=) '' \+/g,Ce=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ae=/&(?:amp|lt|gt|quot|#39);/g,Ee=/[&<>"']/g,Se=RegExp(Ae.source),Te=RegExp(Ee.source),we=/<%-([\s\S]+?)%>/g,ke=/<%([\s\S]+?)%>/g,Re=/<%=([\s\S]+?)%>/g,Oe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xe=/^\w*$/,Ie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pe=/[\\^$.*+?()[\]{}|]/g,Ne=RegExp(Pe.source),De=/^\s+|\s+$/g,Me=/^\s+/,Ue=/\s+$/,je=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Le=/\{\n\/\* \[wrapped with (.+)\] \*/,Fe=/,? & /,Be=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,He=/\\(\\)?/g,qe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,We=/\w*$/,Ve=/^[-+]0x[0-9a-f]+$/i,Ge=/^0b[01]+$/i,ze=/^\[object .+?Constructor\]$/,Ye=/^0o[0-7]+$/i,Ke=/^(?:0|[1-9]\d*)$/,Qe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Je=/($^)/,Ze=/['\n\r\u2028\u2029\\]/g,Xe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",$e="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",et="[\\ud800-\\udfff]",tt="["+$e+"]",nt="["+Xe+"]",rt="\\d+",ot="[\\u2700-\\u27bf]",it="[a-z\\xdf-\\xf6\\xf8-\\xff]",at="[^\\ud800-\\udfff"+$e+rt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",st="\\ud83c[\\udffb-\\udfff]",ut="[^\\ud800-\\udfff]",ct="(?:\\ud83c[\\udde6-\\uddff]){2}",lt="[\\ud800-\\udbff][\\udc00-\\udfff]",ft="[A-Z\\xc0-\\xd6\\xd8-\\xde]",pt="(?:"+it+"|"+at+")",dt="(?:"+ft+"|"+at+")",ht="(?:"+nt+"|"+st+")"+"?",vt="[\\ufe0e\\ufe0f]?"+ht+("(?:\\u200d(?:"+[ut,ct,lt].join("|")+")[\\ufe0e\\ufe0f]?"+ht+")*"),mt="(?:"+[ot,ct,lt].join("|")+")"+vt,gt="(?:"+[ut+nt+"?",nt,ct,lt,et].join("|")+")",yt=RegExp("['’]","g"),_t=RegExp(nt,"g"),bt=RegExp(st+"(?="+st+")|"+gt+vt,"g"),Ct=RegExp([ft+"?"+it+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[tt,ft,"$"].join("|")+")",dt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[tt,ft+pt,"$"].join("|")+")",ft+"?"+pt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",ft+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rt,mt].join("|"),"g"),At=RegExp("[\\u200d\\ud800-\\udfff"+Xe+"\\ufe0e\\ufe0f]"),Et=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,St=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Tt=-1,wt={};wt[le]=wt[fe]=wt[pe]=wt[de]=wt[he]=wt[ve]=wt[me]=wt[ge]=wt[ye]=!0,wt[H]=wt[q]=wt[ue]=wt[V]=wt[ce]=wt[G]=wt[Y]=wt[K]=wt[J]=wt[Z]=wt[$]=wt[te]=wt[ne]=wt[re]=wt[ae]=!1;var kt={};kt[H]=kt[q]=kt[ue]=kt[ce]=kt[V]=kt[G]=kt[le]=kt[fe]=kt[pe]=kt[de]=kt[he]=kt[J]=kt[Z]=kt[$]=kt[te]=kt[ne]=kt[re]=kt[oe]=kt[ve]=kt[me]=kt[ge]=kt[ye]=!0,kt[Y]=kt[K]=kt[ae]=!1;var Rt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ot=parseFloat,xt=parseInt,It="object"==typeof e&&e&&e.Object===Object&&e,Pt="object"==typeof self&&self&&self.Object===Object&&self,Nt=It||Pt||Function("return this")(),Dt=t&&!t.nodeType&&t,Mt=Dt&&"object"==typeof r&&r&&!r.nodeType&&r,Ut=Mt&&Mt.exports===Dt,jt=Ut&&It.process,Lt=function(){try{var e=Mt&&Mt.require&&Mt.require("util").types;return e||jt&&jt.binding&&jt.binding("util")}catch(e){}}(),Ft=Lt&&Lt.isArrayBuffer,Bt=Lt&&Lt.isDate,Ht=Lt&&Lt.isMap,qt=Lt&&Lt.isRegExp,Wt=Lt&&Lt.isSet,Vt=Lt&&Lt.isTypedArray;function Gt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function zt(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function Yt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Kt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Qt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Jt(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function Zt(e,t){return!!(null==e?0:e.length)&&un(e,t,0)>-1}function Xt(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function $t(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function en(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function tn(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function nn(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function rn(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var on=pn("length");function an(e,t,n){var r;return n(e,function(e,n,o){if(t(e,n,o))return r=n,!1}),r}function sn(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function un(e,t,n){return t==t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):sn(e,ln,n)}function cn(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function ln(e){return e!=e}function fn(e,t){var n=null==e?0:e.length;return n?vn(e,t)/n:U}function pn(e){return function(t){return null==t?i:t[e]}}function dn(e){return function(t){return null==e?i:e[t]}}function hn(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}function vn(e,t){for(var n,r=-1,o=e.length;++r<o;){var a=t(e[r]);a!==i&&(n=n===i?a:n+a)}return n}function mn(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function gn(e){return function(t){return e(t)}}function yn(e,t){return $t(t,function(t){return e[t]})}function _n(e,t){return e.has(t)}function bn(e,t){for(var n=-1,r=e.length;++n<r&&un(t,e[n],0)>-1;);return n}function Cn(e,t){for(var n=e.length;n--&&un(t,e[n],0)>-1;);return n}var An=dn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),En=dn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Sn(e){return"\\"+Rt[e]}function Tn(e){return At.test(e)}function wn(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function kn(e,t){return function(n){return e(t(n))}}function Rn(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==f||(e[n]=f,i[o++]=n)}return i}function On(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function xn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function In(e){return Tn(e)?function(e){var t=bt.lastIndex=0;for(;bt.test(e);)++t;return t}(e):on(e)}function Pn(e){return Tn(e)?function(e){return e.match(bt)||[]}(e):function(e){return e.split("")}(e)}var Nn=dn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Dn=function e(t){var n,r=(t=null==t?Nt:Dn.defaults(Nt.Object(),t,Dn.pick(Nt,St))).Array,o=t.Date,Xe=t.Error,$e=t.Function,et=t.Math,tt=t.Object,nt=t.RegExp,rt=t.String,ot=t.TypeError,it=r.prototype,at=$e.prototype,st=tt.prototype,ut=t["__core-js_shared__"],ct=at.toString,lt=st.hasOwnProperty,ft=0,pt=(n=/[^.]+$/.exec(ut&&ut.keys&&ut.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",dt=st.toString,ht=ct.call(tt),vt=Nt._,mt=nt("^"+ct.call(lt).replace(Pe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gt=Ut?t.Buffer:i,bt=t.Symbol,At=t.Uint8Array,Rt=gt?gt.allocUnsafe:i,It=kn(tt.getPrototypeOf,tt),Pt=tt.create,Dt=st.propertyIsEnumerable,Mt=it.splice,jt=bt?bt.isConcatSpreadable:i,Lt=bt?bt.iterator:i,on=bt?bt.toStringTag:i,dn=function(){try{var e=Fi(tt,"defineProperty");return e({},"",{}),e}catch(e){}}(),Mn=t.clearTimeout!==Nt.clearTimeout&&t.clearTimeout,Un=o&&o.now!==Nt.Date.now&&o.now,jn=t.setTimeout!==Nt.setTimeout&&t.setTimeout,Ln=et.ceil,Fn=et.floor,Bn=tt.getOwnPropertySymbols,Hn=gt?gt.isBuffer:i,qn=t.isFinite,Wn=it.join,Vn=kn(tt.keys,tt),Gn=et.max,zn=et.min,Yn=o.now,Kn=t.parseInt,Qn=et.random,Jn=it.reverse,Zn=Fi(t,"DataView"),Xn=Fi(t,"Map"),$n=Fi(t,"Promise"),er=Fi(t,"Set"),tr=Fi(t,"WeakMap"),nr=Fi(tt,"create"),rr=tr&&new tr,or={},ir=fa(Zn),ar=fa(Xn),sr=fa($n),ur=fa(er),cr=fa(tr),lr=bt?bt.prototype:i,fr=lr?lr.valueOf:i,pr=lr?lr.toString:i;function dr(e){if(Rs(e)&&!gs(e)&&!(e instanceof gr)){if(e instanceof mr)return e;if(lt.call(e,"__wrapped__"))return pa(e)}return new mr(e)}var hr=function(){function e(){}return function(t){if(!ks(t))return{};if(Pt)return Pt(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function vr(){}function mr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function gr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=j,this.__views__=[]}function yr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function br(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Cr(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new br;++t<n;)this.add(e[t])}function Ar(e){var t=this.__data__=new _r(e);this.size=t.size}function Er(e,t){var n=gs(e),r=!n&&ms(e),o=!n&&!r&&Cs(e),i=!n&&!r&&!o&&Us(e),a=n||r||o||i,s=a?mn(e.length,rt):[],u=s.length;for(var c in e)!t&&!lt.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||zi(c,u))||s.push(c);return s}function Sr(e){var t=e.length;return t?e[Ao(0,t-1)]:i}function Tr(e,t){return ua(ri(e),Dr(t,0,e.length))}function wr(e){return ua(ri(e))}function kr(e,t,n){(n===i||ds(e[t],n))&&(n!==i||t in e)||Pr(e,t,n)}function Rr(e,t,n){var r=e[t];lt.call(e,t)&&ds(r,n)&&(n!==i||t in e)||Pr(e,t,n)}function Or(e,t){for(var n=e.length;n--;)if(ds(e[n][0],t))return n;return-1}function xr(e,t,n,r){return Fr(e,function(e,o,i){t(r,e,n(e),i)}),r}function Ir(e,t){return e&&oi(t,ou(t),e)}function Pr(e,t,n){"__proto__"==t&&dn?dn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Nr(e,t){for(var n=-1,o=t.length,a=r(o),s=null==e;++n<o;)a[n]=s?i:$s(e,t[n]);return a}function Dr(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function Mr(e,t,n,r,o,a){var s,u=t&p,c=t&d,l=t&h;if(n&&(s=o?n(e,r,o,a):n(e)),s!==i)return s;if(!ks(e))return e;var f=gs(e);if(f){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&lt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!u)return ri(e,s)}else{var v=qi(e),m=v==K||v==Q;if(Cs(e))return Zo(e,u);if(v==$||v==H||m&&!o){if(s=c||m?{}:Vi(e),!u)return c?function(e,t){return oi(e,Hi(e),t)}(e,function(e,t){return e&&oi(t,iu(t),e)}(s,e)):function(e,t){return oi(e,Bi(e),t)}(e,Ir(s,e))}else{if(!kt[v])return o?e:{};s=function(e,t,n){var r,o,i,a=e.constructor;switch(t){case ue:return Xo(e);case V:case G:return new a(+e);case ce:return function(e,t){var n=t?Xo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case le:case fe:case pe:case de:case he:case ve:case me:case ge:case ye:return $o(e,n);case J:return new a;case Z:case re:return new a(e);case te:return(i=new(o=e).constructor(o.source,We.exec(o))).lastIndex=o.lastIndex,i;case ne:return new a;case oe:return r=e,fr?tt(fr.call(r)):{}}}(e,v,u)}}a||(a=new Ar);var g=a.get(e);if(g)return g;if(a.set(e,s),Ns(e))return e.forEach(function(r){s.add(Mr(r,t,n,r,e,a))}),s;if(Os(e))return e.forEach(function(r,o){s.set(o,Mr(r,t,n,o,e,a))}),s;var y=f?i:(l?c?Pi:Ii:c?iu:ou)(e);return Yt(y||e,function(r,o){y&&(r=e[o=r]),Rr(s,o,Mr(r,t,n,o,e,a))}),s}function Ur(e,t,n){var r=n.length;if(null==e)return!r;for(e=tt(e);r--;){var o=n[r],a=t[o],s=e[o];if(s===i&&!(o in e)||!a(s))return!1}return!0}function jr(e,t,n){if("function"!=typeof e)throw new ot(u);return oa(function(){e.apply(i,n)},t)}function Lr(e,t,n,r){var o=-1,i=Zt,s=!0,u=e.length,c=[],l=t.length;if(!u)return c;n&&(t=$t(t,gn(n))),r?(i=Xt,s=!1):t.length>=a&&(i=_n,s=!1,t=new Cr(t));e:for(;++o<u;){var f=e[o],p=null==n?f:n(f);if(f=r||0!==f?f:0,s&&p==p){for(var d=l;d--;)if(t[d]===p)continue e;c.push(f)}else i(t,p,r)||c.push(f)}return c}dr.templateSettings={escape:we,evaluate:ke,interpolate:Re,variable:"",imports:{_:dr}},dr.prototype=vr.prototype,dr.prototype.constructor=dr,mr.prototype=hr(vr.prototype),mr.prototype.constructor=mr,gr.prototype=hr(vr.prototype),gr.prototype.constructor=gr,yr.prototype.clear=function(){this.__data__=nr?nr(null):{},this.size=0},yr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},yr.prototype.get=function(e){var t=this.__data__;if(nr){var n=t[e];return n===c?i:n}return lt.call(t,e)?t[e]:i},yr.prototype.has=function(e){var t=this.__data__;return nr?t[e]!==i:lt.call(t,e)},yr.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=nr&&t===i?c:t,this},_r.prototype.clear=function(){this.__data__=[],this.size=0},_r.prototype.delete=function(e){var t=this.__data__,n=Or(t,e);return!(n<0||(n==t.length-1?t.pop():Mt.call(t,n,1),--this.size,0))},_r.prototype.get=function(e){var t=this.__data__,n=Or(t,e);return n<0?i:t[n][1]},_r.prototype.has=function(e){return Or(this.__data__,e)>-1},_r.prototype.set=function(e,t){var n=this.__data__,r=Or(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},br.prototype.clear=function(){this.size=0,this.__data__={hash:new yr,map:new(Xn||_r),string:new yr}},br.prototype.delete=function(e){var t=ji(this,e).delete(e);return this.size-=t?1:0,t},br.prototype.get=function(e){return ji(this,e).get(e)},br.prototype.has=function(e){return ji(this,e).has(e)},br.prototype.set=function(e,t){var n=ji(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Cr.prototype.add=Cr.prototype.push=function(e){return this.__data__.set(e,c),this},Cr.prototype.has=function(e){return this.__data__.has(e)},Ar.prototype.clear=function(){this.__data__=new _r,this.size=0},Ar.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ar.prototype.get=function(e){return this.__data__.get(e)},Ar.prototype.has=function(e){return this.__data__.has(e)},Ar.prototype.set=function(e,t){var n=this.__data__;if(n instanceof _r){var r=n.__data__;if(!Xn||r.length<a-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new br(r)}return n.set(e,t),this.size=n.size,this};var Fr=si(Yr),Br=si(Kr,!0);function Hr(e,t){var n=!0;return Fr(e,function(e,r,o){return n=!!t(e,r,o)}),n}function qr(e,t,n){for(var r=-1,o=e.length;++r<o;){var a=e[r],s=t(a);if(null!=s&&(u===i?s==s&&!Ms(s):n(s,u)))var u=s,c=a}return c}function Wr(e,t){var n=[];return Fr(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}function Vr(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=Gi),o||(o=[]);++i<a;){var s=e[i];t>0&&n(s)?t>1?Vr(s,t-1,n,r,o):en(o,s):r||(o[o.length]=s)}return o}var Gr=ui(),zr=ui(!0);function Yr(e,t){return e&&Gr(e,t,ou)}function Kr(e,t){return e&&zr(e,t,ou)}function Qr(e,t){return Jt(t,function(t){return Ss(e[t])})}function Jr(e,t){for(var n=0,r=(t=Yo(t,e)).length;null!=e&&n<r;)e=e[la(t[n++])];return n&&n==r?e:i}function Zr(e,t,n){var r=t(e);return gs(e)?r:en(r,n(e))}function Xr(e){return null==e?e===i?ie:X:on&&on in tt(e)?function(e){var t=lt.call(e,on),n=e[on];try{e[on]=i;var r=!0}catch(e){}var o=dt.call(e);return r&&(t?e[on]=n:delete e[on]),o}(e):function(e){return dt.call(e)}(e)}function $r(e,t){return e>t}function eo(e,t){return null!=e&&lt.call(e,t)}function to(e,t){return null!=e&&t in tt(e)}function no(e,t,n){for(var o=n?Xt:Zt,a=e[0].length,s=e.length,u=s,c=r(s),l=1/0,f=[];u--;){var p=e[u];u&&t&&(p=$t(p,gn(t))),l=zn(p.length,l),c[u]=!n&&(t||a>=120&&p.length>=120)?new Cr(u&&p):i}p=e[0];var d=-1,h=c[0];e:for(;++d<a&&f.length<l;){var v=p[d],m=t?t(v):v;if(v=n||0!==v?v:0,!(h?_n(h,m):o(f,m,n))){for(u=s;--u;){var g=c[u];if(!(g?_n(g,m):o(e[u],m,n)))continue e}h&&h.push(m),f.push(v)}}return f}function ro(e,t,n){var r=null==(e=ta(e,t=Yo(t,e)))?e:e[la(Ea(t))];return null==r?i:Gt(r,e,n)}function oo(e){return Rs(e)&&Xr(e)==H}function io(e,t,n,r,o){return e===t||(null==e||null==t||!Rs(e)&&!Rs(t)?e!=e&&t!=t:function(e,t,n,r,o,a){var s=gs(e),u=gs(t),c=s?q:qi(e),l=u?q:qi(t),f=(c=c==H?$:c)==$,p=(l=l==H?$:l)==$,d=c==l;if(d&&Cs(e)){if(!Cs(t))return!1;s=!0,f=!1}if(d&&!f)return a||(a=new Ar),s||Us(e)?Oi(e,t,n,r,o,a):function(e,t,n,r,o,i,a){switch(n){case ce:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ue:return!(e.byteLength!=t.byteLength||!i(new At(e),new At(t)));case V:case G:case Z:return ds(+e,+t);case Y:return e.name==t.name&&e.message==t.message;case te:case re:return e==t+"";case J:var s=wn;case ne:var u=r&v;if(s||(s=On),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=m,a.set(e,t);var l=Oi(s(e),s(t),r,o,i,a);return a.delete(e),l;case oe:if(fr)return fr.call(e)==fr.call(t)}return!1}(e,t,c,n,r,o,a);if(!(n&v)){var h=f&&lt.call(e,"__wrapped__"),g=p&&lt.call(t,"__wrapped__");if(h||g){var y=h?e.value():e,_=g?t.value():t;return a||(a=new Ar),o(y,_,n,r,a)}}return!!d&&(a||(a=new Ar),function(e,t,n,r,o,a){var s=n&v,u=Ii(e),c=u.length,l=Ii(t).length;if(c!=l&&!s)return!1;for(var f=c;f--;){var p=u[f];if(!(s?p in t:lt.call(t,p)))return!1}var d=a.get(e);if(d&&a.get(t))return d==t;var h=!0;a.set(e,t),a.set(t,e);for(var m=s;++f<c;){p=u[f];var g=e[p],y=t[p];if(r)var _=s?r(y,g,p,t,e,a):r(g,y,p,e,t,a);if(!(_===i?g===y||o(g,y,n,r,a):_)){h=!1;break}m||(m="constructor"==p)}if(h&&!m){var b=e.constructor,C=t.constructor;b!=C&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof C&&C instanceof C)&&(h=!1)}return a.delete(e),a.delete(t),h}(e,t,n,r,o,a))}(e,t,n,r,io,o))}function ao(e,t,n,r){var o=n.length,a=o,s=!r;if(null==e)return!a;for(e=tt(e);o--;){var u=n[o];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<a;){var c=(u=n[o])[0],l=e[c],f=u[1];if(s&&u[2]){if(l===i&&!(c in e))return!1}else{var p=new Ar;if(r)var d=r(l,f,c,e,t,p);if(!(d===i?io(f,l,v|m,r,p):d))return!1}}return!0}function so(e){return!(!ks(e)||(t=e,pt&&pt in t))&&(Ss(e)?mt:ze).test(fa(e));var t}function uo(e){return"function"==typeof e?e:null==e?xu:"object"==typeof e?gs(e)?vo(e[0],e[1]):ho(e):Fu(e)}function co(e){if(!Zi(e))return Vn(e);var t=[];for(var n in tt(e))lt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function lo(e){if(!ks(e))return function(e){var t=[];if(null!=e)for(var n in tt(e))t.push(n);return t}(e);var t=Zi(e),n=[];for(var r in e)("constructor"!=r||!t&&lt.call(e,r))&&n.push(r);return n}function fo(e,t){return e<t}function po(e,t){var n=-1,o=_s(e)?r(e.length):[];return Fr(e,function(e,r,i){o[++n]=t(e,r,i)}),o}function ho(e){var t=Li(e);return 1==t.length&&t[0][2]?$i(t[0][0],t[0][1]):function(n){return n===e||ao(n,e,t)}}function vo(e,t){return Ki(e)&&Xi(t)?$i(la(e),t):function(n){var r=$s(n,e);return r===i&&r===t?eu(n,e):io(t,r,v|m)}}function mo(e,t,n,r,o){e!==t&&Gr(t,function(a,s){if(ks(a))o||(o=new Ar),function(e,t,n,r,o,a,s){var u=na(e,n),c=na(t,n),l=s.get(c);if(l)kr(e,n,l);else{var f=a?a(u,c,n+"",e,t,s):i,p=f===i;if(p){var d=gs(c),h=!d&&Cs(c),v=!d&&!h&&Us(c);f=c,d||h||v?gs(u)?f=u:bs(u)?f=ri(u):h?(p=!1,f=Zo(c,!0)):v?(p=!1,f=$o(c,!0)):f=[]:Is(c)||ms(c)?(f=u,ms(u)?f=Vs(u):ks(u)&&!Ss(u)||(f=Vi(c))):p=!1}p&&(s.set(c,f),o(f,c,r,a,s),s.delete(c)),kr(e,n,f)}}(e,t,s,n,mo,r,o);else{var u=r?r(na(e,s),a,s+"",e,t,o):i;u===i&&(u=a),kr(e,s,u)}},iu)}function go(e,t){var n=e.length;if(n)return zi(t+=t<0?n:0,n)?e[t]:i}function yo(e,t,n){var r=-1;return t=$t(t.length?t:[xu],gn(Ui())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(po(e,function(e,n,o){return{criteria:$t(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return function(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;++r<a;){var u=ei(o[r],i[r]);if(u){if(r>=s)return u;var c=n[r];return u*("desc"==c?-1:1)}}return e.index-t.index}(e,t,n)})}function _o(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=Jr(e,a);n(s,a)&&ko(i,Yo(a,e),s)}return i}function bo(e,t,n,r){var o=r?cn:un,i=-1,a=t.length,s=e;for(e===t&&(t=ri(t)),n&&(s=$t(e,gn(n)));++i<a;)for(var u=0,c=t[i],l=n?n(c):c;(u=o(s,l,u,r))>-1;)s!==e&&Mt.call(s,u,1),Mt.call(e,u,1);return e}function Co(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;zi(o)?Mt.call(e,o,1):Fo(e,o)}}return e}function Ao(e,t){return e+Fn(Qn()*(t-e+1))}function Eo(e,t){var n="";if(!e||t<1||t>D)return n;do{t%2&&(n+=e),(t=Fn(t/2))&&(e+=e)}while(t);return n}function So(e,t){return ia(ea(e,t,xu),e+"")}function To(e){return Sr(du(e))}function wo(e,t){var n=du(e);return ua(n,Dr(t,0,n.length))}function ko(e,t,n,r){if(!ks(e))return e;for(var o=-1,a=(t=Yo(t,e)).length,s=a-1,u=e;null!=u&&++o<a;){var c=la(t[o]),l=n;if(o!=s){var f=u[c];(l=r?r(f,c,u):i)===i&&(l=ks(f)?f:zi(t[o+1])?[]:{})}Rr(u,c,l),u=u[c]}return e}var Ro=rr?function(e,t){return rr.set(e,t),e}:xu,Oo=dn?function(e,t){return dn(e,"toString",{configurable:!0,enumerable:!1,value:ku(t),writable:!0})}:xu;function xo(e){return ua(du(e))}function Io(e,t,n){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=r(i);++o<i;)a[o]=e[o+t];return a}function Po(e,t){var n;return Fr(e,function(e,r,o){return!(n=t(e,r,o))}),!!n}function No(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=F){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!Ms(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return Do(e,t,xu,n)}function Do(e,t,n,r){t=n(t);for(var o=0,a=null==e?0:e.length,s=t!=t,u=null===t,c=Ms(t),l=t===i;o<a;){var f=Fn((o+a)/2),p=n(e[f]),d=p!==i,h=null===p,v=p==p,m=Ms(p);if(s)var g=r||v;else g=l?v&&(r||d):u?v&&d&&(r||!h):c?v&&d&&!h&&(r||!m):!h&&!m&&(r?p<=t:p<t);g?o=f+1:a=f}return zn(a,L)}function Mo(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!ds(s,u)){var u=s;i[o++]=0===a?0:a}}return i}function Uo(e){return"number"==typeof e?e:Ms(e)?U:+e}function jo(e){if("string"==typeof e)return e;if(gs(e))return $t(e,jo)+"";if(Ms(e))return pr?pr.call(e):"";var t=e+"";return"0"==t&&1/e==-N?"-0":t}function Lo(e,t,n){var r=-1,o=Zt,i=e.length,s=!0,u=[],c=u;if(n)s=!1,o=Xt;else if(i>=a){var l=t?null:Ei(e);if(l)return On(l);s=!1,o=_n,c=new Cr}else c=t?[]:u;e:for(;++r<i;){var f=e[r],p=t?t(f):f;if(f=n||0!==f?f:0,s&&p==p){for(var d=c.length;d--;)if(c[d]===p)continue e;t&&c.push(p),u.push(f)}else o(c,p,n)||(c!==u&&c.push(p),u.push(f))}return u}function Fo(e,t){return null==(e=ta(e,t=Yo(t,e)))||delete e[la(Ea(t))]}function Bo(e,t,n,r){return ko(e,t,n(Jr(e,t)),r)}function Ho(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?Io(e,r?0:i,r?i+1:o):Io(e,r?i+1:0,r?o:i)}function qo(e,t){var n=e;return n instanceof gr&&(n=n.value()),tn(t,function(e,t){return t.func.apply(t.thisArg,en([e],t.args))},n)}function Wo(e,t,n){var o=e.length;if(o<2)return o?Lo(e[0]):[];for(var i=-1,a=r(o);++i<o;)for(var s=e[i],u=-1;++u<o;)u!=i&&(a[i]=Lr(a[i]||s,e[u],t,n));return Lo(Vr(a,1),t,n)}function Vo(e,t,n){for(var r=-1,o=e.length,a=t.length,s={};++r<o;){var u=r<a?t[r]:i;n(s,e[r],u)}return s}function Go(e){return bs(e)?e:[]}function zo(e){return"function"==typeof e?e:xu}function Yo(e,t){return gs(e)?e:Ki(e,t)?[e]:ca(Gs(e))}var Ko=So;function Qo(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:Io(e,t,n)}var Jo=Mn||function(e){return Nt.clearTimeout(e)};function Zo(e,t){if(t)return e.slice();var n=e.length,r=Rt?Rt(n):new e.constructor(n);return e.copy(r),r}function Xo(e){var t=new e.constructor(e.byteLength);return new At(t).set(new At(e)),t}function $o(e,t){var n=t?Xo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ei(e,t){if(e!==t){var n=e!==i,r=null===e,o=e==e,a=Ms(e),s=t!==i,u=null===t,c=t==t,l=Ms(t);if(!u&&!l&&!a&&e>t||a&&s&&c&&!u&&!l||r&&s&&c||!n&&c||!o)return 1;if(!r&&!a&&!l&&e<t||l&&n&&o&&!r&&!a||u&&n&&o||!s&&o||!c)return-1}return 0}function ti(e,t,n,o){for(var i=-1,a=e.length,s=n.length,u=-1,c=t.length,l=Gn(a-s,0),f=r(c+l),p=!o;++u<c;)f[u]=t[u];for(;++i<s;)(p||i<a)&&(f[n[i]]=e[i]);for(;l--;)f[u++]=e[i++];return f}function ni(e,t,n,o){for(var i=-1,a=e.length,s=-1,u=n.length,c=-1,l=t.length,f=Gn(a-u,0),p=r(f+l),d=!o;++i<f;)p[i]=e[i];for(var h=i;++c<l;)p[h+c]=t[c];for(;++s<u;)(d||i<a)&&(p[h+n[s]]=e[i++]);return p}function ri(e,t){var n=-1,o=e.length;for(t||(t=r(o));++n<o;)t[n]=e[n];return t}function oi(e,t,n,r){var o=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var u=t[a],c=r?r(n[u],e[u],u,n,e):i;c===i&&(c=e[u]),o?Pr(n,u,c):Rr(n,u,c)}return n}function ii(e,t){return function(n,r){var o=gs(n)?zt:xr,i=t?t():{};return o(n,e,Ui(r,2),i)}}function ai(e){return So(function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,s=o>2?n[2]:i;for(a=e.length>3&&"function"==typeof a?(o--,a):i,s&&Yi(n[0],n[1],s)&&(a=o<3?i:a,o=1),t=tt(t);++r<o;){var u=n[r];u&&e(t,u,r,a)}return t})}function si(e,t){return function(n,r){if(null==n)return n;if(!_s(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=tt(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function ui(e){return function(t,n,r){for(var o=-1,i=tt(t),a=r(t),s=a.length;s--;){var u=a[e?s:++o];if(!1===n(i[u],u,i))break}return t}}function ci(e){return function(t){var n=Tn(t=Gs(t))?Pn(t):i,r=n?n[0]:t.charAt(0),o=n?Qo(n,1).join(""):t.slice(1);return r[e]()+o}}function li(e){return function(t){return tn(Su(mu(t).replace(yt,"")),e,"")}}function fi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=hr(e.prototype),r=e.apply(n,t);return ks(r)?r:n}}function pi(e){return function(t,n,r){var o=tt(t);if(!_s(t)){var a=Ui(n,3);t=ou(t),n=function(e){return a(o[e],e,o)}}var s=e(t,n,r);return s>-1?o[a?t[s]:s]:i}}function di(e){return xi(function(t){var n=t.length,r=n,o=mr.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new ot(u);if(o&&!s&&"wrapper"==Di(a))var s=new mr([],!0)}for(r=s?r:n;++r<n;){var c=Di(a=t[r]),l="wrapper"==c?Ni(a):i;s=l&&Qi(l[0])&&l[1]==(S|b|A|T)&&!l[4].length&&1==l[9]?s[Di(l[0])].apply(s,l[3]):1==a.length&&Qi(a)?s[c]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&gs(r))return s.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}})}function hi(e,t,n,o,a,s,u,c,l,f){var p=t&S,d=t&g,h=t&y,v=t&(b|C),m=t&w,_=h?i:fi(e);return function g(){for(var y=arguments.length,b=r(y),C=y;C--;)b[C]=arguments[C];if(v)var A=Mi(g),E=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(b,A);if(o&&(b=ti(b,o,a,v)),s&&(b=ni(b,s,u,v)),y-=E,v&&y<f){var S=Rn(b,A);return Ci(e,t,hi,g.placeholder,n,b,S,c,l,f-y)}var T=d?n:this,w=h?T[e]:e;return y=b.length,c?b=function(e,t){for(var n=e.length,r=zn(t.length,n),o=ri(e);r--;){var a=t[r];e[r]=zi(a,n)?o[a]:i}return e}(b,c):m&&y>1&&b.reverse(),p&&l<y&&(b.length=l),this&&this!==Nt&&this instanceof g&&(w=_||fi(w)),w.apply(T,b)}}function vi(e,t){return function(n,r){return function(e,t,n,r){return Yr(e,function(e,o,i){t(r,n(e),o,i)}),r}(n,e,t(r),{})}}function mi(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=jo(n),r=jo(r)):(n=Uo(n),r=Uo(r)),o=e(n,r)}return o}}function gi(e){return xi(function(t){return t=$t(t,gn(Ui())),So(function(n){var r=this;return e(t,function(e){return Gt(e,r,n)})})})}function yi(e,t){var n=(t=t===i?" ":jo(t)).length;if(n<2)return n?Eo(t,e):t;var r=Eo(t,Ln(e/In(t)));return Tn(t)?Qo(Pn(r),0,e).join(""):r.slice(0,e)}function _i(e){return function(t,n,o){return o&&"number"!=typeof o&&Yi(t,n,o)&&(n=o=i),t=Bs(t),n===i?(n=t,t=0):n=Bs(n),function(e,t,n,o){for(var i=-1,a=Gn(Ln((t-e)/(n||1)),0),s=r(a);a--;)s[o?a:++i]=e,e+=n;return s}(t,n,o=o===i?t<n?1:-1:Bs(o),e)}}function bi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Ws(t),n=Ws(n)),e(t,n)}}function Ci(e,t,n,r,o,a,s,u,c,l){var f=t&b;t|=f?A:E,(t&=~(f?E:A))&_||(t&=~(g|y));var p=[e,t,o,f?a:i,f?s:i,f?i:a,f?i:s,u,c,l],d=n.apply(i,p);return Qi(e)&&ra(d,p),d.placeholder=r,aa(d,e,t)}function Ai(e){var t=et[e];return function(e,n){if(e=Ws(e),n=null==n?0:zn(Hs(n),292)){var r=(Gs(e)+"e").split("e");return+((r=(Gs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ei=er&&1/On(new er([,-0]))[1]==N?function(e){return new er(e)}:Mu;function Si(e){return function(t){var n=qi(t);return n==J?wn(t):n==ne?xn(t):function(e,t){return $t(t,function(t){return[t,e[t]]})}(t,e(t))}}function Ti(e,t,n,o,a,s,c,l){var p=t&y;if(!p&&"function"!=typeof e)throw new ot(u);var d=o?o.length:0;if(d||(t&=~(A|E),o=a=i),c=c===i?c:Gn(Hs(c),0),l=l===i?l:Hs(l),d-=a?a.length:0,t&E){var h=o,v=a;o=a=i}var m=p?i:Ni(e),w=[e,t,n,o,a,h,v,s,c,l];if(m&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<(g|y|S),a=r==S&&n==b||r==S&&n==T&&e[7].length<=t[8]||r==(S|T)&&t[7].length<=t[8]&&n==b;if(!i&&!a)return e;r&g&&(e[2]=t[2],o|=n&g?0:_);var s=t[3];if(s){var u=e[3];e[3]=u?ti(u,s,t[4]):s,e[4]=u?Rn(e[3],f):t[4]}(s=t[5])&&(u=e[5],e[5]=u?ni(u,s,t[6]):s,e[6]=u?Rn(e[5],f):t[6]),(s=t[7])&&(e[7]=s),r&S&&(e[8]=null==e[8]?t[8]:zn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o}(w,m),e=w[0],t=w[1],n=w[2],o=w[3],a=w[4],!(l=w[9]=w[9]===i?p?0:e.length:Gn(w[9]-d,0))&&t&(b|C)&&(t&=~(b|C)),t&&t!=g)k=t==b||t==C?function(e,t,n){var o=fi(e);return function a(){for(var s=arguments.length,u=r(s),c=s,l=Mi(a);c--;)u[c]=arguments[c];var f=s<3&&u[0]!==l&&u[s-1]!==l?[]:Rn(u,l);return(s-=f.length)<n?Ci(e,t,hi,a.placeholder,i,u,f,i,i,n-s):Gt(this&&this!==Nt&&this instanceof a?o:e,this,u)}}(e,t,l):t!=A&&t!=(g|A)||a.length?hi.apply(i,w):function(e,t,n,o){var i=t&g,a=fi(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=o.length,f=r(l+u),p=this&&this!==Nt&&this instanceof t?a:e;++c<l;)f[c]=o[c];for(;u--;)f[c++]=arguments[++s];return Gt(p,i?n:this,f)}}(e,t,n,o);else var k=function(e,t,n){var r=t&g,o=fi(e);return function t(){return(this&&this!==Nt&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,n);return aa((m?Ro:ra)(k,w),e,t)}function wi(e,t,n,r){return e===i||ds(e,st[n])&&!lt.call(r,n)?t:e}function ki(e,t,n,r,o,a){return ks(e)&&ks(t)&&(a.set(t,e),mo(e,t,i,ki,a),a.delete(t)),e}function Ri(e){return Is(e)?i:e}function Oi(e,t,n,r,o,a){var s=n&v,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var l=a.get(e);if(l&&a.get(t))return l==t;var f=-1,p=!0,d=n&m?new Cr:i;for(a.set(e,t),a.set(t,e);++f<u;){var h=e[f],g=t[f];if(r)var y=s?r(g,h,f,t,e,a):r(h,g,f,e,t,a);if(y!==i){if(y)continue;p=!1;break}if(d){if(!rn(t,function(e,t){if(!_n(d,t)&&(h===e||o(h,e,n,r,a)))return d.push(t)})){p=!1;break}}else if(h!==g&&!o(h,g,n,r,a)){p=!1;break}}return a.delete(e),a.delete(t),p}function xi(e){return ia(ea(e,i,ya),e+"")}function Ii(e){return Zr(e,ou,Bi)}function Pi(e){return Zr(e,iu,Hi)}var Ni=rr?function(e){return rr.get(e)}:Mu;function Di(e){for(var t=e.name+"",n=or[t],r=lt.call(or,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function Mi(e){return(lt.call(dr,"placeholder")?dr:e).placeholder}function Ui(){var e=dr.iteratee||Iu;return e=e===Iu?uo:e,arguments.length?e(arguments[0],arguments[1]):e}function ji(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Li(e){for(var t=ou(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Xi(o)]}return t}function Fi(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return so(n)?n:i}var Bi=Bn?function(e){return null==e?[]:(e=tt(e),Jt(Bn(e),function(t){return Dt.call(e,t)}))}:qu,Hi=Bn?function(e){for(var t=[];e;)en(t,Bi(e)),e=It(e);return t}:qu,qi=Xr;function Wi(e,t,n){for(var r=-1,o=(t=Yo(t,e)).length,i=!1;++r<o;){var a=la(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&ws(o)&&zi(a,o)&&(gs(e)||ms(e))}function Vi(e){return"function"!=typeof e.constructor||Zi(e)?{}:hr(It(e))}function Gi(e){return gs(e)||ms(e)||!!(jt&&e&&e[jt])}function zi(e,t){var n=typeof e;return!!(t=null==t?D:t)&&("number"==n||"symbol"!=n&&Ke.test(e))&&e>-1&&e%1==0&&e<t}function Yi(e,t,n){if(!ks(n))return!1;var r=typeof t;return!!("number"==r?_s(n)&&zi(t,n.length):"string"==r&&t in n)&&ds(n[t],e)}function Ki(e,t){if(gs(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ms(e))||xe.test(e)||!Oe.test(e)||null!=t&&e in tt(t)}function Qi(e){var t=Di(e),n=dr[t];if("function"!=typeof n||!(t in gr.prototype))return!1;if(e===n)return!0;var r=Ni(n);return!!r&&e===r[0]}(Zn&&qi(new Zn(new ArrayBuffer(1)))!=ce||Xn&&qi(new Xn)!=J||$n&&"[object Promise]"!=qi($n.resolve())||er&&qi(new er)!=ne||tr&&qi(new tr)!=ae)&&(qi=function(e){var t=Xr(e),n=t==$?e.constructor:i,r=n?fa(n):"";if(r)switch(r){case ir:return ce;case ar:return J;case sr:return"[object Promise]";case ur:return ne;case cr:return ae}return t});var Ji=ut?Ss:Wu;function Zi(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||st)}function Xi(e){return e==e&&!ks(e)}function $i(e,t){return function(n){return null!=n&&n[e]===t&&(t!==i||e in tt(n))}}function ea(e,t,n){return t=Gn(t===i?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=Gn(o.length-t,0),s=r(a);++i<a;)s[i]=o[t+i];i=-1;for(var u=r(t+1);++i<t;)u[i]=o[i];return u[t]=n(s),Gt(e,this,u)}}function ta(e,t){return t.length<2?e:Jr(e,Io(t,0,-1))}function na(e,t){if("__proto__"!=t)return e[t]}var ra=sa(Ro),oa=jn||function(e,t){return Nt.setTimeout(e,t)},ia=sa(Oo);function aa(e,t,n){var r=t+"";return ia(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(je,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Yt(B,function(n){var r="_."+n[0];t&n[1]&&!Zt(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(Le);return t?t[1].split(Fe):[]}(r),n)))}function sa(e){var t=0,n=0;return function(){var r=Yn(),o=x-(r-n);if(n=r,o>0){if(++t>=O)return arguments[0]}else t=0;return e.apply(i,arguments)}}function ua(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var a=Ao(n,o),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var ca=function(e){var t=ss(e,function(e){return n.size===l&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ie,function(e,n,r,o){t.push(r?o.replace(He,"$1"):n||e)}),t});function la(e){if("string"==typeof e||Ms(e))return e;var t=e+"";return"0"==t&&1/e==-N?"-0":t}function fa(e){if(null!=e){try{return ct.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function pa(e){if(e instanceof gr)return e.clone();var t=new mr(e.__wrapped__,e.__chain__);return t.__actions__=ri(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var da=So(function(e,t){return bs(e)?Lr(e,Vr(t,1,bs,!0)):[]}),ha=So(function(e,t){var n=Ea(t);return bs(n)&&(n=i),bs(e)?Lr(e,Vr(t,1,bs,!0),Ui(n,2)):[]}),va=So(function(e,t){var n=Ea(t);return bs(n)&&(n=i),bs(e)?Lr(e,Vr(t,1,bs,!0),i,n):[]});function ma(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:Hs(n);return o<0&&(o=Gn(r+o,0)),sn(e,Ui(t,3),o)}function ga(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=Hs(n),o=n<0?Gn(r+o,0):zn(o,r-1)),sn(e,Ui(t,3),o,!0)}function ya(e){return null!=e&&e.length?Vr(e,1):[]}function _a(e){return e&&e.length?e[0]:i}var ba=So(function(e){var t=$t(e,Go);return t.length&&t[0]===e[0]?no(t):[]}),Ca=So(function(e){var t=Ea(e),n=$t(e,Go);return t===Ea(n)?t=i:n.pop(),n.length&&n[0]===e[0]?no(n,Ui(t,2)):[]}),Aa=So(function(e){var t=Ea(e),n=$t(e,Go);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?no(n,i,t):[]});function Ea(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Sa=So(Ta);function Ta(e,t){return e&&e.length&&t&&t.length?bo(e,t):e}var wa=xi(function(e,t){var n=null==e?0:e.length,r=Nr(e,t);return Co(e,$t(t,function(e){return zi(e,n)?+e:e}).sort(ei)),r});function ka(e){return null==e?e:Jn.call(e)}var Ra=So(function(e){return Lo(Vr(e,1,bs,!0))}),Oa=So(function(e){var t=Ea(e);return bs(t)&&(t=i),Lo(Vr(e,1,bs,!0),Ui(t,2))}),xa=So(function(e){var t=Ea(e);return t="function"==typeof t?t:i,Lo(Vr(e,1,bs,!0),i,t)});function Ia(e){if(!e||!e.length)return[];var t=0;return e=Jt(e,function(e){if(bs(e))return t=Gn(e.length,t),!0}),mn(t,function(t){return $t(e,pn(t))})}function Pa(e,t){if(!e||!e.length)return[];var n=Ia(e);return null==t?n:$t(n,function(e){return Gt(t,i,e)})}var Na=So(function(e,t){return bs(e)?Lr(e,t):[]}),Da=So(function(e){return Wo(Jt(e,bs))}),Ma=So(function(e){var t=Ea(e);return bs(t)&&(t=i),Wo(Jt(e,bs),Ui(t,2))}),Ua=So(function(e){var t=Ea(e);return t="function"==typeof t?t:i,Wo(Jt(e,bs),i,t)}),ja=So(Ia);var La=So(function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,Pa(e,n)});function Fa(e){var t=dr(e);return t.__chain__=!0,t}function Ba(e,t){return t(e)}var Ha=xi(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return Nr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof gr&&zi(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:Ba,args:[o],thisArg:i}),new mr(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(i),e})):this.thru(o)});var qa=ii(function(e,t,n){lt.call(e,n)?++e[n]:Pr(e,n,1)});var Wa=pi(ma),Va=pi(ga);function Ga(e,t){return(gs(e)?Yt:Fr)(e,Ui(t,3))}function za(e,t){return(gs(e)?Kt:Br)(e,Ui(t,3))}var Ya=ii(function(e,t,n){lt.call(e,n)?e[n].push(t):Pr(e,n,[t])});var Ka=So(function(e,t,n){var o=-1,i="function"==typeof t,a=_s(e)?r(e.length):[];return Fr(e,function(e){a[++o]=i?Gt(t,e,n):ro(e,t,n)}),a}),Qa=ii(function(e,t,n){Pr(e,n,t)});function Ja(e,t){return(gs(e)?$t:po)(e,Ui(t,3))}var Za=ii(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var Xa=So(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Yi(e,t[0],t[1])?t=[]:n>2&&Yi(t[0],t[1],t[2])&&(t=[t[0]]),yo(e,Vr(t,1),[])}),$a=Un||function(){return Nt.Date.now()};function es(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Ti(e,S,i,i,i,i,t)}function ts(e,t){var n;if("function"!=typeof t)throw new ot(u);return e=Hs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var ns=So(function(e,t,n){var r=g;if(n.length){var o=Rn(n,Mi(ns));r|=A}return Ti(e,r,t,n,o)}),rs=So(function(e,t,n){var r=g|y;if(n.length){var o=Rn(n,Mi(rs));r|=A}return Ti(t,r,e,n,o)});function os(e,t,n){var r,o,a,s,c,l,f=0,p=!1,d=!1,h=!0;if("function"!=typeof e)throw new ot(u);function v(t){var n=r,a=o;return r=o=i,f=t,s=e.apply(a,n)}function m(e){var n=e-l;return l===i||n>=t||n<0||d&&e-f>=a}function g(){var e=$a();if(m(e))return y(e);c=oa(g,function(e){var n=t-(e-l);return d?zn(n,a-(e-f)):n}(e))}function y(e){return c=i,h&&r?v(e):(r=o=i,s)}function _(){var e=$a(),n=m(e);if(r=arguments,o=this,l=e,n){if(c===i)return function(e){return f=e,c=oa(g,t),p?v(e):s}(l);if(d)return c=oa(g,t),v(l)}return c===i&&(c=oa(g,t)),s}return t=Ws(t)||0,ks(n)&&(p=!!n.leading,a=(d="maxWait"in n)?Gn(Ws(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h),_.cancel=function(){c!==i&&Jo(c),f=0,r=l=o=c=i},_.flush=function(){return c===i?s:y($a())},_}var is=So(function(e,t){return jr(e,1,t)}),as=So(function(e,t,n){return jr(e,Ws(t)||0,n)});function ss(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ot(u);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(ss.Cache||br),n}function us(e){if("function"!=typeof e)throw new ot(u);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}ss.Cache=br;var cs=Ko(function(e,t){var n=(t=1==t.length&&gs(t[0])?$t(t[0],gn(Ui())):$t(Vr(t,1),gn(Ui()))).length;return So(function(r){for(var o=-1,i=zn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return Gt(e,this,r)})}),ls=So(function(e,t){var n=Rn(t,Mi(ls));return Ti(e,A,i,t,n)}),fs=So(function(e,t){var n=Rn(t,Mi(fs));return Ti(e,E,i,t,n)}),ps=xi(function(e,t){return Ti(e,T,i,i,i,t)});function ds(e,t){return e===t||e!=e&&t!=t}var hs=bi($r),vs=bi(function(e,t){return e>=t}),ms=oo(function(){return arguments}())?oo:function(e){return Rs(e)&&lt.call(e,"callee")&&!Dt.call(e,"callee")},gs=r.isArray,ys=Ft?gn(Ft):function(e){return Rs(e)&&Xr(e)==ue};function _s(e){return null!=e&&ws(e.length)&&!Ss(e)}function bs(e){return Rs(e)&&_s(e)}var Cs=Hn||Wu,As=Bt?gn(Bt):function(e){return Rs(e)&&Xr(e)==G};function Es(e){if(!Rs(e))return!1;var t=Xr(e);return t==Y||t==z||"string"==typeof e.message&&"string"==typeof e.name&&!Is(e)}function Ss(e){if(!ks(e))return!1;var t=Xr(e);return t==K||t==Q||t==W||t==ee}function Ts(e){return"number"==typeof e&&e==Hs(e)}function ws(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=D}function ks(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Rs(e){return null!=e&&"object"==typeof e}var Os=Ht?gn(Ht):function(e){return Rs(e)&&qi(e)==J};function xs(e){return"number"==typeof e||Rs(e)&&Xr(e)==Z}function Is(e){if(!Rs(e)||Xr(e)!=$)return!1;var t=It(e);if(null===t)return!0;var n=lt.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ct.call(n)==ht}var Ps=qt?gn(qt):function(e){return Rs(e)&&Xr(e)==te};var Ns=Wt?gn(Wt):function(e){return Rs(e)&&qi(e)==ne};function Ds(e){return"string"==typeof e||!gs(e)&&Rs(e)&&Xr(e)==re}function Ms(e){return"symbol"==typeof e||Rs(e)&&Xr(e)==oe}var Us=Vt?gn(Vt):function(e){return Rs(e)&&ws(e.length)&&!!wt[Xr(e)]};var js=bi(fo),Ls=bi(function(e,t){return e<=t});function Fs(e){if(!e)return[];if(_s(e))return Ds(e)?Pn(e):ri(e);if(Lt&&e[Lt])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Lt]());var t=qi(e);return(t==J?wn:t==ne?On:du)(e)}function Bs(e){return e?(e=Ws(e))===N||e===-N?(e<0?-1:1)*M:e==e?e:0:0===e?e:0}function Hs(e){var t=Bs(e),n=t%1;return t==t?n?t-n:t:0}function qs(e){return e?Dr(Hs(e),0,j):0}function Ws(e){if("number"==typeof e)return e;if(Ms(e))return U;if(ks(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ks(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(De,"");var n=Ge.test(e);return n||Ye.test(e)?xt(e.slice(2),n?2:8):Ve.test(e)?U:+e}function Vs(e){return oi(e,iu(e))}function Gs(e){return null==e?"":jo(e)}var zs=ai(function(e,t){if(Zi(t)||_s(t))oi(t,ou(t),e);else for(var n in t)lt.call(t,n)&&Rr(e,n,t[n])}),Ys=ai(function(e,t){oi(t,iu(t),e)}),Ks=ai(function(e,t,n,r){oi(t,iu(t),e,r)}),Qs=ai(function(e,t,n,r){oi(t,ou(t),e,r)}),Js=xi(Nr);var Zs=So(function(e,t){e=tt(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&Yi(t[0],t[1],o)&&(r=1);++n<r;)for(var a=t[n],s=iu(a),u=-1,c=s.length;++u<c;){var l=s[u],f=e[l];(f===i||ds(f,st[l])&&!lt.call(e,l))&&(e[l]=a[l])}return e}),Xs=So(function(e){return e.push(i,ki),Gt(su,i,e)});function $s(e,t,n){var r=null==e?i:Jr(e,t);return r===i?n:r}function eu(e,t){return null!=e&&Wi(e,t,to)}var tu=vi(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=dt.call(t)),e[t]=n},ku(xu)),nu=vi(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=dt.call(t)),lt.call(e,t)?e[t].push(n):e[t]=[n]},Ui),ru=So(ro);function ou(e){return _s(e)?Er(e):co(e)}function iu(e){return _s(e)?Er(e,!0):lo(e)}var au=ai(function(e,t,n){mo(e,t,n)}),su=ai(function(e,t,n,r){mo(e,t,n,r)}),uu=xi(function(e,t){var n={};if(null==e)return n;var r=!1;t=$t(t,function(t){return t=Yo(t,e),r||(r=t.length>1),t}),oi(e,Pi(e),n),r&&(n=Mr(n,p|d|h,Ri));for(var o=t.length;o--;)Fo(n,t[o]);return n});var cu=xi(function(e,t){return null==e?{}:function(e,t){return _o(e,t,function(t,n){return eu(e,n)})}(e,t)});function lu(e,t){if(null==e)return{};var n=$t(Pi(e),function(e){return[e]});return t=Ui(t),_o(e,n,function(e,n){return t(e,n[0])})}var fu=Si(ou),pu=Si(iu);function du(e){return null==e?[]:yn(e,ou(e))}var hu=li(function(e,t,n){return t=t.toLowerCase(),e+(n?vu(t):t)});function vu(e){return Eu(Gs(e).toLowerCase())}function mu(e){return(e=Gs(e))&&e.replace(Qe,An).replace(_t,"")}var gu=li(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),yu=li(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),_u=ci("toLowerCase");var bu=li(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var Cu=li(function(e,t,n){return e+(n?" ":"")+Eu(t)});var Au=li(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Eu=ci("toUpperCase");function Su(e,t,n){return e=Gs(e),(t=n?i:t)===i?function(e){return Et.test(e)}(e)?function(e){return e.match(Ct)||[]}(e):function(e){return e.match(Be)||[]}(e):e.match(t)||[]}var Tu=So(function(e,t){try{return Gt(e,i,t)}catch(e){return Es(e)?e:new Xe(e)}}),wu=xi(function(e,t){return Yt(t,function(t){t=la(t),Pr(e,t,ns(e[t],e))}),e});function ku(e){return function(){return e}}var Ru=di(),Ou=di(!0);function xu(e){return e}function Iu(e){return uo("function"==typeof e?e:Mr(e,p))}var Pu=So(function(e,t){return function(n){return ro(n,e,t)}}),Nu=So(function(e,t){return function(n){return ro(e,n,t)}});function Du(e,t,n){var r=ou(t),o=Qr(t,r);null!=n||ks(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=Qr(t,ou(t)));var i=!(ks(n)&&"chain"in n&&!n.chain),a=Ss(e);return Yt(o,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=ri(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,en([this.value()],arguments))})}),e}function Mu(){}var Uu=gi($t),ju=gi(Qt),Lu=gi(rn);function Fu(e){return Ki(e)?pn(la(e)):function(e){return function(t){return Jr(t,e)}}(e)}var Bu=_i(),Hu=_i(!0);function qu(){return[]}function Wu(){return!1}var Vu=mi(function(e,t){return e+t},0),Gu=Ai("ceil"),zu=mi(function(e,t){return e/t},1),Yu=Ai("floor");var Ku,Qu=mi(function(e,t){return e*t},1),Ju=Ai("round"),Zu=mi(function(e,t){return e-t},0);return dr.after=function(e,t){if("function"!=typeof t)throw new ot(u);return e=Hs(e),function(){if(--e<1)return t.apply(this,arguments)}},dr.ary=es,dr.assign=zs,dr.assignIn=Ys,dr.assignInWith=Ks,dr.assignWith=Qs,dr.at=Js,dr.before=ts,dr.bind=ns,dr.bindAll=wu,dr.bindKey=rs,dr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return gs(e)?e:[e]},dr.chain=Fa,dr.chunk=function(e,t,n){t=(n?Yi(e,t,n):t===i)?1:Gn(Hs(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,s=0,u=r(Ln(o/t));a<o;)u[s++]=Io(e,a,a+=t);return u},dr.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},dr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return en(gs(n)?ri(n):[n],Vr(t,1))},dr.cond=function(e){var t=null==e?0:e.length,n=Ui();return e=t?$t(e,function(e){if("function"!=typeof e[1])throw new ot(u);return[n(e[0]),e[1]]}):[],So(function(n){for(var r=-1;++r<t;){var o=e[r];if(Gt(o[0],this,n))return Gt(o[1],this,n)}})},dr.conforms=function(e){return function(e){var t=ou(e);return function(n){return Ur(n,e,t)}}(Mr(e,p))},dr.constant=ku,dr.countBy=qa,dr.create=function(e,t){var n=hr(e);return null==t?n:Ir(n,t)},dr.curry=function e(t,n,r){var o=Ti(t,b,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},dr.curryRight=function e(t,n,r){var o=Ti(t,C,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},dr.debounce=os,dr.defaults=Zs,dr.defaultsDeep=Xs,dr.defer=is,dr.delay=as,dr.difference=da,dr.differenceBy=ha,dr.differenceWith=va,dr.drop=function(e,t,n){var r=null==e?0:e.length;return r?Io(e,(t=n||t===i?1:Hs(t))<0?0:t,r):[]},dr.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Io(e,0,(t=r-(t=n||t===i?1:Hs(t)))<0?0:t):[]},dr.dropRightWhile=function(e,t){return e&&e.length?Ho(e,Ui(t,3),!0,!0):[]},dr.dropWhile=function(e,t){return e&&e.length?Ho(e,Ui(t,3),!0):[]},dr.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&Yi(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=Hs(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:Hs(r))<0&&(r+=o),r=n>r?0:qs(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},dr.filter=function(e,t){return(gs(e)?Jt:Wr)(e,Ui(t,3))},dr.flatMap=function(e,t){return Vr(Ja(e,t),1)},dr.flatMapDeep=function(e,t){return Vr(Ja(e,t),N)},dr.flatMapDepth=function(e,t,n){return n=n===i?1:Hs(n),Vr(Ja(e,t),n)},dr.flatten=ya,dr.flattenDeep=function(e){return null!=e&&e.length?Vr(e,N):[]},dr.flattenDepth=function(e,t){return null!=e&&e.length?Vr(e,t=t===i?1:Hs(t)):[]},dr.flip=function(e){return Ti(e,w)},dr.flow=Ru,dr.flowRight=Ou,dr.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},dr.functions=function(e){return null==e?[]:Qr(e,ou(e))},dr.functionsIn=function(e){return null==e?[]:Qr(e,iu(e))},dr.groupBy=Ya,dr.initial=function(e){return null!=e&&e.length?Io(e,0,-1):[]},dr.intersection=ba,dr.intersectionBy=Ca,dr.intersectionWith=Aa,dr.invert=tu,dr.invertBy=nu,dr.invokeMap=Ka,dr.iteratee=Iu,dr.keyBy=Qa,dr.keys=ou,dr.keysIn=iu,dr.map=Ja,dr.mapKeys=function(e,t){var n={};return t=Ui(t,3),Yr(e,function(e,r,o){Pr(n,t(e,r,o),e)}),n},dr.mapValues=function(e,t){var n={};return t=Ui(t,3),Yr(e,function(e,r,o){Pr(n,r,t(e,r,o))}),n},dr.matches=function(e){return ho(Mr(e,p))},dr.matchesProperty=function(e,t){return vo(e,Mr(t,p))},dr.memoize=ss,dr.merge=au,dr.mergeWith=su,dr.method=Pu,dr.methodOf=Nu,dr.mixin=Du,dr.negate=us,dr.nthArg=function(e){return e=Hs(e),So(function(t){return go(t,e)})},dr.omit=uu,dr.omitBy=function(e,t){return lu(e,us(Ui(t)))},dr.once=function(e){return ts(2,e)},dr.orderBy=function(e,t,n,r){return null==e?[]:(gs(t)||(t=null==t?[]:[t]),gs(n=r?i:n)||(n=null==n?[]:[n]),yo(e,t,n))},dr.over=Uu,dr.overArgs=cs,dr.overEvery=ju,dr.overSome=Lu,dr.partial=ls,dr.partialRight=fs,dr.partition=Za,dr.pick=cu,dr.pickBy=lu,dr.property=Fu,dr.propertyOf=function(e){return function(t){return null==e?i:Jr(e,t)}},dr.pull=Sa,dr.pullAll=Ta,dr.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?bo(e,t,Ui(n,2)):e},dr.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?bo(e,t,i,n):e},dr.pullAt=wa,dr.range=Bu,dr.rangeRight=Hu,dr.rearg=ps,dr.reject=function(e,t){return(gs(e)?Jt:Wr)(e,us(Ui(t,3)))},dr.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=Ui(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return Co(e,o),n},dr.rest=function(e,t){if("function"!=typeof e)throw new ot(u);return So(e,t=t===i?t:Hs(t))},dr.reverse=ka,dr.sampleSize=function(e,t,n){return t=(n?Yi(e,t,n):t===i)?1:Hs(t),(gs(e)?Tr:wo)(e,t)},dr.set=function(e,t,n){return null==e?e:ko(e,t,n)},dr.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ko(e,t,n,r)},dr.shuffle=function(e){return(gs(e)?wr:xo)(e)},dr.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Yi(e,t,n)?(t=0,n=r):(t=null==t?0:Hs(t),n=n===i?r:Hs(n)),Io(e,t,n)):[]},dr.sortBy=Xa,dr.sortedUniq=function(e){return e&&e.length?Mo(e):[]},dr.sortedUniqBy=function(e,t){return e&&e.length?Mo(e,Ui(t,2)):[]},dr.split=function(e,t,n){return n&&"number"!=typeof n&&Yi(e,t,n)&&(t=n=i),(n=n===i?j:n>>>0)?(e=Gs(e))&&("string"==typeof t||null!=t&&!Ps(t))&&!(t=jo(t))&&Tn(e)?Qo(Pn(e),0,n):e.split(t,n):[]},dr.spread=function(e,t){if("function"!=typeof e)throw new ot(u);return t=null==t?0:Gn(Hs(t),0),So(function(n){var r=n[t],o=Qo(n,0,t);return r&&en(o,r),Gt(e,this,o)})},dr.tail=function(e){var t=null==e?0:e.length;return t?Io(e,1,t):[]},dr.take=function(e,t,n){return e&&e.length?Io(e,0,(t=n||t===i?1:Hs(t))<0?0:t):[]},dr.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Io(e,(t=r-(t=n||t===i?1:Hs(t)))<0?0:t,r):[]},dr.takeRightWhile=function(e,t){return e&&e.length?Ho(e,Ui(t,3),!1,!0):[]},dr.takeWhile=function(e,t){return e&&e.length?Ho(e,Ui(t,3)):[]},dr.tap=function(e,t){return t(e),e},dr.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new ot(u);return ks(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),os(e,t,{leading:r,maxWait:t,trailing:o})},dr.thru=Ba,dr.toArray=Fs,dr.toPairs=fu,dr.toPairsIn=pu,dr.toPath=function(e){return gs(e)?$t(e,la):Ms(e)?[e]:ri(ca(Gs(e)))},dr.toPlainObject=Vs,dr.transform=function(e,t,n){var r=gs(e),o=r||Cs(e)||Us(e);if(t=Ui(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:ks(e)&&Ss(i)?hr(It(e)):{}}return(o?Yt:Yr)(e,function(e,r,o){return t(n,e,r,o)}),n},dr.unary=function(e){return es(e,1)},dr.union=Ra,dr.unionBy=Oa,dr.unionWith=xa,dr.uniq=function(e){return e&&e.length?Lo(e):[]},dr.uniqBy=function(e,t){return e&&e.length?Lo(e,Ui(t,2)):[]},dr.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?Lo(e,i,t):[]},dr.unset=function(e,t){return null==e||Fo(e,t)},dr.unzip=Ia,dr.unzipWith=Pa,dr.update=function(e,t,n){return null==e?e:Bo(e,t,zo(n))},dr.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Bo(e,t,zo(n),r)},dr.values=du,dr.valuesIn=function(e){return null==e?[]:yn(e,iu(e))},dr.without=Na,dr.words=Su,dr.wrap=function(e,t){return ls(zo(t),e)},dr.xor=Da,dr.xorBy=Ma,dr.xorWith=Ua,dr.zip=ja,dr.zipObject=function(e,t){return Vo(e||[],t||[],Rr)},dr.zipObjectDeep=function(e,t){return Vo(e||[],t||[],ko)},dr.zipWith=La,dr.entries=fu,dr.entriesIn=pu,dr.extend=Ys,dr.extendWith=Ks,Du(dr,dr),dr.add=Vu,dr.attempt=Tu,dr.camelCase=hu,dr.capitalize=vu,dr.ceil=Gu,dr.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=Ws(n))==n?n:0),t!==i&&(t=(t=Ws(t))==t?t:0),Dr(Ws(e),t,n)},dr.clone=function(e){return Mr(e,h)},dr.cloneDeep=function(e){return Mr(e,p|h)},dr.cloneDeepWith=function(e,t){return Mr(e,p|h,t="function"==typeof t?t:i)},dr.cloneWith=function(e,t){return Mr(e,h,t="function"==typeof t?t:i)},dr.conformsTo=function(e,t){return null==t||Ur(e,t,ou(t))},dr.deburr=mu,dr.defaultTo=function(e,t){return null==e||e!=e?t:e},dr.divide=zu,dr.endsWith=function(e,t,n){e=Gs(e),t=jo(t);var r=e.length,o=n=n===i?r:Dr(Hs(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},dr.eq=ds,dr.escape=function(e){return(e=Gs(e))&&Te.test(e)?e.replace(Ee,En):e},dr.escapeRegExp=function(e){return(e=Gs(e))&&Ne.test(e)?e.replace(Pe,"\\$&"):e},dr.every=function(e,t,n){var r=gs(e)?Qt:Hr;return n&&Yi(e,t,n)&&(t=i),r(e,Ui(t,3))},dr.find=Wa,dr.findIndex=ma,dr.findKey=function(e,t){return an(e,Ui(t,3),Yr)},dr.findLast=Va,dr.findLastIndex=ga,dr.findLastKey=function(e,t){return an(e,Ui(t,3),Kr)},dr.floor=Yu,dr.forEach=Ga,dr.forEachRight=za,dr.forIn=function(e,t){return null==e?e:Gr(e,Ui(t,3),iu)},dr.forInRight=function(e,t){return null==e?e:zr(e,Ui(t,3),iu)},dr.forOwn=function(e,t){return e&&Yr(e,Ui(t,3))},dr.forOwnRight=function(e,t){return e&&Kr(e,Ui(t,3))},dr.get=$s,dr.gt=hs,dr.gte=vs,dr.has=function(e,t){return null!=e&&Wi(e,t,eo)},dr.hasIn=eu,dr.head=_a,dr.identity=xu,dr.includes=function(e,t,n,r){e=_s(e)?e:du(e),n=n&&!r?Hs(n):0;var o=e.length;return n<0&&(n=Gn(o+n,0)),Ds(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&un(e,t,n)>-1},dr.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:Hs(n);return o<0&&(o=Gn(r+o,0)),un(e,t,o)},dr.inRange=function(e,t,n){return t=Bs(t),n===i?(n=t,t=0):n=Bs(n),function(e,t,n){return e>=zn(t,n)&&e<Gn(t,n)}(e=Ws(e),t,n)},dr.invoke=ru,dr.isArguments=ms,dr.isArray=gs,dr.isArrayBuffer=ys,dr.isArrayLike=_s,dr.isArrayLikeObject=bs,dr.isBoolean=function(e){return!0===e||!1===e||Rs(e)&&Xr(e)==V},dr.isBuffer=Cs,dr.isDate=As,dr.isElement=function(e){return Rs(e)&&1===e.nodeType&&!Is(e)},dr.isEmpty=function(e){if(null==e)return!0;if(_s(e)&&(gs(e)||"string"==typeof e||"function"==typeof e.splice||Cs(e)||Us(e)||ms(e)))return!e.length;var t=qi(e);if(t==J||t==ne)return!e.size;if(Zi(e))return!co(e).length;for(var n in e)if(lt.call(e,n))return!1;return!0},dr.isEqual=function(e,t){return io(e,t)},dr.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?io(e,t,i,n):!!r},dr.isError=Es,dr.isFinite=function(e){return"number"==typeof e&&qn(e)},dr.isFunction=Ss,dr.isInteger=Ts,dr.isLength=ws,dr.isMap=Os,dr.isMatch=function(e,t){return e===t||ao(e,t,Li(t))},dr.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,ao(e,t,Li(t),n)},dr.isNaN=function(e){return xs(e)&&e!=+e},dr.isNative=function(e){if(Ji(e))throw new Xe(s);return so(e)},dr.isNil=function(e){return null==e},dr.isNull=function(e){return null===e},dr.isNumber=xs,dr.isObject=ks,dr.isObjectLike=Rs,dr.isPlainObject=Is,dr.isRegExp=Ps,dr.isSafeInteger=function(e){return Ts(e)&&e>=-D&&e<=D},dr.isSet=Ns,dr.isString=Ds,dr.isSymbol=Ms,dr.isTypedArray=Us,dr.isUndefined=function(e){return e===i},dr.isWeakMap=function(e){return Rs(e)&&qi(e)==ae},dr.isWeakSet=function(e){return Rs(e)&&Xr(e)==se},dr.join=function(e,t){return null==e?"":Wn.call(e,t)},dr.kebabCase=gu,dr.last=Ea,dr.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=Hs(n))<0?Gn(r+o,0):zn(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):sn(e,ln,o,!0)},dr.lowerCase=yu,dr.lowerFirst=_u,dr.lt=js,dr.lte=Ls,dr.max=function(e){return e&&e.length?qr(e,xu,$r):i},dr.maxBy=function(e,t){return e&&e.length?qr(e,Ui(t,2),$r):i},dr.mean=function(e){return fn(e,xu)},dr.meanBy=function(e,t){return fn(e,Ui(t,2))},dr.min=function(e){return e&&e.length?qr(e,xu,fo):i},dr.minBy=function(e,t){return e&&e.length?qr(e,Ui(t,2),fo):i},dr.stubArray=qu,dr.stubFalse=Wu,dr.stubObject=function(){return{}},dr.stubString=function(){return""},dr.stubTrue=function(){return!0},dr.multiply=Qu,dr.nth=function(e,t){return e&&e.length?go(e,Hs(t)):i},dr.noConflict=function(){return Nt._===this&&(Nt._=vt),this},dr.noop=Mu,dr.now=$a,dr.pad=function(e,t,n){e=Gs(e);var r=(t=Hs(t))?In(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return yi(Fn(o),n)+e+yi(Ln(o),n)},dr.padEnd=function(e,t,n){e=Gs(e);var r=(t=Hs(t))?In(e):0;return t&&r<t?e+yi(t-r,n):e},dr.padStart=function(e,t,n){e=Gs(e);var r=(t=Hs(t))?In(e):0;return t&&r<t?yi(t-r,n)+e:e},dr.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Kn(Gs(e).replace(Me,""),t||0)},dr.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Yi(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=Bs(e),t===i?(t=e,e=0):t=Bs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=Qn();return zn(e+o*(t-e+Ot("1e-"+((o+"").length-1))),t)}return Ao(e,t)},dr.reduce=function(e,t,n){var r=gs(e)?tn:hn,o=arguments.length<3;return r(e,Ui(t,4),n,o,Fr)},dr.reduceRight=function(e,t,n){var r=gs(e)?nn:hn,o=arguments.length<3;return r(e,Ui(t,4),n,o,Br)},dr.repeat=function(e,t,n){return t=(n?Yi(e,t,n):t===i)?1:Hs(t),Eo(Gs(e),t)},dr.replace=function(){var e=arguments,t=Gs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},dr.result=function(e,t,n){var r=-1,o=(t=Yo(t,e)).length;for(o||(o=1,e=i);++r<o;){var a=null==e?i:e[la(t[r])];a===i&&(r=o,a=n),e=Ss(a)?a.call(e):a}return e},dr.round=Ju,dr.runInContext=e,dr.sample=function(e){return(gs(e)?Sr:To)(e)},dr.size=function(e){if(null==e)return 0;if(_s(e))return Ds(e)?In(e):e.length;var t=qi(e);return t==J||t==ne?e.size:co(e).length},dr.snakeCase=bu,dr.some=function(e,t,n){var r=gs(e)?rn:Po;return n&&Yi(e,t,n)&&(t=i),r(e,Ui(t,3))},dr.sortedIndex=function(e,t){return No(e,t)},dr.sortedIndexBy=function(e,t,n){return Do(e,t,Ui(n,2))},dr.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=No(e,t);if(r<n&&ds(e[r],t))return r}return-1},dr.sortedLastIndex=function(e,t){return No(e,t,!0)},dr.sortedLastIndexBy=function(e,t,n){return Do(e,t,Ui(n,2),!0)},dr.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=No(e,t,!0)-1;if(ds(e[n],t))return n}return-1},dr.startCase=Cu,dr.startsWith=function(e,t,n){return e=Gs(e),n=null==n?0:Dr(Hs(n),0,e.length),t=jo(t),e.slice(n,n+t.length)==t},dr.subtract=Zu,dr.sum=function(e){return e&&e.length?vn(e,xu):0},dr.sumBy=function(e,t){return e&&e.length?vn(e,Ui(t,2)):0},dr.template=function(e,t,n){var r=dr.templateSettings;n&&Yi(e,t,n)&&(t=i),e=Gs(e),t=Ks({},t,r,wi);var o,a,s=Ks({},t.imports,r.imports,wi),u=ou(s),c=yn(s,u),l=0,f=t.interpolate||Je,p="__p += '",d=nt((t.escape||Je).source+"|"+f.source+"|"+(f===Re?qe:Je).source+"|"+(t.evaluate||Je).source+"|$","g"),h="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Tt+"]")+"\n";e.replace(d,function(t,n,r,i,s,u){return r||(r=i),p+=e.slice(l,u).replace(Ze,Sn),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t}),p+="';\n";var v=t.variable;v||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(_e,""):p).replace(be,"$1").replace(Ce,"$1;"),p="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=Tu(function(){return $e(u,h+"return "+p).apply(i,c)});if(m.source=p,Es(m))throw m;return m},dr.times=function(e,t){if((e=Hs(e))<1||e>D)return[];var n=j,r=zn(e,j);t=Ui(t),e-=j;for(var o=mn(r,t);++n<e;)t(n);return o},dr.toFinite=Bs,dr.toInteger=Hs,dr.toLength=qs,dr.toLower=function(e){return Gs(e).toLowerCase()},dr.toNumber=Ws,dr.toSafeInteger=function(e){return e?Dr(Hs(e),-D,D):0===e?e:0},dr.toString=Gs,dr.toUpper=function(e){return Gs(e).toUpperCase()},dr.trim=function(e,t,n){if((e=Gs(e))&&(n||t===i))return e.replace(De,"");if(!e||!(t=jo(t)))return e;var r=Pn(e),o=Pn(t);return Qo(r,bn(r,o),Cn(r,o)+1).join("")},dr.trimEnd=function(e,t,n){if((e=Gs(e))&&(n||t===i))return e.replace(Ue,"");if(!e||!(t=jo(t)))return e;var r=Pn(e);return Qo(r,0,Cn(r,Pn(t))+1).join("")},dr.trimStart=function(e,t,n){if((e=Gs(e))&&(n||t===i))return e.replace(Me,"");if(!e||!(t=jo(t)))return e;var r=Pn(e);return Qo(r,bn(r,Pn(t))).join("")},dr.truncate=function(e,t){var n=k,r=R;if(ks(t)){var o="separator"in t?t.separator:o;n="length"in t?Hs(t.length):n,r="omission"in t?jo(t.omission):r}var a=(e=Gs(e)).length;if(Tn(e)){var s=Pn(e);a=s.length}if(n>=a)return e;var u=n-In(r);if(u<1)return r;var c=s?Qo(s,0,u).join(""):e.slice(0,u);if(o===i)return c+r;if(s&&(u+=c.length-u),Ps(o)){if(e.slice(u).search(o)){var l,f=c;for(o.global||(o=nt(o.source,Gs(We.exec(o))+"g")),o.lastIndex=0;l=o.exec(f);)var p=l.index;c=c.slice(0,p===i?u:p)}}else if(e.indexOf(jo(o),u)!=u){var d=c.lastIndexOf(o);d>-1&&(c=c.slice(0,d))}return c+r},dr.unescape=function(e){return(e=Gs(e))&&Se.test(e)?e.replace(Ae,Nn):e},dr.uniqueId=function(e){var t=++ft;return Gs(e)+t},dr.upperCase=Au,dr.upperFirst=Eu,dr.each=Ga,dr.eachRight=za,dr.first=_a,Du(dr,(Ku={},Yr(dr,function(e,t){lt.call(dr.prototype,t)||(Ku[t]=e)}),Ku),{chain:!1}),dr.VERSION="4.17.11",Yt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){dr[e].placeholder=dr}),Yt(["drop","take"],function(e,t){gr.prototype[e]=function(n){n=n===i?1:Gn(Hs(n),0);var r=this.__filtered__&&!t?new gr(this):this.clone();return r.__filtered__?r.__takeCount__=zn(n,r.__takeCount__):r.__views__.push({size:zn(n,j),type:e+(r.__dir__<0?"Right":"")}),r},gr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Yt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==I||3==n;gr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ui(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),Yt(["head","last"],function(e,t){var n="take"+(t?"Right":"");gr.prototype[e]=function(){return this[n](1).value()[0]}}),Yt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");gr.prototype[e]=function(){return this.__filtered__?new gr(this):this[n](1)}}),gr.prototype.compact=function(){return this.filter(xu)},gr.prototype.find=function(e){return this.filter(e).head()},gr.prototype.findLast=function(e){return this.reverse().find(e)},gr.prototype.invokeMap=So(function(e,t){return"function"==typeof e?new gr(this):this.map(function(n){return ro(n,e,t)})}),gr.prototype.reject=function(e){return this.filter(us(Ui(e)))},gr.prototype.slice=function(e,t){e=Hs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new gr(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=Hs(t))<0?n.dropRight(-t):n.take(t-e)),n)},gr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},gr.prototype.toArray=function(){return this.take(j)},Yr(gr.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=dr[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);o&&(dr.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof gr,c=s[0],l=u||gs(t),f=function(e){var t=o.apply(dr,en([e],s));return r&&p?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var p=this.__chain__,d=!!this.__actions__.length,h=a&&!p,v=u&&!d;if(!a&&l){t=v?t:new gr(this);var m=e.apply(t,s);return m.__actions__.push({func:Ba,args:[f],thisArg:i}),new mr(m,p)}return h&&v?e.apply(this,s):(m=this.thru(f),h?r?m.value()[0]:m.value():m)})}),Yt(["pop","push","shift","sort","splice","unshift"],function(e){var t=it[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);dr.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(gs(o)?o:[],e)}return this[n](function(n){return t.apply(gs(n)?n:[],e)})}}),Yr(gr.prototype,function(e,t){var n=dr[t];if(n){var r=n.name+"";(or[r]||(or[r]=[])).push({name:t,func:n})}}),or[hi(i,y).name]=[{name:"wrapper",func:i}],gr.prototype.clone=function(){var e=new gr(this.__wrapped__);return e.__actions__=ri(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ri(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ri(this.__views__),e},gr.prototype.reverse=function(){if(this.__filtered__){var e=new gr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},gr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=gs(e),r=t<0,o=n?e.length:0,i=function(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=zn(t,e+a);break;case"takeRight":e=Gn(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,s=i.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,p=0,d=zn(u,this.__takeCount__);if(!n||!r&&o==u&&d==u)return qo(e,this.__actions__);var h=[];e:for(;u--&&p<d;){for(var v=-1,m=e[c+=t];++v<f;){var g=l[v],y=g.iteratee,_=g.type,b=y(m);if(_==P)m=b;else if(!b){if(_==I)continue e;break e}}h[p++]=m}return h},dr.prototype.at=Ha,dr.prototype.chain=function(){return Fa(this)},dr.prototype.commit=function(){return new mr(this.value(),this.__chain__)},dr.prototype.next=function(){this.__values__===i&&(this.__values__=Fs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},dr.prototype.plant=function(e){for(var t,n=this;n instanceof vr;){var r=pa(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},dr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof gr){var t=e;return this.__actions__.length&&(t=new gr(this)),(t=t.reverse()).__actions__.push({func:Ba,args:[ka],thisArg:i}),new mr(t,this.__chain__)}return this.thru(ka)},dr.prototype.toJSON=dr.prototype.valueOf=dr.prototype.value=function(){return qo(this.__wrapped__,this.__actions__)},dr.prototype.first=dr.prototype.head,Lt&&(dr.prototype[Lt]=function(){return this}),dr}();Nt._=Dn,(o=function(){return Dn}.call(t,n,t,r))===i||(r.exports=o)}).call(this)}).call(this,n(12),n(52)(e))},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,o,i,a,s,u){if(r(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,o,i,a,s,u],f=0;(c=new Error(t.replace(/%s/g,function(){return l[f++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t){e.exports={call_out:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo4MUQ0NUZGMEI4MUYxMUU1QTZFOEMyMUU1NzIwQUZCMiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo4MUQ0NUZGMUI4MUYxMUU1QTZFOEMyMUU1NzIwQUZCMiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjgxRDQ1RkVFQjgxRjExRTVBNkU4QzIxRTU3MjBBRkIyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjgxRDQ1RkVGQjgxRjExRTVBNkU4QzIxRTU3MjBBRkIyIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+bfDx6AAAAWNJREFUeNrU1jtKA1EUxvG5Gt9RRAVJISKKaKGSwkJxFXba2aobEDcQ3IOVhVipSxCbgOAC1KAIUZGgEsRHArn+D5zBYbjBPG4KD/yKmbnMxz1zMhNjrQ1aWW1BiysROx7CSOS4hDzKDSdIi9QgjvGEB3WH9ciaukVbNIA0RpFS43rOyzOQdnw51kjLjI+AdxQcaybR5yPgAznHmimM+Qio4MKx5gZvPqZIpPFsfyuLuWamKH6iW0dV6hoLzdw8PqaBTtEBvtHl5afsSE3iRHdxqMfeWhRaRh5l7CDhO0Bs4RNFbFYJSWFGd2nqDZAHntFdSMgu+iPXZbrO8Ygz7GMPa+ioJSB8HhndSQlHmNfpylp33WKi1oBwJ9v6dpW6x5WtXrJuup6AQPu7hFPdjfUdEG3ZqgYVUPkrwDT4Te7BLFawqG/cYfTiEht4kYXGw0e/XW+cRCeKeA0vmn//r+JHgAEAPAh4VuGAxj0AAAAASUVORK5CYII=",hangup:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAUCAYAAADskT9PAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpENUExNzgzQzRBNTUxMUU2ODAzNEFDRUQ5MDU5OUU5MyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpENUExNzgzRDRBNTUxMUU2ODAzNEFDRUQ5MDU5OUU5MyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkQ1QTE3ODNBNEE1NTExRTY4MDM0QUNFRDkwNTk5RTkzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkQ1QTE3ODNCNEE1NTExRTY4MDM0QUNFRDkwNTk5RTkzIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+2MaZYAAAAaJJREFUeNrs1jtLA0EQwPHcRYxGohBTpFA4ESyEfAFJbaegSMTKUrDVwtJvYaOlWomtnYgg2EW0sbEQPPANIfiIl6z/DbNwOfLUmDQO/CAcm525nd27s5RSoW6GHepydL2AnhbHh9GHAURgyXXdxw+84R2ldhYQg4O0GEVcijArqBPm8YJbnOBMfufrTW7V2IS2JMpgFhMYlhVoJjw84RoHOIRbbWWCBViSeEWSO75VUnI3r3hGTu7YkhWJSZFmdUx7vnCDPezgrqICXYCIYBlX8FRlPGINU3AQRxS9IirXxpDGOh4Cc+g5s8hIrnJekzyJLeRV9bhAwldsIwn5T7XISa6kKSCFIxRV7cj+oIBsnfmKkjOl+7uPSV/POvX8mcaI2e3NJG/lmd3M2PKG1wWsyhGpFZ84bXSeA6HHnqNQZ4xbzk0fbMzBDfSpJH1cRKyF/htDWMKlzOUPV3LaZrAuYh73MqCAbTlyoV8ax67MWZHcfwy1MBZwjA0MtiG5fzU2Ze4Zk1wLPgn1nuiXvnt/8OKLyAtLNXoX/H+QdCy+BRgAL7DB9NXmw44AAAAASUVORK5CYII=",caret_down:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGBAMAAAAS4vJ7AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAnUExURQAAAJSUlJubm5CQkJGRkZaWlpeXl5iYmGZmZmpqaoCAgIODg5mZmYR4MTgAAAAIdFJOUwAYJKu9+/3+1YIjMgAAACBJREFUCB1jyDlznMG6YwmD6MwgBuZdDgyMoQoMDCYMAF7xBg7GTSlRAAAAAElFTkSuQmCC",keyboard:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAYBAMAAAAMkBB4AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAqUExURYKNlYWw3YmeuY235Kyem8TU59T0/9ewmN+3nuPQzfP////02v//9f///91UudIAAABGSURBVBjTY7iLAAy42Sej7kxdezIKzG5gvsFg28AMZhcwXmeQLWAEs7eo3XbK3aI2aPTevQvUC2cD9cLZQL1wNlAvPr8DAOfhuXMAUWKzAAAAAElFTkSuQmCC",mute:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABiVBMVEUAAACQpK6fqNqYpsabp86lquqap8uQpK6QpK6fqNqfqNqQpK6QpK6QpK6QpK6QpK6fqNqfqNqfqNqfqNqQpK6QpK6QpK6fqNqfqNqfqNqfqNqQpK6QpK6QpK6gqNyPpKuQpK6QpK6fqNqZpseQpK2eqNaTpbaQpK2cp9KTpbaQpK6bp82dp9OQpK2QpK6QpK6QpK6QpK6QpK6QpK+Oo6iTpbecp9GTpbaQpK2QpK6QpK6QpK6QpK6QpK6QpK6RpK+QpK2UpbuQpK6QpK6QpK6QpK6QpK6QpK6QpK2Tpbedp9SfqNqfqNmQpK2QpK6QpK6QpK6QpK6QpK6QpK6No6Scp9CfqNufqNueqNaSpbWQpK2QpK6QpK6QpK6QpK6Oo6iWpb6bp8+Vpb6QpK6QpK6QpK6QpK6QpK6QpK2SpbScp9KQpK6QpK6QpK6QpK6QpK6QpK6PpKyap8ufqNqQpK6QpK6QpK6QpK6QpK6QpK6fqNqfqNqfqNqfqNqfqNqfqNqfqNqfqNr////ZrC3tAAAAgXRSTlMAAAAAAAAAAxEEC1uFhFgPAmKoIJuaAgqntx8SmYIeFYqHtTWIx52Y4qUULNeZFhsEe2MCEJHkp4AOBpCnCXoBWWccvgtPQxBYjtS5H2HWaheMMAENJ7T+ycmxHS9UIhNR8Fgqd5KNtczW4A03ZaHLi0outpa3GhW4GaIHpVoBCQO/oEiAAAAAAWJLR0SCi7P/RAAAASxJREFUKM9jYCAIGNk5ONgZkUWYOLmYmBgZObh5ePn4GRFSTAKCQsJMjOzcIqIiInxiSBLiEo2SUszSPKIyMiKy/EgSTMKSjZJy8gpACVFFaSRbmJikJBuVlFUwJCAyqmrqGBIQGQ1NdQwJuAyaBCO7Fj+Ltg5QRhcooadvAJNk5DA0MjYxNWvUMLewtLK20YJL2Nrxctg7mJs1mjmyOjnbuMAlGF1l3BjdPTy9Gr19fP38EcHCGCAbGBRsHBIaFh4RGRWNsJ+RMSbQOjbOPT7BrDExiQ3JYYzBySkyqWnpGZlZ4UpSTExIMozZObl5+QWFRcXAEEWWAcrplZSWMYJ8KimMIsNYXlJRyQgOg6pqFAlp3jw9RlAs1NTWoUiISeuB4pyJqb4BxQ5iAQD5ZzOTfzhKFwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNS0wNy0yNVQyMTo1MDoyMCswODowMB+V8G0AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTQtMTItMTBUMTY6MTA6MTQrMDg6MDDAxW+OAAAATnRFWHRzb2Z0d2FyZQBJbWFnZU1hZ2ljayA2LjguOC0xMCBRMTYgeDg2XzY0IDIwMTUtMDctMTkgaHR0cDovL3d3dy5pbWFnZW1hZ2ljay5vcmcFDJw1AAAAGHRFWHRUaHVtYjo6RG9jdW1lbnQ6OlBhZ2VzADGn/7svAAAAGHRFWHRUaHVtYjo6SW1hZ2U6OkhlaWdodAAxMjhDfEGAAAAAF3RFWHRUaHVtYjo6SW1hZ2U6OldpZHRoADEyONCNEd0AAAAZdEVYdFRodW1iOjpNaW1ldHlwZQBpbWFnZS9wbmc/slZOAAAAF3RFWHRUaHVtYjo6TVRpbWUAMTQxODE5OTAxNHaOEhoAAAATdEVYdFRodW1iOjpTaXplADEuNzFLQkJ+/TvEAAAAWnRFWHRUaHVtYjo6VVJJAGZpbGU6Ly8vaG9tZS93d3dyb290L3d3dy5lYXN5aWNvbi5uZXQvY2RuLWltZy5lYXN5aWNvbi5jbi9zcmMvMTE4MjAvMTE4MjA1MC5wbmfG3ETfAAAAAElFTkSuQmCC",transfer:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBOTVDREVFOUI4MjUxMUU1QUY3MERDNDUxOEYyM0VERCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBOTVDREVFQUI4MjUxMUU1QUY3MERDNDUxOEYyM0VERCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkE5NUNERUU3QjgyNTExRTVBRjcwREM0NTE4RjIzRUREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkE5NUNERUU4QjgyNTExRTVBRjcwREM0NTE4RjIzRUREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+SRo9VQAAAbZJREFUeNrsl78vQ1EUx/u0Ijr4ERLRYGJgYBYGEyHiDzAZmoguYhCjRaQiDCIhdDD7EyQWEQObjcVClyYSIpRWn89J7tDUu8+99ZK3vJt8cob2ne/3nnveuXmO67qxMFdDLOQVGYgMBGYgkct3QkuYFRiDLUy0hWWgERZgGxOtYfWAtYmgDchYTdiYSATQfHFCM3SAU1MJ+X21nE696J536rkLlGgKxmEWBqAPumr+WoIT0JqwMoCwHNkgLMEU9ELTH4/5mjA2oF6vDCwqYceiaFoTRgYQ7yfswLQ633pWGY5hBROfxk2I+BAhB6P/7NdveIaK8WuIeA9hPwBx2fEubLL7kpEBxJOEdZgISHwD8XebOTAD85pmkzJ+wJuKRUh6NKevuNYAu+8mrKmk1Z38BFdwBg9QqDIxB0cQNxX3q8AkjFQJ38ABXEKehF8epl/VKDYW9zRAonZCWr1uj5CFUxIVDM7bsRHXVUAm3TBcw7JEElUMxaUX9kzFdQZkvt9KFUhyZ9HtRbXzrKn4LwPq+pQGzFiKy7qAcxtxrwrItDqEe+s563Pl+p5b9GkWGQjbwI8AAwB0DKdIlJ9IlAAAAABJRU5ErkJggg==",consult:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABdFBMVEUAAABN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFN0OFO0eJO0uNN0eJDwdArnqpGxtYTfIMAXmI5ssACY2cAYGQ4sr8+usgGaG1Mzt8soKsMcnhO0eNHx9dLzt4/u8kvpbEnmaRCwM8dipMGaW5Jy9sXgooReYA+uslDwtEJbXIAX2MllqBP0+VDwdEReH89uMYNc3oCY2gJbHEZhIw4sb5Cv843sL0bh5ACYmYUfYUvpLA6tcNBvs1Lzd5KzN0QeH4fjJYHam8AYWUFZ2w6tMI/vMtAvcwxp7MomqQnmKM/u8r///9CuSuNAAAAOXRSTlMAAAYVISATBAEjb7HU4uHQp2IaDnLb/vzPXQgZo/v1iQwQpod481gq38gWevpXCryaHt7DLevVLLCDpsiSAAAAAWJLR0R7T9K1/AAAAVdJREFUKM+FkuVXwzAUxZcNGe4MG+7ukLRdF1rm7u2UDR3Dnb+eJC1Dzji8T6/5nbx3c28Nhn8KAKOprr6hEYCfx+am5pbWtvaOzq7u7wj09Pb1Q8RxCFoGBodAdcrwiBVCXrDZBB7C0bFxnYCJSUjORTvGdpEQ65QRaBemLQRwB5IsS4ccaWdm2R4wN08+IHI4MXY6EO0XFgG9sARZudwej9vF2uUVClbXNMB5fT4vp/XrZmAAG5tskj8QDIWCAT+btUWEge0dqikcicpOpxyNhIkuuGsiYI+CWBzjRDKZwDge+wR0FEopKk5nMmmsKimkj6LLUVZR1Vw+n1NVJYv05VQuA1KhcKQBJpc9EAlFuXQcPjk9Oy8KSHsgs4QXE+pF+bJydV26EXndEs3Eyu3dvfRQ5h6fqiZqtiPX88vr2zvi0ZftelAkp19B6dHu14j275+hRn0AQbNVyBZdo80AAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMDctMjVUMjE6NDk6MzErMDg6MDBI0w9NAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE0LTEyLTEwVDE2OjI3OjMzKzA4OjAwPHkrBQAAAE50RVh0c29mdHdhcmUASW1hZ2VNYWdpY2sgNi44LjgtMTAgUTE2IHg4Nl82NCAyMDE1LTA3LTE5IGh0dHA6Ly93d3cuaW1hZ2VtYWdpY2sub3JnBQycNQAAABh0RVh0VGh1bWI6OkRvY3VtZW50OjpQYWdlcwAxp/+7LwAAABh0RVh0VGh1bWI6OkltYWdlOjpIZWlnaHQAMTI4Q3xBgAAAABd0RVh0VGh1bWI6OkltYWdlOjpXaWR0aAAxMjjQjRHdAAAAGXRFWHRUaHVtYjo6TWltZXR5cGUAaW1hZ2UvcG5nP7JWTgAAABd0RVh0VGh1bWI6Ok1UaW1lADE0MTgyMDAwNTN6Ch3oAAAAE3RFWHRUaHVtYjo6U2l6ZQAyLjQ3S0JCLd4EVQAAAFp0RVh0VGh1bWI6OlVSSQBmaWxlOi8vL2hvbWUvd3d3cm9vdC93d3cuZWFzeWljb24ubmV0L2Nkbi1pbWcuZWFzeWljb24uY24vc3JjLzExODIyLzExODIyNzkucG5ncccjxwAAAABJRU5ErkJggg==",threeWayCalling:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABDlBMVEUAAAAZdtKLw0pKl5h8uVwaetYSWbMVZcCKwksZdtIZdtIZdtIZdtIZdtIZdtIZdtKLw0qLw0oZdtIZdtKLw0qLw0qLw0oZdtIZdtKLw0qLw0qLw0oZdtIZdtKLw0qLw0qLw0qLw0qLw0qLw0qLw0qj0y4WdNYZdtIZdtKLw0qLw0qLw0oZdtIZdtKLw0oZdtIZdtIZdtIZdtKLw0oZd9MZd9MVZcAVZL8VY74VZcAVZcAVZcAVZcAVZcAVZcCYzT0PYMYVZcAVZcAVZcAVZcAVZcAVZcAVZcAVZcAVZcAVZcAVZcAVZcAVZcAVZcAVZcAVZcAVZcAVZcAVZcAVZcAVZcAVZcAZdtIVZcD///9e0U9fAAAAV3RSTlMAAAAAAAAAAAACDSuSyDHTBB4FosrJGxvaIuTjH98FHSA/5+Y8Awq3Csjl/E3sxwNTxu05EC4HFB4PQ4O10+EDBFC+9AVp8WgX0tEaIuLgJh7I48YEIR3J1P1nAAAAAWJLR0RZmrL0GAAAAQNJREFUKM+10dlSwjAUgOEmCpG9BRtoBYItiKUgi+ybsogCRRYX+v5PYm2SmaK3+l+ebzLnzEQQ/icQCAYD4PcYhMKRSDgEfhKIxo5OsSgHKEqSCAUQTxzdEnEmULqUsQPJFIVUkoOiXkkOpDMUMmkXsiR3ren5HCncFCkUb11QjJJmmlpJxmflyve8UqZnKXeqbpq6auDzaq3eaNRrVboii0le0+8JFqHP32y1mn4fv58tFxBqd7rdThshDkQ28AXq9QfD0Xg8Gg76PWpQxPjhcTKd2azZdDJnrxB6WtieFs8cXpb2Sas1A2tzCq9bBrv9YePp8GYxeN9ZH56sz/kf/v8XT7Y91SAmfVoAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMDctMjVUMjE6NDk6NTQrMDg6MDDchCltAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE0LTEyLTEwVDE2OjEwOjM5KzA4OjAw4zcJMwAAAE50RVh0c29mdHdhcmUASW1hZ2VNYWdpY2sgNi44LjgtMTAgUTE2IHg4Nl82NCAyMDE1LTA3LTE5IGh0dHA6Ly93d3cuaW1hZ2VtYWdpY2sub3JnBQycNQAAABh0RVh0VGh1bWI6OkRvY3VtZW50OjpQYWdlcwAxp/+7LwAAABh0RVh0VGh1bWI6OkltYWdlOjpIZWlnaHQAMTI4Q3xBgAAAABd0RVh0VGh1bWI6OkltYWdlOjpXaWR0aAAxMjjQjRHdAAAAGXRFWHRUaHVtYjo6TWltZXR5cGUAaW1hZ2UvcG5nP7JWTgAAABd0RVh0VGh1bWI6Ok1UaW1lADE0MTgxOTkwMzk6CQwlAAAAEnRFWHRUaHVtYjo6U2l6ZQAxLjJLQkL8V6+UAAAAWnRFWHRUaHVtYjo6VVJJAGZpbGU6Ly8vaG9tZS93d3dyb290L3d3dy5lYXN5aWNvbi5uZXQvY2RuLWltZy5lYXN5aWNvbi5jbi9zcmMvMTE4MjEvMTE4MjExMy5wbmdhDK4oAAAAAElFTkSuQmCC",maximize:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAjSURBVChTY/wPBAykAFI0gNQyQdlEg1ENxADaayAxaTAwAAD0+BAFgslReAAAAABJRU5ErkJggg==",minimize:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAABCAYAAADXeS5fAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAQSURBVBhXY/wPBAxkAwYGAPmIA/59nbjdAAAAAElFTkSuQmCC",customer_head:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAJYAAACWACbxr6zAAAH+0lEQVR42u2aS2ycVxXHf3fetuNMPB4nHsceJ078iB23TkXS0qSp01ZFatWqQSnl0QrohrJBQSxYtIhsQCogoSJYIECKhGBBeUiwKbRFeUiB1M3DjuPEdpzEThw7td3Y8WNmnJnvsrifw+B4Zr77fd9ErfB/NdLMnHvP/557zrnnHFjFKlaxiv9jiGIKf/Frh5bWKAc2ANuBjUAtEAZk1j4SwDDwEdADjAEzQObtw4c+PQSYSgNUAruATmAvEAeqAH8BERlgCrgBfAi8C/wLGAUMt8lwjYCs094CvAC8CDwAhByKTgOXgD8BbwO9uGgVjgnIOvFa4FXgFZOEYlyvMZOEXwIXAOmUCK8LygeBA8AvgJdQpl8s31IOPAw8a64x0NbRmeg7e8S2QFsbXXbqrwMvA2uKpHQupFH+4XXgDIAda9C2gCzldwG/Aj4PBO6z8gAeoBHYB4wAg20dnVLXGrQIyFJ+D/Ab4CHdXRuGREqJISXI5Z8BBELPLiuBp1BRo1eXBMtLZSm/G/g10GL1v9JUNBQKUBkJUxVdR3l5CT6fFyEE6TsZFhJJJiZnmJyaYWEhqTanx8QE8B3gd2iES0srLDP7w8A2q7syDEmkopwH2htob2tgYyxKaWkQr9e77HcGieQiExPTXOgf5kz3JW6MTeqSMAm8hgqZlnyCpSvQ1tEJUIc6eS2zb2mK89KBfex+ZDtV0QoCAf+KSgkhCAR8VFSU07i1lm3N9SSSKcbGp8yrYQmlwGeALuB6W0cnha5DQQKyQt0Pgf1Wd2IYki0NNXz1y09TE4vevQaFYLoD1pSFaNpax/TMHNdHJ3QsoQLYDLwDzDsiIMv0DwBvYNHbSwmlpUEO7H+ceF01hmFY3fz/yAgEfFRviHBxYIS5+YQOCfXAPHCskBV4LAirA76LRpyX0qBhU4zGLbW2lF+CYUjWV1WwvXUz1m/BXb2+gfJZBX+4IrJO/1Vgh9byQrCpvppAwGdb+f+KEjQ31RHwa8uqAb4FBLN0sU6AiUbgK7or+31eNtZEcScjlpSEgvi8trL2Z1E5ix4BWYw9b5KgCYHHY+V2WRZnl8swKk335bKCfLusAr5gb8fWPL5V7aUhkYZteZ8DWnN9mY+Anaj3/CcD9m9TDPVeYCUruIeArB89gfNixicFzwAlK32RywLWonJ++3DrBpiiHN6oZqBah4D1qPhvCz6vl0CwUOnPuvqhYIBQKODEr9SQI5TnIqAN5QS1YRgGLc1xNsXtZYD3ypPEqiN8dler7sMoG35Umc4yAbXYLHIIIdi8KUZJyL0aidfrpamxFr/PUQWvXpcA2/DrZ20FIRDoVkqs6JqLgLCz7broAYsMF9O1bBShKFykOrPrBEgJyWTKdRvIpA0Xs8siEgAwODRqvt+dyxJCkE5n6Okd4s6d9H0jIGVboEfQP3CNd979AMN+/n5X+dm5Bf7yt+Oc/PCCUyeoRcCwE6GGYdBzbojJqdtOYjdCCHp6L3P0eDepVLoobiAXAROA7SxGCMGt6TmGR8bxOCAgkUhx+swAhiHdOPwbOgR0o0rMtpHJGJztGSKZWrT1f4/Hw9DlUa6O3MTjcay9AVzRIWAsF2NWIYSgf2CEwaFR7eKIEOr0j504RzJpj8BluAmc1iHgFqq27oAASCQXOXr8LPMLSU1fIOg6dZGL/SNunD7AZeC6JQLMbooBvI+a1rCNpYjw7w/6LMdwIQTXrn/E+0dOk8k4Wj4b7wGzlgjIwglgwOnK6UyGc+cvW47hQkD3uSEmJqcdRZAs3Ab+CSu3yvIRcA34sxs70EkLpcTthOcYatZoRaxIQBZTf0QNJ31akUI1cxe0CMhCN/CH+7ljISAQ8OPS6+coaookZ6c4JwHmHySqI3wFm5ASIpFyfJaLGYJoNOyG959FzS3dzvcjKwG6D/gZmhFBolLiWHWEvbsftJwLSClpaYrT0hzHMBy9AH+P6hDnnRPIeyx9Z48szQb0A+1Ak5WVDUMVMnc82Mj+5/ZQH9+gpUgoFGDr5ho8HsHHt2ZJmMmQRlToBQ4CE4WGJArapUlCEjWX9zh5iqWGIfH5fLS2xHnhuT3s29tBZWStrVMsLQ3R3FRHS1Mcv8/L9MwciYQlIqaAb6PCuPMBCbg7ITKOeiU+ybJWuSElXo+HhoYann/mUZ5+cicba6IIIRzV84UQrAuXsa25nuZG1SGens5LxALwfeC3WByi1B2SEqhhyLeA9VJKhBDEqit57NF2dnQ0Ur6mFCkNp42Me+DxCDIZyY2xSU52XeBM9yDTM3PZRCRRUyxvAouuDkmtQMKXgJ+uC69Z/9judnY+1EIkUm6OtxS3ILpExNj4FCe7+ug61c/cfGLBVPxHQFJnYFKr0L7kFE+cPH9+e1vDpZe/+NSuh3e2VpSUBIuu+BKkVLlCOFxGc2MdNbHox8MjN7939erYW2VlJSndaVFbwVZKydcPvcmPD772SDqT+QFqJL5IFea86PP5vG9Ew+G/LqbvZIJ+/WaM7WxjbHJq6WMV8E3UfF7sPik+h4rzPwEGAWLRSluCHKdbJhEe1HzeQdRYytoiKZ5CPW5+DvwdSNlV3DUClhERRM3kvIKazNjg0hqzpuKHgX9gprdOlXeVgGVE+FHjtE+gLGKpP2+1Z55BFWavoIoZ7wGnULN/riheNAKWEQFqfDWG6s9vQc0d5HOY46gS1mlUGWsWkG4qvYpVrGIVqzDxHykDun7VrSMDAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE2LTA1LTI2VDAwOjU5OjIxKzA4OjAwHQvSeAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNi0wNS0yNlQwMDo1OToyMSswODowMGxWasQAAABOdEVYdHNvZnR3YXJlAEltYWdlTWFnaWNrIDYuOC44LTEwIFExNiB4ODZfNjQgMjAxNS0wNy0xOSBodHRwOi8vd3d3LmltYWdlbWFnaWNrLm9yZwUMnDUAAABjdEVYdHN2Zzpjb21tZW50ACBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIM5IkAsAAAAYdEVYdFRodW1iOjpEb2N1bWVudDo6UGFnZXMAMaf/uy8AAAAYdEVYdFRodW1iOjpJbWFnZTo6SGVpZ2h0ADUyOTNy2coAAAAXdEVYdFRodW1iOjpJbWFnZTo6V2lkdGgANTI5oIOJlwAAABl0RVh0VGh1bWI6Ok1pbWV0eXBlAGltYWdlL3BuZz+yVk4AAAAXdEVYdFRodW1iOjpNVGltZQAxNDY0MTk1NTYxyN1ubAAAABN0RVh0VGh1bWI6OlNpemUAMjIuNktCQssmLvMAAABadEVYdFRodW1iOjpVUkkAZmlsZTovLy9ob21lL3d3d3Jvb3Qvd3d3LmVhc3lpY29uLm5ldC9jZG4taW1nLmVhc3lpY29uLmNuL3NyYy8xMjAxNC8xMjAxNDA5LnBuZ+u3us4AAAAASUVORK5CYII=",ivrIcon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAMCAYAAAC5tzfZAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAABF0lEQVQoz42RvUoDURCFv9mkkiDGTW0p2PkOgkGEpNLa3cIHEBEtfQc7kfUBBNnrD6YRGyvRUhuxSSEIWQJiESF7LHIX/1bJdHPuPTPnnIExqhG7Thi59aK3vz+eLAAThgaCjof3hmK7lBRG7jQwllXyJni0EsJiYHQkroEzjAqwAdSBF4mt36TY3RvM5bkms8P2q/fUE9wiVntJq19txO4OmBltpmJQz8V+QZhaO67k0nyWtLvF4KpfO+1JgUbpvH96EED/q5pv8sIoDczswWB2KNWypP3m5T0DNxIrvaQ1KAkiXQrMzgVXQAoMgV2v6Kk0CJ/ghRnNn7iNPHT/Oa5rIqsZINORhw9yaYdxqhGnl2HkNov+AxGWahj/yrMGAAAAAElFTkSuQmCC",call_retain:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABGdBTUEAALGPC/xhBQAAAVlJREFUKBV9UD1LA0EUnLfJ3aEEVDAxphAJVhamVERBrETtLSztrASN8QfIgZJGGwsRBFu7FFoJfoCNRa5IFYNGCGIaMWgVb59v83FYnA4ct/Nm3s3s0dhh2WlUv04YWCJSi/X8xD0Eic3iHoO3Sal1Ylia9YGMXdV4+dwVYRXgfrB/ZMz/QTFDzG1ISmY46812edhbEcEOBELZtqzHgIccJIFanQn07KQGM1V3/DXEF4yiKkLH2udlucfod+19TpQLoyqlrrXWcjUqMvmKmPYRxQ0ZUf7IrSzMEFFdkqbe8pknMw+DMkPLxhoIH8yc0MyXqVxppGtO5yp98Wwp2eWtBEPiWW8BrAtgCQbVSPEKw65ANx+kVxJEp1asZydYMEtDW968Bp+DeUCoL/WqUjVtNAMxe61KbQpI9yuH7Ekx3sks8tvc8cgd/0AnbYPA0/LtpjxnvTHt/gDkLHqsds8FUwAAAABJRU5ErkJggg==",call_recovery:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABGdBTUEAALGPC/xhBQAAAYVJREFUKBVlUD1IQlEUPue9q1FhlBA1OTU7BYKJBC0NPtoMIVqaA3tDUi0SNRQh4eLQEoRPMAgikJYWn4VLS9BUUQRNhZjRD+nzdO57PTE6cO853znfd+93Lxav095Wrb4HgDFUUUuEMxfAkTf1FAKIfhTZmcj2m+zJUJq113UimCciP1ntHGfmsRzAT9TeeKfmg2Hqa8eVZZ8t4MGcLGSwMFgw9aiDnN0+yBWWk4uCaV6XgAh3QoVbF3cyIluinBCYZwFWGWjs4dHXOxjUxtMf3UQEyvIhmXh4tyb7LAB+MGhAEGh8NSa5LvFivXIkVGvLJcqeDPuBhpk02X+ELT0LrwjFQzv3zvj/rsiWAsoCpzqLhlvf1mmxkgq41FI1PWBUV0dcbN8ggWEuTbOtEwISiPikEs16VHHzabUuEXCUzexDH650BFJUKOtTbaRD/t8hHlgEyNZoTM5ksOUr25IDARLRzBl4RIgn5wSgdpNtDuHLnxtcocy/tyW5nODVZOIBQc/mDwFUkqez9MDFAAAAAElFTkSuQmCC"}},function(e,t,n){(function(r){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.log=function(){var e;return"object"===("undefined"==typeof console?"undefined":o(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))}),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==r&&"env"in r&&(e=Object({NODE_ENV:"production"}).DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(244)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(39))},function(e,t,n){"use strict";e.exports=function(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var o=new Error(n);throw o.name="Invariant Violation",o.framesToPop=1,o}},function(e,t,n){"use strict";var r=n(17);e.exports=r},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))o.call(n,c)&&(s[c]=n[c]);if(r){a=r(n);for(var l=0;l<a.length;l++)i.call(n,a[l])&&(s[a[l]]=n[a[l]])}}return s}},function(e,t,n){"use strict";var r=n(7),o=n(29),i=n(85),a=(n(4),o.ID_ATTRIBUTE_NAME),s=i,u="__reactInternalInstance$"+Math.random().toString(36).slice(2);function c(e,t){return 1===e.nodeType&&e.getAttribute(a)===String(t)||8===e.nodeType&&e.nodeValue===" react-text: "+t+" "||8===e.nodeType&&e.nodeValue===" react-empty: "+t+" "}function l(e){for(var t;t=e._renderedComponent;)e=t;return e}function f(e,t){var n=l(e);n._hostNode=t,t[u]=n}function p(e,t){if(!(e._flags&s.hasCachedChildNodes)){var n=e._renderedChildren,o=t.firstChild;e:for(var i in n)if(n.hasOwnProperty(i)){var a=n[i],u=l(a)._domID;if(0!==u){for(;null!==o;o=o.nextSibling)if(c(o,u)){f(a,o);continue e}r("32",u)}}e._flags|=s.hasCachedChildNodes}}function d(e){if(e[u])return e[u];for(var t,n,r=[];!e[u];){if(r.push(e),!e.parentNode)return null;e=e.parentNode}for(;e&&(n=e[u]);e=r.pop())t=n,r.length&&p(n,e);return t}var h={getClosestInstanceFromNode:d,getInstanceFromNode:function(e){var t=d(e);return null!=t&&t._hostNode===e?t:null},getNodeFromInstance:function(e){if(void 0===e._hostNode&&r("33"),e._hostNode)return e._hostNode;for(var t=[];!e._hostNode;)t.push(e),e._hostParent||r("34"),e=e._hostParent;for(;t.length;e=t.pop())p(e,e._hostNode);return e._hostNode},precacheChildNodes:p,precacheNode:f,uncacheNode:function(e){var t=e._hostNode;t&&(delete t[u],e._hostNode=null)}};e.exports=h},function(e,t,n){"use strict";var r=n(111);e.exports={USER_AGENT:"".concat(r.title," ").concat(r.version),SIP:"sip",SIPS:"sips",causes:{CONNECTION_ERROR:"Connection Error",REQUEST_TIMEOUT:"Request Timeout",SIP_FAILURE_CODE:"SIP Failure Code",INTERNAL_ERROR:"Internal Error",BUSY:"Busy",REJECTED:"Rejected",REDIRECTED:"Redirected",UNAVAILABLE:"Unavailable",NOT_FOUND:"Not Found",ADDRESS_INCOMPLETE:"Address Incomplete",INCOMPATIBLE_SDP:"Incompatible SDP",MISSING_SDP:"Missing SDP",AUTHENTICATION_ERROR:"Authentication Error",BYE:"Terminated",WEBRTC_ERROR:"WebRTC Error",CANCELED:"Canceled",NO_ANSWER:"No Answer",EXPIRES:"Expires",NO_ACK:"No ACK",DIALOG_ERROR:"Dialog Error",USER_DENIED_MEDIA_ACCESS:"User Denied Media Access",BAD_MEDIA_DESCRIPTION:"Bad Media Description",RTP_TIMEOUT:"RTP Timeout"},SIP_ERROR_CAUSES:{REDIRECTED:[300,301,302,305,380],BUSY:[486,600],REJECTED:[403,603],NOT_FOUND:[404,604],UNAVAILABLE:[480,410,408,430],ADDRESS_INCOMPLETE:[484,424],INCOMPATIBLE_SDP:[488,606],AUTHENTICATION_ERROR:[401,407]},ACK:"ACK",BYE:"BYE",CANCEL:"CANCEL",INFO:"INFO",INVITE:"INVITE",MESSAGE:"MESSAGE",NOTIFY:"NOTIFY",OPTIONS:"OPTIONS",REGISTER:"REGISTER",REFER:"REFER",UPDATE:"UPDATE",SUBSCRIBE:"SUBSCRIBE",REASON_PHRASE:{100:"Trying",180:"Ringing",181:"Call Is Being Forwarded",182:"Queued",183:"Session Progress",199:"Early Dialog Terminated",200:"OK",202:"Accepted",204:"No Notification",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",305:"Use Proxy",380:"Alternative Service",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",410:"Gone",412:"Conditional Request Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Unsupported URI Scheme",417:"Unknown Resource-Priority",420:"Bad Extension",421:"Extension Required",422:"Session Interval Too Small",423:"Interval Too Brief",424:"Bad Location Information",428:"Use Identity Header",429:"Provide Referrer Identity",430:"Flow Failed",433:"Anonymity Disallowed",436:"Bad Identity-Info",437:"Unsupported Certificate",438:"Invalid Identity Header",439:"First Hop Lacks Outbound Support",440:"Max-Breadth Exceeded",469:"Bad Info Package",470:"Consent Needed",478:"Unresolvable Destination",480:"Temporarily Unavailable",481:"Call/Transaction Does Not Exist",482:"Loop Detected",483:"Too Many Hops",484:"Address Incomplete",485:"Ambiguous",486:"Busy Here",487:"Request Terminated",488:"Not Acceptable Here",489:"Bad Event",491:"Request Pending",493:"Undecipherable",494:"Security Agreement Required",500:"JsSIP Internal Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Server Time-out",505:"Version Not Supported",513:"Message Too Large",580:"Precondition Failure",600:"Busy Everywhere",603:"Decline",604:"Does Not Exist Anywhere",606:"Not Acceptable"},ALLOWED_METHODS:"INVITE,ACK,CANCEL,BYE,UPDATE,MESSAGE,OPTIONS,REFER,INFO",ACCEPTED_BODY_TYPES:"application/sdp, application/dtmf-relay",MAX_FORWARDS:69,SESSION_EXPIRES:90,MIN_SESSION_EXPIRES:60}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(11),i=n(32),a=n(16);t.str_utf8_length=function(e){return unescape(encodeURIComponent(e)).length};var s=t.isFunction=function(e){return void 0!==e&&"[object Function]"===Object.prototype.toString.call(e)};t.isString=function(e){return void 0!==e&&"[object String]"===Object.prototype.toString.call(e)},t.isDecimal=function(e){return!isNaN(e)&&parseFloat(e)===parseInt(e,10)},t.isEmpty=function(e){return null===e||""===e||void 0===e||Array.isArray(e)&&0===e.length||"number"==typeof e&&isNaN(e)},t.hasMethods=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o=0;o<n.length;o++){var i=n[o];if(s(e[i]))return!1}return!0};var u=t.createRandomToken=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,r="";for(t=0;t<e;t++)r+=(Math.random()*n|0).toString(n);return r};t.newTag=function(){return u(10)},t.newUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},t.hostType=function(e){if(e)return-1!==(e=a.parse(e,"host"))?e.host_type:void 0};var c=t.escapeUser=function(e){return encodeURIComponent(decodeURIComponent(e)).replace(/%3A/gi,":").replace(/%2B/gi,"+").replace(/%3F/gi,"?").replace(/%2F/gi,"/")};t.normalizeTarget=function(e,t){if(e){if(e instanceof i)return e;if("string"==typeof e){var n,r,a,s=e.split("@");switch(s.length){case 1:if(!t)return;n=e,r=t;break;case 2:n=s[0],r=s[1];break;default:n=s.slice(0,s.length-1).join("@"),r=s[s.length-1]}return n=n.replace(/^(sips?|tel):/i,""),/^[-.()]*\+?[0-9\-.()]+$/.test(n)&&(n=n.replace(/[-.()]/g,"")),e="".concat(o.SIP,":").concat(c(n),"@").concat(r),(a=i.parse(e))?a:void 0}}else;},t.headerize=function(e){var t,n={"Call-Id":"Call-ID",Cseq:"CSeq","Www-Authenticate":"WWW-Authenticate"},r=e.toLowerCase().replace(/_/g,"-").split("-"),o="",i=r.length;for(t=0;t<i;t++)0!==t&&(o+="-"),o+=r[t].charAt(0).toUpperCase()+r[t].substring(1);return n[o]&&(o=n[o]),o},t.sipErrorCause=function(e){for(var t in o.SIP_ERROR_CAUSES)if(-1!==o.SIP_ERROR_CAUSES[t].indexOf(e))return o.causes[t];return o.causes.SIP_FAILURE_CODE},t.getRandomTestNetIP=function(){return"192.0.2.".concat((e=1,t=254,Math.floor(Math.random()*(t-e+1)+e)));var e,t},t.calculateMD5=function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n=2147483648&e,r=2147483648&t,o=1073741824&e,i=1073741824&t,a=(1073741823&e)+(1073741823&t);return o&i?2147483648^a^n^r:o|i?1073741824&a?3221225472^a^n^r:1073741824^a^n^r:a^n^r}function r(e,r,o,i,a,s,u){return e=n(e,n(n(function(e,t,n){return e&t|~e&n}(r,o,i),a),u)),n(t(e,s),r)}function o(e,r,o,i,a,s,u){return e=n(e,n(n(function(e,t,n){return e&n|t&~n}(r,o,i),a),u)),n(t(e,s),r)}function i(e,r,o,i,a,s,u){return e=n(e,n(n(function(e,t,n){return e^t^n}(r,o,i),a),u)),n(t(e,s),r)}function a(e,r,o,i,a,s,u){return e=n(e,n(n(function(e,t,n){return t^(e|~n)}(r,o,i),a),u)),n(t(e,s),r)}function s(e){var t,n="",r="";for(t=0;t<=3;t++)n+=(r="0".concat((e>>>8*t&255).toString(16))).substr(r.length-2,2);return n}var u,c,l,f,p,d,h,v,m,g;for(u=function(e){for(var t,n=e.length,r=n+8,o=16*((r-r%64)/64+1),i=new Array(o-1),a=0,s=0;s<n;)a=s%4*8,i[t=(s-s%4)/4]=i[t]|e.charCodeAt(s)<<a,s++;return a=s%4*8,i[t=(s-s%4)/4]=i[t]|128<<a,i[o-2]=n<<3,i[o-1]=n>>>29,i}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}(e)),h=1732584193,v=4023233417,m=2562383102,g=271733878,c=0;c<u.length;c+=16)l=h,f=v,p=m,d=g,h=r(h,v,m,g,u[c+0],7,3614090360),g=r(g,h,v,m,u[c+1],12,3905402710),m=r(m,g,h,v,u[c+2],17,606105819),v=r(v,m,g,h,u[c+3],22,3250441966),h=r(h,v,m,g,u[c+4],7,4118548399),g=r(g,h,v,m,u[c+5],12,1200080426),m=r(m,g,h,v,u[c+6],17,2821735955),v=r(v,m,g,h,u[c+7],22,4249261313),h=r(h,v,m,g,u[c+8],7,1770035416),g=r(g,h,v,m,u[c+9],12,2336552879),m=r(m,g,h,v,u[c+10],17,4294925233),v=r(v,m,g,h,u[c+11],22,2304563134),h=r(h,v,m,g,u[c+12],7,1804603682),g=r(g,h,v,m,u[c+13],12,4254626195),m=r(m,g,h,v,u[c+14],17,2792965006),h=o(h,v=r(v,m,g,h,u[c+15],22,1236535329),m,g,u[c+1],5,4129170786),g=o(g,h,v,m,u[c+6],9,3225465664),m=o(m,g,h,v,u[c+11],14,643717713),v=o(v,m,g,h,u[c+0],20,3921069994),h=o(h,v,m,g,u[c+5],5,3593408605),g=o(g,h,v,m,u[c+10],9,38016083),m=o(m,g,h,v,u[c+15],14,3634488961),v=o(v,m,g,h,u[c+4],20,3889429448),h=o(h,v,m,g,u[c+9],5,568446438),g=o(g,h,v,m,u[c+14],9,3275163606),m=o(m,g,h,v,u[c+3],14,4107603335),v=o(v,m,g,h,u[c+8],20,1163531501),h=o(h,v,m,g,u[c+13],5,2850285829),g=o(g,h,v,m,u[c+2],9,4243563512),m=o(m,g,h,v,u[c+7],14,1735328473),h=i(h,v=o(v,m,g,h,u[c+12],20,2368359562),m,g,u[c+5],4,4294588738),g=i(g,h,v,m,u[c+8],11,2272392833),m=i(m,g,h,v,u[c+11],16,1839030562),v=i(v,m,g,h,u[c+14],23,4259657740),h=i(h,v,m,g,u[c+1],4,2763975236),g=i(g,h,v,m,u[c+4],11,1272893353),m=i(m,g,h,v,u[c+7],16,4139469664),v=i(v,m,g,h,u[c+10],23,3200236656),h=i(h,v,m,g,u[c+13],4,681279174),g=i(g,h,v,m,u[c+0],11,3936430074),m=i(m,g,h,v,u[c+3],16,3572445317),v=i(v,m,g,h,u[c+6],23,76029189),h=i(h,v,m,g,u[c+9],4,3654602809),g=i(g,h,v,m,u[c+12],11,3873151461),m=i(m,g,h,v,u[c+15],16,530742520),h=a(h,v=i(v,m,g,h,u[c+2],23,3299628645),m,g,u[c+0],6,4096336452),g=a(g,h,v,m,u[c+7],10,1126891415),m=a(m,g,h,v,u[c+14],15,2878612391),v=a(v,m,g,h,u[c+5],21,4237533241),h=a(h,v,m,g,u[c+12],6,1700485571),g=a(g,h,v,m,u[c+3],10,2399980690),m=a(m,g,h,v,u[c+10],15,4293915773),v=a(v,m,g,h,u[c+1],21,2240044497),h=a(h,v,m,g,u[c+8],6,1873313359),g=a(g,h,v,m,u[c+15],10,4264355552),m=a(m,g,h,v,u[c+6],15,2734768916),v=a(v,m,g,h,u[c+13],21,1309151649),h=a(h,v,m,g,u[c+4],6,4149444226),g=a(g,h,v,m,u[c+11],10,3174756917),m=a(m,g,h,v,u[c+2],15,718787259),v=a(v,m,g,h,u[c+9],21,3951481745),h=n(h,l),v=n(v,f),m=n(m,p),g=n(g,d);return(s(h)+s(v)+s(m)+s(g)).toLowerCase()},t.closeMediaStream=function(e){if(e)try{var t;if(e.getTracks){t=e.getTracks();var n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){a.value.stop()}}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}}else{t=e.getAudioTracks();var u=!0,c=!1,l=void 0;try{for(var f,p=t[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){f.value.stop()}}catch(e){c=!0,l=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}t=e.getVideoTracks();var d=!0,h=!1,v=void 0;try{for(var m,g=t[Symbol.iterator]();!(d=(m=g.next()).done);d=!0){m.value.stop()}}catch(e){h=!0,v=e}finally{try{d||null==g.return||g.return()}finally{if(h)throw v}}}}catch(t){"function"!=typeof e.stop&&"object"!==r(e.stop)||e.stop()}},t.cloneArray=function(e){return e&&e.slice()||[]}},function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=o},function(e,t,n){"use strict";e.exports={debugTool:null}},function(e,t,n){"use strict";e.exports=function(){function e(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var t={parse:function(t,r){var o={CRLF:l,DIGIT:f,ALPHA:p,HEXDIG:d,WSP:h,OCTET:v,DQUOTE:m,SP:g,HTAB:y,alphanum:_,reserved:b,unreserved:C,mark:A,escaped:E,LWS:S,SWS:T,HCOLON:w,TEXT_UTF8_TRIM:k,TEXT_UTF8char:R,UTF8_NONASCII:O,UTF8_CONT:x,LHEX:function(){var e;null===(e=f())&&(/^[a-f]/.test(t.charAt(i))?(e=t.charAt(i),i++):(e=null,0===a&&c("[a-f]")));return e},token:I,token_nodot:P,separators:function(){var e;40===t.charCodeAt(i)?(e="(",i++):(e=null,0===a&&c('"("'));null===e&&(41===t.charCodeAt(i)?(e=")",i++):(e=null,0===a&&c('")"')),null===e&&(60===t.charCodeAt(i)?(e="<",i++):(e=null,0===a&&c('"<"')),null===e&&(62===t.charCodeAt(i)?(e=">",i++):(e=null,0===a&&c('">"')),null===e&&(64===t.charCodeAt(i)?(e="@",i++):(e=null,0===a&&c('"@"')),null===e&&(44===t.charCodeAt(i)?(e=",",i++):(e=null,0===a&&c('","')),null===e&&(59===t.charCodeAt(i)?(e=";",i++):(e=null,0===a&&c('";"')),null===e&&(58===t.charCodeAt(i)?(e=":",i++):(e=null,0===a&&c('":"')),null===e&&(92===t.charCodeAt(i)?(e="\\",i++):(e=null,0===a&&c('"\\\\"')),null===e&&null===(e=m())&&(47===t.charCodeAt(i)?(e="/",i++):(e=null,0===a&&c('"/"')),null===e&&(91===t.charCodeAt(i)?(e="[",i++):(e=null,0===a&&c('"["')),null===e&&(93===t.charCodeAt(i)?(e="]",i++):(e=null,0===a&&c('"]"')),null===e&&(63===t.charCodeAt(i)?(e="?",i++):(e=null,0===a&&c('"?"')),null===e&&(61===t.charCodeAt(i)?(e="=",i++):(e=null,0===a&&c('"="')),null===e&&(123===t.charCodeAt(i)?(e="{",i++):(e=null,0===a&&c('"{"')),null===e&&(125===t.charCodeAt(i)?(e="}",i++):(e=null,0===a&&c('"}"')),null===e&&null===(e=g())&&(e=y()))))))))))))))));return e},word:N,STAR:D,SLASH:M,EQUAL:U,LPAREN:j,RPAREN:L,RAQUOT:F,LAQUOT:B,COMMA:H,SEMI:q,COLON:W,LDQUOT:V,RDQUOT:G,comment:function e(){var t,n,r;var o;o=i;t=j();if(null!==t){for(n=[],null===(r=z())&&null===(r=J())&&(r=e());null!==r;)n.push(r),null===(r=z())&&null===(r=J())&&(r=e());null!==n&&null!==(r=L())?t=[t,n,r]:(t=null,i=o)}else t=null,i=o;return t},ctext:z,quoted_string:Y,quoted_string_clean:K,qdtext:Q,quoted_pair:J,SIP_URI_noparams:Z,SIP_URI:X,uri_scheme:$,uri_scheme_sips:ee,uri_scheme_sip:te,userinfo:ne,user:re,user_unreserved:oe,password:ie,hostport:ae,host:se,hostname:ue,domainlabel:ce,toplabel:le,IPv6reference:fe,IPv6address:pe,h16:de,ls32:he,IPv4address:ve,dec_octet:me,port:ge,uri_parameters:ye,uri_parameter:_e,transport_param:be,user_param:Ce,method_param:Ae,ttl_param:Ee,maddr_param:Se,lr_param:Te,other_param:we,pname:ke,pvalue:Re,paramchar:Oe,param_unreserved:xe,headers:Ie,header:Pe,hname:Ne,hvalue:De,hnv_unreserved:Me,Request_Response:function(){var e;null===(e=ft())&&(e=Ue());return e},Request_Line:Ue,Request_URI:je,absoluteURI:Le,hier_part:Fe,net_path:Be,abs_path:He,opaque_part:qe,uric:We,uric_no_slash:Ve,path_segments:Ge,segment:ze,param:Ye,pchar:Ke,scheme:Qe,authority:Je,srvr:Ze,reg_name:Xe,query:$e,SIP_Version:et,INVITEm:tt,ACKm:nt,OPTIONSm:rt,BYEm:ot,CANCELm:it,REGISTERm:at,SUBSCRIBEm:st,NOTIFYm:ut,REFERm:ct,Method:lt,Status_Line:ft,Status_Code:pt,extension_code:dt,Reason_Phrase:ht,Allow_Events:function(){var e,t,n,r,o,a;if(o=i,null!==(e=Lt())){for(t=[],a=i,null!==(n=H())&&null!==(r=Lt())?n=[n,r]:(n=null,i=a);null!==n;)t.push(n),a=i,null!==(n=H())&&null!==(r=Lt())?n=[n,r]:(n=null,i=a);null!==t?e=[e,t]:(e=null,i=o)}else e=null,i=o;return e},Call_ID:function(){var e,n,r,o,s,u;o=i,s=i,null!==(e=N())?(u=i,64===t.charCodeAt(i)?(n="@",i++):(n=null,0===a&&c('"@"')),null!==n&&null!==(r=N())?n=[n,r]:(n=null,i=u),null!==(n=null!==n?n:"")?e=[e,n]:(e=null,i=s)):(e=null,i=s);null!==e&&(l=o,e=void(Bn=t.substring(i,l)));var l;null===e&&(i=o);return e},Contact:function(){var e,t,n,r,o,a,s;if(o=i,null===(e=D()))if(a=i,null!==(e=vt())){for(t=[],s=i,null!==(n=H())&&null!==(r=vt())?n=[n,r]:(n=null,i=s);null!==n;)t.push(n),s=i,null!==(n=H())&&null!==(r=vt())?n=[n,r]:(n=null,i=s);null!==t?e=[e,t]:(e=null,i=a)}else e=null,i=a;null!==e&&(e=function(e){var t,n;for(n=Bn.multi_header.length,t=0;t<n;t++)if(null===Bn.multi_header[t].parsed){Bn=null;break}Bn=null!==Bn?Bn.multi_header:-1}());null===e&&(i=o);return e},contact_param:vt,name_addr:mt,display_name:gt,contact_params:yt,c_p_q:_t,c_p_expires:bt,delta_seconds:Ct,qvalue:At,generic_param:Et,gen_value:St,Content_Disposition:function(){var e,t,n,r,o,a;if(o=i,null!==(e=Tt())){for(t=[],a=i,null!==(n=q())&&null!==(r=wt())?n=[n,r]:(n=null,i=a);null!==n;)t.push(n),a=i,null!==(n=q())&&null!==(r=wt())?n=[n,r]:(n=null,i=a);null!==t?e=[e,t]:(e=null,i=o)}else e=null,i=o;return e},disp_type:Tt,disp_param:wt,handling_param:kt,Content_Encoding:function(){var e,t,n,r,o,a;if(o=i,null!==(e=I())){for(t=[],a=i,null!==(n=H())&&null!==(r=I())?n=[n,r]:(n=null,i=a);null!==n;)t.push(n),a=i,null!==(n=H())&&null!==(r=I())?n=[n,r]:(n=null,i=a);null!==t?e=[e,t]:(e=null,i=o)}else e=null,i=o;return e},Content_Length:function(){var e,t,n;if(n=i,null!==(t=f()))for(e=[];null!==t;)e.push(t),t=f();else e=null;null!==e&&(e=void(Bn=parseInt(e.join(""))));null===e&&(i=n);return e},Content_Type:function(){var e,n;n=i,null!==(e=Rt())&&(r=n,e=void(Bn=t.substring(i,r)));var r;null===e&&(i=n);return e},media_type:Rt,m_type:Ot,discrete_type:xt,composite_type:It,extension_token:Pt,x_token:Nt,m_subtype:Dt,m_parameter:Mt,m_value:Ut,CSeq:function(){var e,t,n,r;r=i,null!==(e=jt())&&null!==(t=S())&&null!==(n=lt())?e=[e,t,n]:(e=null,i=r);return e},CSeq_value:jt,Expires:function(){var e,t;t=i,null!==(e=Ct())&&(e=void(Bn=e));null===e&&(i=t);return e},Event:function(){var e,t,n,r,o,a,s;if(o=i,a=i,null!==(e=Lt())){for(t=[],s=i,null!==(n=q())&&null!==(r=Et())?n=[n,r]:(n=null,i=s);null!==n;)t.push(n),s=i,null!==(n=q())&&null!==(r=Et())?n=[n,r]:(n=null,i=s);null!==t?e=[e,t]:(e=null,i=a)}else e=null,i=a;null!==e&&(u=e[0],e=void(Bn.event=u.join("").toLowerCase()));var u;null===e&&(i=o);return e},event_type:Lt,From:function(){var e,t,n,r,o,a,s;o=i,a=i,null===(e=Z())&&(e=mt());if(null!==e){for(t=[],s=i,null!==(n=q())&&null!==(r=Ft())?n=[n,r]:(n=null,i=s);null!==n;)t.push(n),s=i,null!==(n=q())&&null!==(r=Ft())?n=[n,r]:(n=null,i=s);null!==t?e=[e,t]:(e=null,i=a)}else e=null,i=a;null!==e&&(e=function(e){var t=Bn.tag;try{Bn=new Fn(Bn.uri,Bn.display_name,Bn.params),t&&Bn.setParam("tag",t)}catch(e){Bn=-1}}());null===e&&(i=o);return e},from_param:Ft,tag_param:Bt,Max_Forwards:function(){var e,t,n;if(n=i,null!==(t=f()))for(e=[];null!==t;)e.push(t),t=f();else e=null;null!==e&&(e=void(Bn=parseInt(e.join(""))));null===e&&(i=n);return e},Min_Expires:function(){var e,t;t=i,null!==(e=Ct())&&(e=void(Bn=e));null===e&&(i=t);return e},Name_Addr_Header:function(){var e,t,n,r,o,a,s,u,c,l;u=i,c=i,e=[],t=gt();for(;null!==t;)e.push(t),t=gt();if(null!==e)if(null!==(t=B()))if(null!==(n=X()))if(null!==(r=F())){for(o=[],l=i,null!==(a=q())&&null!==(s=Et())?a=[a,s]:(a=null,i=l);null!==a;)o.push(a),l=i,null!==(a=q())&&null!==(s=Et())?a=[a,s]:(a=null,i=l);null!==o?e=[e,t,n,r,o]:(e=null,i=c)}else e=null,i=c;else e=null,i=c;else e=null,i=c;else e=null,i=c;null!==e&&(e=function(e){try{Bn=new Fn(Bn.uri,Bn.display_name,Bn.params)}catch(e){Bn=-1}}());null===e&&(i=u);return e},Proxy_Authenticate:function(){return Ht()},challenge:Ht,other_challenge:qt,auth_param:Wt,digest_cln:Vt,realm:Gt,realm_value:zt,domain:Yt,URI:Kt,nonce:Qt,nonce_value:Jt,opaque:Zt,stale:Xt,algorithm:$t,qop_options:en,qop_value:tn,Proxy_Require:function(){var e,t,n,r,o,a;if(o=i,null!==(e=I())){for(t=[],a=i,null!==(n=H())&&null!==(r=I())?n=[n,r]:(n=null,i=a);null!==n;)t.push(n),a=i,null!==(n=H())&&null!==(r=I())?n=[n,r]:(n=null,i=a);null!==t?e=[e,t]:(e=null,i=o)}else e=null,i=o;return e},Record_Route:function(){var e,t,n,r,o,a,s;if(o=i,a=i,null!==(e=nn())){for(t=[],s=i,null!==(n=H())&&null!==(r=nn())?n=[n,r]:(n=null,i=s);null!==n;)t.push(n),s=i,null!==(n=H())&&null!==(r=nn())?n=[n,r]:(n=null,i=s);null!==t?e=[e,t]:(e=null,i=a)}else e=null,i=a;null!==e&&(e=function(e){var t,n;for(n=Bn.multi_header.length,t=0;t<n;t++)if(null===Bn.multi_header[t].parsed){Bn=null;break}Bn=null!==Bn?Bn.multi_header:-1}());null===e&&(i=o);return e},rec_route:nn,Reason:function(){var e,n,r,o,s,u,l;s=i,u=i,"sip"===t.substr(i,3).toLowerCase()?(e=t.substr(i,3),i+=3):(e=null,0===a&&c('"SIP"'));null===e&&(e=I());if(null!==e){for(n=[],l=i,null!==(r=q())&&null!==(o=rn())?r=[r,o]:(r=null,i=l);null!==r;)n.push(r),l=i,null!==(r=q())&&null!==(o=rn())?r=[r,o]:(r=null,i=l);null!==n?e=[e,n]:(e=null,i=u)}else e=null,i=u;null!==e&&(e=function(e,t){if(Bn.protocol=t.toLowerCase(),Bn.params||(Bn.params={}),Bn.params.text&&'"'===Bn.params.text[0]){var n=Bn.params.text;Bn.text=n.substring(1,n.length-1),delete Bn.params.text}}(0,e[0]));null===e&&(i=s);return e},reason_param:rn,reason_cause:on,Require:function(){var e,t,n,r,o,a;if(o=i,null!==(e=I())){for(t=[],a=i,null!==(n=H())&&null!==(r=I())?n=[n,r]:(n=null,i=a);null!==n;)t.push(n),a=i,null!==(n=H())&&null!==(r=I())?n=[n,r]:(n=null,i=a);null!==t?e=[e,t]:(e=null,i=o)}else e=null,i=o;return e},Route:function(){var e,t,n,r,o,a;if(o=i,null!==(e=an())){for(t=[],a=i,null!==(n=H())&&null!==(r=an())?n=[n,r]:(n=null,i=a);null!==n;)t.push(n),a=i,null!==(n=H())&&null!==(r=an())?n=[n,r]:(n=null,i=a);null!==t?e=[e,t]:(e=null,i=o)}else e=null,i=o;return e},route_param:an,Subscription_State:function(){var e,t,n,r,o,a;if(o=i,null!==(e=sn())){for(t=[],a=i,null!==(n=q())&&null!==(r=un())?n=[n,r]:(n=null,i=a);null!==n;)t.push(n),a=i,null!==(n=q())&&null!==(r=un())?n=[n,r]:(n=null,i=a);null!==t?e=[e,t]:(e=null,i=o)}else e=null,i=o;return e},substate_value:sn,subexp_params:un,event_reason_value:cn,Subject:function(){var e;return e=null!==(e=k())?e:""},Supported:function(){var e,t,n,r,o,a;if(o=i,null!==(e=I())){for(t=[],a=i,null!==(n=H())&&null!==(r=I())?n=[n,r]:(n=null,i=a);null!==n;)t.push(n),a=i,null!==(n=H())&&null!==(r=I())?n=[n,r]:(n=null,i=a);null!==t?e=[e,t]:(e=null,i=o)}else e=null,i=o;return e=null!==e?e:""},To:function(){var e,t,n,r,o,a,s;o=i,a=i,null===(e=Z())&&(e=mt());if(null!==e){for(t=[],s=i,null!==(n=q())&&null!==(r=ln())?n=[n,r]:(n=null,i=s);null!==n;)t.push(n),s=i,null!==(n=q())&&null!==(r=ln())?n=[n,r]:(n=null,i=s);null!==t?e=[e,t]:(e=null,i=a)}else e=null,i=a;null!==e&&(e=function(e){var t=Bn.tag;try{Bn=new Fn(Bn.uri,Bn.display_name,Bn.params),t&&Bn.setParam("tag",t)}catch(e){Bn=-1}}());null===e&&(i=o);return e},to_param:ln,Via:function(){var e,t,n,r,o,a;if(o=i,null!==(e=fn())){for(t=[],a=i,null!==(n=H())&&null!==(r=fn())?n=[n,r]:(n=null,i=a);null!==n;)t.push(n),a=i,null!==(n=H())&&null!==(r=fn())?n=[n,r]:(n=null,i=a);null!==t?e=[e,t]:(e=null,i=o)}else e=null,i=o;return e},via_param:fn,via_params:pn,via_ttl:dn,via_maddr:hn,via_received:vn,via_branch:mn,response_port:gn,sent_protocol:yn,protocol_name:_n,transport:bn,sent_by:Cn,via_host:An,via_port:En,ttl:Sn,WWW_Authenticate:function(){return Ht()},Session_Expires:function(){var e,t,n,r,o,a;if(o=i,null!==(e=Tn())){for(t=[],a=i,null!==(n=q())&&null!==(r=wn())?n=[n,r]:(n=null,i=a);null!==n;)t.push(n),a=i,null!==(n=q())&&null!==(r=wn())?n=[n,r]:(n=null,i=a);null!==t?e=[e,t]:(e=null,i=o)}else e=null,i=o;return e},s_e_expires:Tn,s_e_params:wn,s_e_refresher:kn,extension_header:function(){var e,t,n,r;r=i,null!==(e=I())&&null!==(t=w())&&null!==(n=Rn())?e=[e,t,n]:(e=null,i=r);return e},header_value:Rn,message_body:function(){var e,t;e=[],t=v();for(;null!==t;)e.push(t),t=v();return e},uuid_URI:function(){var e,n,r;r=i,"uuid:"===t.substr(i,5)?(e="uuid:",i+=5):(e=null,0===a&&c('"uuid:"'));null!==e&&null!==(n=On())?e=[e,n]:(e=null,i=r);return e},uuid:On,hex4:xn,hex8:In,hex12:Pn,Refer_To:function(){var e,t,n,r,o,a,s;o=i,a=i,null===(e=Z())&&(e=mt());if(null!==e){for(t=[],s=i,null!==(n=q())&&null!==(r=Et())?n=[n,r]:(n=null,i=s);null!==n;)t.push(n),s=i,null!==(n=q())&&null!==(r=Et())?n=[n,r]:(n=null,i=s);null!==t?e=[e,t]:(e=null,i=a)}else e=null,i=a;null!==e&&(e=function(e){try{Bn=new Fn(Bn.uri,Bn.display_name,Bn.params)}catch(e){Bn=-1}}());null===e&&(i=o);return e},Replaces:function(){var e,t,n,r,o,a;if(o=i,null!==(e=Nn())){for(t=[],a=i,null!==(n=q())&&null!==(r=Dn())?n=[n,r]:(n=null,i=a);null!==n;)t.push(n),a=i,null!==(n=q())&&null!==(r=Dn())?n=[n,r]:(n=null,i=a);null!==t?e=[e,t]:(e=null,i=o)}else e=null,i=o;return e},call_id:Nn,replaces_param:Dn,to_tag:Mn,from_tag:Un,early_flag:jn};if(void 0!==r){if(void 0===o[r])throw new Error("Invalid rule name: "+e(r)+".")}else r="CRLF";var i=0,a=0,s=0,u=[];function c(e){i<s||(i>s&&(s=i,u=[]),u.push(e))}function l(){var e;return"\r\n"===t.substr(i,2)?(e="\r\n",i+=2):(e=null,0===a&&c('"\\r\\n"')),e}function f(){var e;return/^[0-9]/.test(t.charAt(i))?(e=t.charAt(i),i++):(e=null,0===a&&c("[0-9]")),e}function p(){var e;return/^[a-zA-Z]/.test(t.charAt(i))?(e=t.charAt(i),i++):(e=null,0===a&&c("[a-zA-Z]")),e}function d(){var e;return/^[0-9a-fA-F]/.test(t.charAt(i))?(e=t.charAt(i),i++):(e=null,0===a&&c("[0-9a-fA-F]")),e}function h(){var e;return null===(e=g())&&(e=y()),e}function v(){var e;return/^[\0-\xFF]/.test(t.charAt(i))?(e=t.charAt(i),i++):(e=null,0===a&&c("[\\0-\\xFF]")),e}function m(){var e;return/^["]/.test(t.charAt(i))?(e=t.charAt(i),i++):(e=null,0===a&&c('["]')),e}function g(){var e;return 32===t.charCodeAt(i)?(e=" ",i++):(e=null,0===a&&c('" "')),e}function y(){var e;return 9===t.charCodeAt(i)?(e="\t",i++):(e=null,0===a&&c('"\\t"')),e}function _(){var e;return/^[a-zA-Z0-9]/.test(t.charAt(i))?(e=t.charAt(i),i++):(e=null,0===a&&c("[a-zA-Z0-9]")),e}function b(){var e;return 59===t.charCodeAt(i)?(e=";",i++):(e=null,0===a&&c('";"')),null===e&&(47===t.charCodeAt(i)?(e="/",i++):(e=null,0===a&&c('"/"')),null===e&&(63===t.charCodeAt(i)?(e="?",i++):(e=null,0===a&&c('"?"')),null===e&&(58===t.charCodeAt(i)?(e=":",i++):(e=null,0===a&&c('":"')),null===e&&(64===t.charCodeAt(i)?(e="@",i++):(e=null,0===a&&c('"@"')),null===e&&(38===t.charCodeAt(i)?(e="&",i++):(e=null,0===a&&c('"&"')),null===e&&(61===t.charCodeAt(i)?(e="=",i++):(e=null,0===a&&c('"="')),null===e&&(43===t.charCodeAt(i)?(e="+",i++):(e=null,0===a&&c('"+"')),null===e&&(36===t.charCodeAt(i)?(e="$",i++):(e=null,0===a&&c('"$"')),null===e&&(44===t.charCodeAt(i)?(e=",",i++):(e=null,0===a&&c('","'))))))))))),e}function C(){var e;return null===(e=_())&&(e=A()),e}function A(){var e;return 45===t.charCodeAt(i)?(e="-",i++):(e=null,0===a&&c('"-"')),null===e&&(95===t.charCodeAt(i)?(e="_",i++):(e=null,0===a&&c('"_"')),null===e&&(46===t.charCodeAt(i)?(e=".",i++):(e=null,0===a&&c('"."')),null===e&&(33===t.charCodeAt(i)?(e="!",i++):(e=null,0===a&&c('"!"')),null===e&&(126===t.charCodeAt(i)?(e="~",i++):(e=null,0===a&&c('"~"')),null===e&&(42===t.charCodeAt(i)?(e="*",i++):(e=null,0===a&&c('"*"')),null===e&&(39===t.charCodeAt(i)?(e="'",i++):(e=null,0===a&&c('"\'"')),null===e&&(40===t.charCodeAt(i)?(e="(",i++):(e=null,0===a&&c('"("')),null===e&&(41===t.charCodeAt(i)?(e=")",i++):(e=null,0===a&&c('")"')))))))))),e}function E(){var e,n,r,o,s;return o=i,s=i,37===t.charCodeAt(i)?(e="%",i++):(e=null,0===a&&c('"%"')),null!==e&&null!==(n=d())&&null!==(r=d())?e=[e,n,r]:(e=null,i=s),null!==e&&(e=e.join("")),null===e&&(i=o),e}function S(){var e,t,n,r,o,a;for(r=i,o=i,a=i,e=[],t=h();null!==t;)e.push(t),t=h();if(null!==e&&null!==(t=l())?e=[e,t]:(e=null,i=a),null!==(e=null!==e?e:"")){if(null!==(n=h()))for(t=[];null!==n;)t.push(n),n=h();else t=null;null!==t?e=[e,t]:(e=null,i=o)}else e=null,i=o;return null!==e&&(e=" "),null===e&&(i=r),e}function T(){var e;return e=null!==(e=S())?e:""}function w(){var e,n,r,o,s;for(o=i,s=i,e=[],null===(n=g())&&(n=y());null!==n;)e.push(n),null===(n=g())&&(n=y());return null!==e?(58===t.charCodeAt(i)?(n=":",i++):(n=null,0===a&&c('":"')),null!==n&&null!==(r=T())?e=[e,n,r]:(e=null,i=s)):(e=null,i=s),null!==e&&(e=":"),null===e&&(i=o),e}function k(){var e,n,r,o,a,s,u,c;if(a=i,s=i,null!==(n=R()))for(e=[];null!==n;)e.push(n),n=R();else e=null;if(null!==e){for(n=[],u=i,r=[],o=S();null!==o;)r.push(o),o=S();for(null!==r&&null!==(o=R())?r=[r,o]:(r=null,i=u);null!==r;){for(n.push(r),u=i,r=[],o=S();null!==o;)r.push(o),o=S();null!==r&&null!==(o=R())?r=[r,o]:(r=null,i=u)}null!==n?e=[e,n]:(e=null,i=s)}else e=null,i=s;return null!==e&&(c=a,e=t.substring(i,c)),null===e&&(i=a),e}function R(){var e;return/^[!-~]/.test(t.charAt(i))?(e=t.charAt(i),i++):(e=null,0===a&&c("[!-~]")),null===e&&(e=O()),e}function O(){var e;return/^[\x80-\uFFFF]/.test(t.charAt(i))?(e=t.charAt(i),i++):(e=null,0===a&&c("[\\x80-\\uFFFF]")),e}function x(){var e;return/^[\x80-\xBF]/.test(t.charAt(i))?(e=t.charAt(i),i++):(e=null,0===a&&c("[\\x80-\\xBF]")),e}function I(){var e,n,r,o;if(r=i,null===(n=_())&&(45===t.charCodeAt(i)?(n="-",i++):(n=null,0===a&&c('"-"')),null===n&&(46===t.charCodeAt(i)?(n=".",i++):(n=null,0===a&&c('"."')),null===n&&(33===t.charCodeAt(i)?(n="!",i++):(n=null,0===a&&c('"!"')),null===n&&(37===t.charCodeAt(i)?(n="%",i++):(n=null,0===a&&c('"%"')),null===n&&(42===t.charCodeAt(i)?(n="*",i++):(n=null,0===a&&c('"*"')),null===n&&(95===t.charCodeAt(i)?(n="_",i++):(n=null,0===a&&c('"_"')),null===n&&(43===t.charCodeAt(i)?(n="+",i++):(n=null,0===a&&c('"+"')),null===n&&(96===t.charCodeAt(i)?(n="`",i++):(n=null,0===a&&c('"`"')),null===n&&(39===t.charCodeAt(i)?(n="'",i++):(n=null,0===a&&c('"\'"')),null===n&&(126===t.charCodeAt(i)?(n="~",i++):(n=null,0===a&&c('"~"')))))))))))),null!==n)for(e=[];null!==n;)e.push(n),null===(n=_())&&(45===t.charCodeAt(i)?(n="-",i++):(n=null,0===a&&c('"-"')),null===n&&(46===t.charCodeAt(i)?(n=".",i++):(n=null,0===a&&c('"."')),null===n&&(33===t.charCodeAt(i)?(n="!",i++):(n=null,0===a&&c('"!"')),null===n&&(37===t.charCodeAt(i)?(n="%",i++):(n=null,0===a&&c('"%"')),null===n&&(42===t.charCodeAt(i)?(n="*",i++):(n=null,0===a&&c('"*"')),null===n&&(95===t.charCodeAt(i)?(n="_",i++):(n=null,0===a&&c('"_"')),null===n&&(43===t.charCodeAt(i)?(n="+",i++):(n=null,0===a&&c('"+"')),null===n&&(96===t.charCodeAt(i)?(n="`",i++):(n=null,0===a&&c('"`"')),null===n&&(39===t.charCodeAt(i)?(n="'",i++):(n=null,0===a&&c('"\'"')),null===n&&(126===t.charCodeAt(i)?(n="~",i++):(n=null,0===a&&c('"~"'))))))))))));else e=null;return null!==e&&(o=r,e=t.substring(i,o)),null===e&&(i=r),e}function P(){var e,n,r,o;if(r=i,null===(n=_())&&(45===t.charCodeAt(i)?(n="-",i++):(n=null,0===a&&c('"-"')),null===n&&(33===t.charCodeAt(i)?(n="!",i++):(n=null,0===a&&c('"!"')),null===n&&(37===t.charCodeAt(i)?(n="%",i++):(n=null,0===a&&c('"%"')),null===n&&(42===t.charCodeAt(i)?(n="*",i++):(n=null,0===a&&c('"*"')),null===n&&(95===t.charCodeAt(i)?(n="_",i++):(n=null,0===a&&c('"_"')),null===n&&(43===t.charCodeAt(i)?(n="+",i++):(n=null,0===a&&c('"+"')),null===n&&(96===t.charCodeAt(i)?(n="`",i++):(n=null,0===a&&c('"`"')),null===n&&(39===t.charCodeAt(i)?(n="'",i++):(n=null,0===a&&c('"\'"')),null===n&&(126===t.charCodeAt(i)?(n="~",i++):(n=null,0===a&&c('"~"'))))))))))),null!==n)for(e=[];null!==n;)e.push(n),null===(n=_())&&(45===t.charCodeAt(i)?(n="-",i++):(n=null,0===a&&c('"-"')),null===n&&(33===t.charCodeAt(i)?(n="!",i++):(n=null,0===a&&c('"!"')),null===n&&(37===t.charCodeAt(i)?(n="%",i++):(n=null,0===a&&c('"%"')),null===n&&(42===t.charCodeAt(i)?(n="*",i++):(n=null,0===a&&c('"*"')),null===n&&(95===t.charCodeAt(i)?(n="_",i++):(n=null,0===a&&c('"_"')),null===n&&(43===t.charCodeAt(i)?(n="+",i++):(n=null,0===a&&c('"+"')),null===n&&(96===t.charCodeAt(i)?(n="`",i++):(n=null,0===a&&c('"`"')),null===n&&(39===t.charCodeAt(i)?(n="'",i++):(n=null,0===a&&c('"\'"')),null===n&&(126===t.charCodeAt(i)?(n="~",i++):(n=null,0===a&&c('"~"')))))))))));else e=null;return null!==e&&(o=r,e=t.substring(i,o)),null===e&&(i=r),e}function N(){var e,n,r,o;if(r=i,null===(n=_())&&(45===t.charCodeAt(i)?(n="-",i++):(n=null,0===a&&c('"-"')),null===n&&(46===t.charCodeAt(i)?(n=".",i++):(n=null,0===a&&c('"."')),null===n&&(33===t.charCodeAt(i)?(n="!",i++):(n=null,0===a&&c('"!"')),null===n&&(37===t.charCodeAt(i)?(n="%",i++):(n=null,0===a&&c('"%"')),null===n&&(42===t.charCodeAt(i)?(n="*",i++):(n=null,0===a&&c('"*"')),null===n&&(95===t.charCodeAt(i)?(n="_",i++):(n=null,0===a&&c('"_"')),null===n&&(43===t.charCodeAt(i)?(n="+",i++):(n=null,0===a&&c('"+"')),null===n&&(96===t.charCodeAt(i)?(n="`",i++):(n=null,0===a&&c('"`"')),null===n&&(39===t.charCodeAt(i)?(n="'",i++):(n=null,0===a&&c('"\'"')),null===n&&(126===t.charCodeAt(i)?(n="~",i++):(n=null,0===a&&c('"~"')),null===n&&(40===t.charCodeAt(i)?(n="(",i++):(n=null,0===a&&c('"("')),null===n&&(41===t.charCodeAt(i)?(n=")",i++):(n=null,0===a&&c('")"')),null===n&&(60===t.charCodeAt(i)?(n="<",i++):(n=null,0===a&&c('"<"')),null===n&&(62===t.charCodeAt(i)?(n=">",i++):(n=null,0===a&&c('">"')),null===n&&(58===t.charCodeAt(i)?(n=":",i++):(n=null,0===a&&c('":"')),null===n&&(92===t.charCodeAt(i)?(n="\\",i++):(n=null,0===a&&c('"\\\\"')),null===n&&null===(n=m())&&(47===t.charCodeAt(i)?(n="/",i++):(n=null,0===a&&c('"/"')),null===n&&(91===t.charCodeAt(i)?(n="[",i++):(n=null,0===a&&c('"["')),null===n&&(93===t.charCodeAt(i)?(n="]",i++):(n=null,0===a&&c('"]"')),null===n&&(63===t.charCodeAt(i)?(n="?",i++):(n=null,0===a&&c('"?"')),null===n&&(123===t.charCodeAt(i)?(n="{",i++):(n=null,0===a&&c('"{"')),null===n&&(125===t.charCodeAt(i)?(n="}",i++):(n=null,0===a&&c('"}"')))))))))))))))))))))))),null!==n)for(e=[];null!==n;)e.push(n),null===(n=_())&&(45===t.charCodeAt(i)?(n="-",i++):(n=null,0===a&&c('"-"')),null===n&&(46===t.charCodeAt(i)?(n=".",i++):(n=null,0===a&&c('"."')),null===n&&(33===t.charCodeAt(i)?(n="!",i++):(n=null,0===a&&c('"!"')),null===n&&(37===t.charCodeAt(i)?(n="%",i++):(n=null,0===a&&c('"%"')),null===n&&(42===t.charCodeAt(i)?(n="*",i++):(n=null,0===a&&c('"*"')),null===n&&(95===t.charCodeAt(i)?(n="_",i++):(n=null,0===a&&c('"_"')),null===n&&(43===t.charCodeAt(i)?(n="+",i++):(n=null,0===a&&c('"+"')),null===n&&(96===t.charCodeAt(i)?(n="`",i++):(n=null,0===a&&c('"`"')),null===n&&(39===t.charCodeAt(i)?(n="'",i++):(n=null,0===a&&c('"\'"')),null===n&&(126===t.charCodeAt(i)?(n="~",i++):(n=null,0===a&&c('"~"')),null===n&&(40===t.charCodeAt(i)?(n="(",i++):(n=null,0===a&&c('"("')),null===n&&(41===t.charCodeAt(i)?(n=")",i++):(n=null,0===a&&c('")"')),null===n&&(60===t.charCodeAt(i)?(n="<",i++):(n=null,0===a&&c('"<"')),null===n&&(62===t.charCodeAt(i)?(n=">",i++):(n=null,0===a&&c('">"')),null===n&&(58===t.charCodeAt(i)?(n=":",i++):(n=null,0===a&&c('":"')),null===n&&(92===t.charCodeAt(i)?(n="\\",i++):(n=null,0===a&&c('"\\\\"')),null===n&&null===(n=m())&&(47===t.charCodeAt(i)?(n="/",i++):(n=null,0===a&&c('"/"')),null===n&&(91===t.charCodeAt(i)?(n="[",i++):(n=null,0===a&&c('"["')),null===n&&(93===t.charCodeAt(i)?(n="]",i++):(n=null,0===a&&c('"]"')),null===n&&(63===t.charCodeAt(i)?(n="?",i++):(n=null,0===a&&c('"?"')),null===n&&(123===t.charCodeAt(i)?(n="{",i++):(n=null,0===a&&c('"{"')),null===n&&(125===t.charCodeAt(i)?(n="}",i++):(n=null,0===a&&c('"}"'))))))))))))))))))))))));else e=null;return null!==e&&(o=r,e=t.substring(i,o)),null===e&&(i=r),e}function D(){var e,n,r,o,s;return o=i,s=i,null!==(e=T())?(42===t.charCodeAt(i)?(n="*",i++):(n=null,0===a&&c('"*"')),null!==n&&null!==(r=T())?e=[e,n,r]:(e=null,i=s)):(e=null,i=s),null!==e&&(e="*"),null===e&&(i=o),e}function M(){var e,n,r,o,s;return o=i,s=i,null!==(e=T())?(47===t.charCodeAt(i)?(n="/",i++):(n=null,0===a&&c('"/"')),null!==n&&null!==(r=T())?e=[e,n,r]:(e=null,i=s)):(e=null,i=s),null!==e&&(e="/"),null===e&&(i=o),e}function U(){var e,n,r,o,s;return o=i,s=i,null!==(e=T())?(61===t.charCodeAt(i)?(n="=",i++):(n=null,0===a&&c('"="')),null!==n&&null!==(r=T())?e=[e,n,r]:(e=null,i=s)):(e=null,i=s),null!==e&&(e="="),null===e&&(i=o),e}function j(){var e,n,r,o,s;return o=i,s=i,null!==(e=T())?(40===t.charCodeAt(i)?(n="(",i++):(n=null,0===a&&c('"("')),null!==n&&null!==(r=T())?e=[e,n,r]:(e=null,i=s)):(e=null,i=s),null!==e&&(e="("),null===e&&(i=o),e}function L(){var e,n,r,o,s;return o=i,s=i,null!==(e=T())?(41===t.charCodeAt(i)?(n=")",i++):(n=null,0===a&&c('")"')),null!==n&&null!==(r=T())?e=[e,n,r]:(e=null,i=s)):(e=null,i=s),null!==e&&(e=")"),null===e&&(i=o),e}function F(){var e,n,r,o;return r=i,o=i,62===t.charCodeAt(i)?(e=">",i++):(e=null,0===a&&c('">"')),null!==e&&null!==(n=T())?e=[e,n]:(e=null,i=o),null!==e&&(e=">"),null===e&&(i=r),e}function B(){var e,n,r,o;return r=i,o=i,null!==(e=T())?(60===t.charCodeAt(i)?(n="<",i++):(n=null,0===a&&c('"<"')),null!==n?e=[e,n]:(e=null,i=o)):(e=null,i=o),null!==e&&(e="<"),null===e&&(i=r),e}function H(){var e,n,r,o,s;return o=i,s=i,null!==(e=T())?(44===t.charCodeAt(i)?(n=",",i++):(n=null,0===a&&c('","')),null!==n&&null!==(r=T())?e=[e,n,r]:(e=null,i=s)):(e=null,i=s),null!==e&&(e=","),null===e&&(i=o),e}function q(){var e,n,r,o,s;return o=i,s=i,null!==(e=T())?(59===t.charCodeAt(i)?(n=";",i++):(n=null,0===a&&c('";"')),null!==n&&null!==(r=T())?e=[e,n,r]:(e=null,i=s)):(e=null,i=s),null!==e&&(e=";"),null===e&&(i=o),e}function W(){var e,n,r,o,s;return o=i,s=i,null!==(e=T())?(58===t.charCodeAt(i)?(n=":",i++):(n=null,0===a&&c('":"')),null!==n&&null!==(r=T())?e=[e,n,r]:(e=null,i=s)):(e=null,i=s),null!==e&&(e=":"),null===e&&(i=o),e}function V(){var e,t,n,r;return n=i,r=i,null!==(e=T())&&null!==(t=m())?e=[e,t]:(e=null,i=r),null!==e&&(e='"'),null===e&&(i=n),e}function G(){var e,t,n,r;return n=i,r=i,null!==(e=m())&&null!==(t=T())?e=[e,t]:(e=null,i=r),null!==e&&(e='"'),null===e&&(i=n),e}function z(){var e;return/^[!-']/.test(t.charAt(i))?(e=t.charAt(i),i++):(e=null,0===a&&c("[!-']")),null===e&&(/^[*-[]/.test(t.charAt(i))?(e=t.charAt(i),i++):(e=null,0===a&&c("[*-[]")),null===e&&(/^[\]-~]/.test(t.charAt(i))?(e=t.charAt(i),i++):(e=null,0===a&&c("[\\]-~]")),null===e&&null===(e=O())&&(e=S()))),e}function Y(){var e,n,r,o,a,s,u;if(a=i,s=i,null!==(e=T()))if(null!==(n=m())){for(r=[],null===(o=Q())&&(o=J());null!==o;)r.push(o),null===(o=Q())&&(o=J());null!==r&&null!==(o=m())?e=[e,n,r,o]:(e=null,i=s)}else e=null,i=s;else e=null,i=s;return null!==e&&(u=a,e=t.substring(i,u)),null===e&&(i=a),e}function K(){var e,n,r,o,a,s,u;if(a=i,s=i,null!==(e=T()))if(null!==(n=m())){for(r=[],null===(o=Q())&&(o=J());null!==o;)r.push(o),null===(o=Q())&&(o=J());null!==r&&null!==(o=m())?e=[e,n,r,o]:(e=null,i=s)}else e=null,i=s;else e=null,i=s;return null!==e&&(u=a,e=t.substring(i-1,u+1)),null===e&&(i=a),e}function Q(){var e;return null===(e=S())&&(33===t.charCodeAt(i)?(e="!",i++):(e=null,0===a&&c('"!"')),null===e&&(/^[#-[]/.test(t.charAt(i))?(e=t.charAt(i),i++):(e=null,0===a&&c("[#-[]")),null===e&&(/^[\]-~]/.test(t.charAt(i))?(e=t.charAt(i),i++):(e=null,0===a&&c("[\\]-~]")),null===e&&(e=O())))),e}function J(){var e,n,r;return r=i,92===t.charCodeAt(i)?(e="\\",i++):(e=null,0===a&&c('"\\\\"')),null!==e?(/^[\0-\t]/.test(t.charAt(i))?(n=t.charAt(i),i++):(n=null,0===a&&c("[\\0-\\t]")),null===n&&(/^[\x0B-\f]/.test(t.charAt(i))?(n=t.charAt(i),i++):(n=null,0===a&&c("[\\x0B-\\f]")),null===n&&(/^[\x0E-]/.test(t.charAt(i))?(n=t.charAt(i),i++):(n=null,0===a&&c("[\\x0E-]")))),null!==n?e=[e,n]:(e=null,i=r)):(e=null,i=r),e}function Z(){var e,n,r,o,s,u;return s=i,u=i,null!==(e=$())?(58===t.charCodeAt(i)?(n=":",i++):(n=null,0===a&&c('":"')),null!==n&&null!==(r=null!==(r=ne())?r:"")&&null!==(o=ae())?e=[e,n,r,o]:(e=null,i=u)):(e=null,i=u),null!==e&&(e=function(e){try{Bn.uri=new Ln(Bn.scheme,Bn.user,Bn.host,Bn.port),delete Bn.scheme,delete Bn.user,delete Bn.host,delete Bn.host_type,delete Bn.port}catch(e){Bn=-1}}()),null===e&&(i=s),e}function X(){var e,n,o,s,u,l,f,p;return f=i,p=i,null!==(e=$())?(58===t.charCodeAt(i)?(n=":",i++):(n=null,0===a&&c('":"')),null!==n&&null!==(o=null!==(o=ne())?o:"")&&null!==(s=ae())&&null!==(u=ye())&&null!==(l=null!==(l=Ie())?l:"")?e=[e,n,o,s,u,l]:(e=null,i=p)):(e=null,i=p),null!==e&&(e=function(e){try{Bn.uri=new Ln(Bn.scheme,Bn.user,Bn.host,Bn.port,Bn.uri_params,Bn.uri_headers),delete Bn.scheme,delete Bn.user,delete Bn.host,delete Bn.host_type,delete Bn.port,delete Bn.uri_params,"SIP_URI"===r&&(Bn=Bn.uri)}catch(e){Bn=-1}}()),null===e&&(i=f),e}function $(){var e;return null===(e=ee())&&(e=te()),e}function ee(){var e,n,r;return n=i,"sips"===t.substr(i,4).toLowerCase()?(e=t.substr(i,4),i+=4):(e=null,0===a&&c('"sips"')),null!==e&&(r=e,e=void(Bn.scheme=r.toLowerCase())),null===e&&(i=n),e}function te(){var e,n,r;return n=i,"sip"===t.substr(i,3).toLowerCase()?(e=t.substr(i,3),i+=3):(e=null,0===a&&c('"sip"')),null!==e&&(r=e,e=void(Bn.scheme=r.toLowerCase())),null===e&&(i=n),e}function ne(){var e,n,r,o,s,u,l;return o=i,s=i,null!==(e=re())?(u=i,58===t.charCodeAt(i)?(n=":",i++):(n=null,0===a&&c('":"')),null!==n&&null!==(r=ie())?n=[n,r]:(n=null,i=u),null!==(n=null!==n?n:"")?(64===t.charCodeAt(i)?(r="@",i++):(r=null,0===a&&c('"@"')),null!==r?e=[e,n,r]:(e=null,i=s)):(e=null,i=s)):(e=null,i=s),null!==e&&(l=o,e=void(Bn.user=decodeURIComponent(t.substring(i-1,l)))),null===e&&(i=o),e}function re(){var e,t;if(null===(t=C())&&null===(t=E())&&(t=oe()),null!==t)for(e=[];null!==t;)e.push(t),null===(t=C())&&null===(t=E())&&(t=oe());else e=null;return e}function oe(){var e;return 38===t.charCodeAt(i)?(e="&",i++):(e=null,0===a&&c('"&"')),null===e&&(61===t.charCodeAt(i)?(e="=",i++):(e=null,0===a&&c('"="')),null===e&&(43===t.charCodeAt(i)?(e="+",i++):(e=null,0===a&&c('"+"')),null===e&&(36===t.charCodeAt(i)?(e="$",i++):(e=null,0===a&&c('"$"')),null===e&&(44===t.charCodeAt(i)?(e=",",i++):(e=null,0===a&&c('","')),null===e&&(59===t.charCodeAt(i)?(e=";",i++):(e=null,0===a&&c('";"')),null===e&&(63===t.charCodeAt(i)?(e="?",i++):(e=null,0===a&&c('"?"')),null===e&&(47===t.charCodeAt(i)?(e="/",i++):(e=null,0===a&&c('"/"'))))))))),e}function ie(){var e,n,r,o;for(r=i,e=[],null===(n=C())&&null===(n=E())&&(38===t.charCodeAt(i)?(n="&",i++):(n=null,0===a&&c('"&"')),null===n&&(61===t.charCodeAt(i)?(n="=",i++):(n=null,0===a&&c('"="')),null===n&&(43===t.charCodeAt(i)?(n="+",i++):(n=null,0===a&&c('"+"')),null===n&&(36===t.charCodeAt(i)?(n="$",i++):(n=null,0===a&&c('"$"')),null===n&&(44===t.charCodeAt(i)?(n=",",i++):(n=null,0===a&&c('","')))))));null!==n;)e.push(n),null===(n=C())&&null===(n=E())&&(38===t.charCodeAt(i)?(n="&",i++):(n=null,0===a&&c('"&"')),null===n&&(61===t.charCodeAt(i)?(n="=",i++):(n=null,0===a&&c('"="')),null===n&&(43===t.charCodeAt(i)?(n="+",i++):(n=null,0===a&&c('"+"')),null===n&&(36===t.charCodeAt(i)?(n="$",i++):(n=null,0===a&&c('"$"')),null===n&&(44===t.charCodeAt(i)?(n=",",i++):(n=null,0===a&&c('","')))))));return null!==e&&(o=r,e=void(Bn.password=t.substring(i,o))),null===e&&(i=r),e}function ae(){var e,n,r,o,s;return o=i,null!==(e=se())?(s=i,58===t.charCodeAt(i)?(n=":",i++):(n=null,0===a&&c('":"')),null!==n&&null!==(r=ge())?n=[n,r]:(n=null,i=s),null!==(n=null!==n?n:"")?e=[e,n]:(e=null,i=o)):(e=null,i=o),e}function se(){var e,n,r;return n=i,null===(e=ue())&&null===(e=ve())&&(e=fe()),null!==e&&(r=n,Bn.host=t.substring(i,r).toLowerCase(),e=Bn.host),null===e&&(i=n),e}function ue(){var e,n,r,o,s,u,l;for(o=i,s=i,e=[],u=i,null!==(n=ce())?(46===t.charCodeAt(i)?(r=".",i++):(r=null,0===a&&c('"."')),null!==r?n=[n,r]:(n=null,i=u)):(n=null,i=u);null!==n;)e.push(n),u=i,null!==(n=ce())?(46===t.charCodeAt(i)?(r=".",i++):(r=null,0===a&&c('"."')),null!==r?n=[n,r]:(n=null,i=u)):(n=null,i=u);return null!==e&&null!==(n=le())?(46===t.charCodeAt(i)?(r=".",i++):(r=null,0===a&&c('"."')),null!==(r=null!==r?r:"")?e=[e,n,r]:(e=null,i=s)):(e=null,i=s),null!==e&&(l=o,Bn.host_type="domain",e=t.substring(i,l)),null===e&&(i=o),e}function ce(){var e,n,r,o;if(o=i,null!==(e=_())){for(n=[],null===(r=_())&&(45===t.charCodeAt(i)?(r="-",i++):(r=null,0===a&&c('"-"')),null===r&&(95===t.charCodeAt(i)?(r="_",i++):(r=null,0===a&&c('"_"'))));null!==r;)n.push(r),null===(r=_())&&(45===t.charCodeAt(i)?(r="-",i++):(r=null,0===a&&c('"-"')),null===r&&(95===t.charCodeAt(i)?(r="_",i++):(r=null,0===a&&c('"_"'))));null!==n?e=[e,n]:(e=null,i=o)}else e=null,i=o;return e}function le(){var e,n,r,o;if(o=i,null!==(e=p())){for(n=[],null===(r=_())&&(45===t.charCodeAt(i)?(r="-",i++):(r=null,0===a&&c('"-"')),null===r&&(95===t.charCodeAt(i)?(r="_",i++):(r=null,0===a&&c('"_"'))));null!==r;)n.push(r),null===(r=_())&&(45===t.charCodeAt(i)?(r="-",i++):(r=null,0===a&&c('"-"')),null===r&&(95===t.charCodeAt(i)?(r="_",i++):(r=null,0===a&&c('"_"'))));null!==n?e=[e,n]:(e=null,i=o)}else e=null,i=o;return e}function fe(){var e,n,r,o,s,u;return o=i,s=i,91===t.charCodeAt(i)?(e="[",i++):(e=null,0===a&&c('"["')),null!==e&&null!==(n=pe())?(93===t.charCodeAt(i)?(r="]",i++):(r=null,0===a&&c('"]"')),null!==r?e=[e,n,r]:(e=null,i=s)):(e=null,i=s),null!==e&&(u=o,Bn.host_type="IPv6",e=t.substring(i,u)),null===e&&(i=o),e}function pe(){var e,n,r,o,s,u,l,f,p,d,h,v,m,g,y,_,b;return g=i,y=i,null!==(e=de())?(58===t.charCodeAt(i)?(n=":",i++):(n=null,0===a&&c('":"')),null!==n&&null!==(r=de())?(58===t.charCodeAt(i)?(o=":",i++):(o=null,0===a&&c('":"')),null!==o&&null!==(s=de())?(58===t.charCodeAt(i)?(u=":",i++):(u=null,0===a&&c('":"')),null!==u&&null!==(l=de())?(58===t.charCodeAt(i)?(f=":",i++):(f=null,0===a&&c('":"')),null!==f&&null!==(p=de())?(58===t.charCodeAt(i)?(d=":",i++):(d=null,0===a&&c('":"')),null!==d&&null!==(h=de())?(58===t.charCodeAt(i)?(v=":",i++):(v=null,0===a&&c('":"')),null!==v&&null!==(m=he())?e=[e,n,r,o,s,u,l,f,p,d,h,v,m]:(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y),null===e&&(y=i,"::"===t.substr(i,2)?(e="::",i+=2):(e=null,0===a&&c('"::"')),null!==e&&null!==(n=de())?(58===t.charCodeAt(i)?(r=":",i++):(r=null,0===a&&c('":"')),null!==r&&null!==(o=de())?(58===t.charCodeAt(i)?(s=":",i++):(s=null,0===a&&c('":"')),null!==s&&null!==(u=de())?(58===t.charCodeAt(i)?(l=":",i++):(l=null,0===a&&c('":"')),null!==l&&null!==(f=de())?(58===t.charCodeAt(i)?(p=":",i++):(p=null,0===a&&c('":"')),null!==p&&null!==(d=de())?(58===t.charCodeAt(i)?(h=":",i++):(h=null,0===a&&c('":"')),null!==h&&null!==(v=he())?e=[e,n,r,o,s,u,l,f,p,d,h,v]:(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y),null===e&&(y=i,"::"===t.substr(i,2)?(e="::",i+=2):(e=null,0===a&&c('"::"')),null!==e&&null!==(n=de())?(58===t.charCodeAt(i)?(r=":",i++):(r=null,0===a&&c('":"')),null!==r&&null!==(o=de())?(58===t.charCodeAt(i)?(s=":",i++):(s=null,0===a&&c('":"')),null!==s&&null!==(u=de())?(58===t.charCodeAt(i)?(l=":",i++):(l=null,0===a&&c('":"')),null!==l&&null!==(f=de())?(58===t.charCodeAt(i)?(p=":",i++):(p=null,0===a&&c('":"')),null!==p&&null!==(d=he())?e=[e,n,r,o,s,u,l,f,p,d]:(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y),null===e&&(y=i,"::"===t.substr(i,2)?(e="::",i+=2):(e=null,0===a&&c('"::"')),null!==e&&null!==(n=de())?(58===t.charCodeAt(i)?(r=":",i++):(r=null,0===a&&c('":"')),null!==r&&null!==(o=de())?(58===t.charCodeAt(i)?(s=":",i++):(s=null,0===a&&c('":"')),null!==s&&null!==(u=de())?(58===t.charCodeAt(i)?(l=":",i++):(l=null,0===a&&c('":"')),null!==l&&null!==(f=he())?e=[e,n,r,o,s,u,l,f]:(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y),null===e&&(y=i,"::"===t.substr(i,2)?(e="::",i+=2):(e=null,0===a&&c('"::"')),null!==e&&null!==(n=de())?(58===t.charCodeAt(i)?(r=":",i++):(r=null,0===a&&c('":"')),null!==r&&null!==(o=de())?(58===t.charCodeAt(i)?(s=":",i++):(s=null,0===a&&c('":"')),null!==s&&null!==(u=he())?e=[e,n,r,o,s,u]:(e=null,i=y)):(e=null,i=y)):(e=null,i=y),null===e&&(y=i,"::"===t.substr(i,2)?(e="::",i+=2):(e=null,0===a&&c('"::"')),null!==e&&null!==(n=de())?(58===t.charCodeAt(i)?(r=":",i++):(r=null,0===a&&c('":"')),null!==r&&null!==(o=he())?e=[e,n,r,o]:(e=null,i=y)):(e=null,i=y),null===e&&(y=i,"::"===t.substr(i,2)?(e="::",i+=2):(e=null,0===a&&c('"::"')),null!==e&&null!==(n=he())?e=[e,n]:(e=null,i=y),null===e&&(y=i,"::"===t.substr(i,2)?(e="::",i+=2):(e=null,0===a&&c('"::"')),null!==e&&null!==(n=de())?e=[e,n]:(e=null,i=y),null===e&&(y=i,null!==(e=de())?("::"===t.substr(i,2)?(n="::",i+=2):(n=null,0===a&&c('"::"')),null!==n&&null!==(r=de())?(58===t.charCodeAt(i)?(o=":",i++):(o=null,0===a&&c('":"')),null!==o&&null!==(s=de())?(58===t.charCodeAt(i)?(u=":",i++):(u=null,0===a&&c('":"')),null!==u&&null!==(l=de())?(58===t.charCodeAt(i)?(f=":",i++):(f=null,0===a&&c('":"')),null!==f&&null!==(p=de())?(58===t.charCodeAt(i)?(d=":",i++):(d=null,0===a&&c('":"')),null!==d&&null!==(h=he())?e=[e,n,r,o,s,u,l,f,p,d,h]:(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y),null===e&&(y=i,null!==(e=de())?(_=i,58===t.charCodeAt(i)?(n=":",i++):(n=null,0===a&&c('":"')),null!==n&&null!==(r=de())?n=[n,r]:(n=null,i=_),null!==(n=null!==n?n:"")?("::"===t.substr(i,2)?(r="::",i+=2):(r=null,0===a&&c('"::"')),null!==r&&null!==(o=de())?(58===t.charCodeAt(i)?(s=":",i++):(s=null,0===a&&c('":"')),null!==s&&null!==(u=de())?(58===t.charCodeAt(i)?(l=":",i++):(l=null,0===a&&c('":"')),null!==l&&null!==(f=de())?(58===t.charCodeAt(i)?(p=":",i++):(p=null,0===a&&c('":"')),null!==p&&null!==(d=he())?e=[e,n,r,o,s,u,l,f,p,d]:(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y),null===e&&(y=i,null!==(e=de())?(_=i,58===t.charCodeAt(i)?(n=":",i++):(n=null,0===a&&c('":"')),null!==n&&null!==(r=de())?n=[n,r]:(n=null,i=_),null!==(n=null!==n?n:"")?(_=i,58===t.charCodeAt(i)?(r=":",i++):(r=null,0===a&&c('":"')),null!==r&&null!==(o=de())?r=[r,o]:(r=null,i=_),null!==(r=null!==r?r:"")?("::"===t.substr(i,2)?(o="::",i+=2):(o=null,0===a&&c('"::"')),null!==o&&null!==(s=de())?(58===t.charCodeAt(i)?(u=":",i++):(u=null,0===a&&c('":"')),null!==u&&null!==(l=de())?(58===t.charCodeAt(i)?(f=":",i++):(f=null,0===a&&c('":"')),null!==f&&null!==(p=he())?e=[e,n,r,o,s,u,l,f,p]:(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y),null===e&&(y=i,null!==(e=de())?(_=i,58===t.charCodeAt(i)?(n=":",i++):(n=null,0===a&&c('":"')),null!==n&&null!==(r=de())?n=[n,r]:(n=null,i=_),null!==(n=null!==n?n:"")?(_=i,58===t.charCodeAt(i)?(r=":",i++):(r=null,0===a&&c('":"')),null!==r&&null!==(o=de())?r=[r,o]:(r=null,i=_),null!==(r=null!==r?r:"")?(_=i,58===t.charCodeAt(i)?(o=":",i++):(o=null,0===a&&c('":"')),null!==o&&null!==(s=de())?o=[o,s]:(o=null,i=_),null!==(o=null!==o?o:"")?("::"===t.substr(i,2)?(s="::",i+=2):(s=null,0===a&&c('"::"')),null!==s&&null!==(u=de())?(58===t.charCodeAt(i)?(l=":",i++):(l=null,0===a&&c('":"')),null!==l&&null!==(f=he())?e=[e,n,r,o,s,u,l,f]:(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y),null===e&&(y=i,null!==(e=de())?(_=i,58===t.charCodeAt(i)?(n=":",i++):(n=null,0===a&&c('":"')),null!==n&&null!==(r=de())?n=[n,r]:(n=null,i=_),null!==(n=null!==n?n:"")?(_=i,58===t.charCodeAt(i)?(r=":",i++):(r=null,0===a&&c('":"')),null!==r&&null!==(o=de())?r=[r,o]:(r=null,i=_),null!==(r=null!==r?r:"")?(_=i,58===t.charCodeAt(i)?(o=":",i++):(o=null,0===a&&c('":"')),null!==o&&null!==(s=de())?o=[o,s]:(o=null,i=_),null!==(o=null!==o?o:"")?(_=i,58===t.charCodeAt(i)?(s=":",i++):(s=null,0===a&&c('":"')),null!==s&&null!==(u=de())?s=[s,u]:(s=null,i=_),null!==(s=null!==s?s:"")?("::"===t.substr(i,2)?(u="::",i+=2):(u=null,0===a&&c('"::"')),null!==u&&null!==(l=he())?e=[e,n,r,o,s,u,l]:(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y),null===e&&(y=i,null!==(e=de())?(_=i,58===t.charCodeAt(i)?(n=":",i++):(n=null,0===a&&c('":"')),null!==n&&null!==(r=de())?n=[n,r]:(n=null,i=_),null!==(n=null!==n?n:"")?(_=i,58===t.charCodeAt(i)?(r=":",i++):(r=null,0===a&&c('":"')),null!==r&&null!==(o=de())?r=[r,o]:(r=null,i=_),null!==(r=null!==r?r:"")?(_=i,58===t.charCodeAt(i)?(o=":",i++):(o=null,0===a&&c('":"')),null!==o&&null!==(s=de())?o=[o,s]:(o=null,i=_),null!==(o=null!==o?o:"")?(_=i,58===t.charCodeAt(i)?(s=":",i++):(s=null,0===a&&c('":"')),null!==s&&null!==(u=de())?s=[s,u]:(s=null,i=_),null!==(s=null!==s?s:"")?(_=i,58===t.charCodeAt(i)?(u=":",i++):(u=null,0===a&&c('":"')),null!==u&&null!==(l=de())?u=[u,l]:(u=null,i=_),null!==(u=null!==u?u:"")?("::"===t.substr(i,2)?(l="::",i+=2):(l=null,0===a&&c('"::"')),null!==l&&null!==(f=de())?e=[e,n,r,o,s,u,l,f]:(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y),null===e&&(y=i,null!==(e=de())?(_=i,58===t.charCodeAt(i)?(n=":",i++):(n=null,0===a&&c('":"')),null!==n&&null!==(r=de())?n=[n,r]:(n=null,i=_),null!==(n=null!==n?n:"")?(_=i,58===t.charCodeAt(i)?(r=":",i++):(r=null,0===a&&c('":"')),null!==r&&null!==(o=de())?r=[r,o]:(r=null,i=_),null!==(r=null!==r?r:"")?(_=i,58===t.charCodeAt(i)?(o=":",i++):(o=null,0===a&&c('":"')),null!==o&&null!==(s=de())?o=[o,s]:(o=null,i=_),null!==(o=null!==o?o:"")?(_=i,58===t.charCodeAt(i)?(s=":",i++):(s=null,0===a&&c('":"')),null!==s&&null!==(u=de())?s=[s,u]:(s=null,i=_),null!==(s=null!==s?s:"")?(_=i,58===t.charCodeAt(i)?(u=":",i++):(u=null,0===a&&c('":"')),null!==u&&null!==(l=de())?u=[u,l]:(u=null,i=_),null!==(u=null!==u?u:"")?(_=i,58===t.charCodeAt(i)?(l=":",i++):(l=null,0===a&&c('":"')),null!==l&&null!==(f=de())?l=[l,f]:(l=null,i=_),null!==(l=null!==l?l:"")?("::"===t.substr(i,2)?(f="::",i+=2):(f=null,0===a&&c('"::"')),null!==f?e=[e,n,r,o,s,u,l,f]:(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y)):(e=null,i=y))))))))))))))),null!==e&&(b=g,Bn.host_type="IPv6",e=t.substring(i,b)),null===e&&(i=g),e}function de(){var e,t,n,r,o;return o=i,null!==(e=d())&&null!==(t=null!==(t=d())?t:"")&&null!==(n=null!==(n=d())?n:"")&&null!==(r=null!==(r=d())?r:"")?e=[e,t,n,r]:(e=null,i=o),e}function he(){var e,n,r,o;return o=i,null!==(e=de())?(58===t.charCodeAt(i)?(n=":",i++):(n=null,0===a&&c('":"')),null!==n&&null!==(r=de())?e=[e,n,r]:(e=null,i=o)):(e=null,i=o),null===e&&(e=ve()),e}function ve(){var e,n,r,o,s,u,l,f,p,d;return f=i,p=i,null!==(e=me())?(46===t.charCodeAt(i)?(n=".",i++):(n=null,0===a&&c('"."')),null!==n&&null!==(r=me())?(46===t.charCodeAt(i)?(o=".",i++):(o=null,0===a&&c('"."')),null!==o&&null!==(s=me())?(46===t.charCodeAt(i)?(u=".",i++):(u=null,0===a&&c('"."')),null!==u&&null!==(l=me())?e=[e,n,r,o,s,u,l]:(e=null,i=p)):(e=null,i=p)):(e=null,i=p)):(e=null,i=p),null!==e&&(d=f,Bn.host_type="IPv4",e=t.substring(i,d)),null===e&&(i=f),e}function me(){var e,n,r,o;return o=i,"25"===t.substr(i,2)?(e="25",i+=2):(e=null,0===a&&c('"25"')),null!==e?(/^[0-5]/.test(t.charAt(i))?(n=t.charAt(i),i++):(n=null,0===a&&c("[0-5]")),null!==n?e=[e,n]:(e=null,i=o)):(e=null,i=o),null===e&&(o=i,50===t.charCodeAt(i)?(e="2",i++):(e=null,0===a&&c('"2"')),null!==e?(/^[0-4]/.test(t.charAt(i))?(n=t.charAt(i),i++):(n=null,0===a&&c("[0-4]")),null!==n&&null!==(r=f())?e=[e,n,r]:(e=null,i=o)):(e=null,i=o),null===e&&(o=i,49===t.charCodeAt(i)?(e="1",i++):(e=null,0===a&&c('"1"')),null!==e&&null!==(n=f())&&null!==(r=f())?e=[e,n,r]:(e=null,i=o),null===e&&(o=i,/^[1-9]/.test(t.charAt(i))?(e=t.charAt(i),i++):(e=null,0===a&&c("[1-9]")),null!==e&&null!==(n=f())?e=[e,n]:(e=null,i=o),null===e&&(e=f())))),e}function ge(){var e,t,n,r,o,a,s,u;return a=i,s=i,null!==(e=null!==(e=f())?e:"")&&null!==(t=null!==(t=f())?t:"")&&null!==(n=null!==(n=f())?n:"")&&null!==(r=null!==(r=f())?r:"")&&null!==(o=null!==(o=f())?o:"")?e=[e,t,n,r,o]:(e=null,i=s),null!==e&&(u=e,u=parseInt(u.join("")),Bn.port=u,e=u),null===e&&(i=a),e}function ye(){var e,n,r,o;for(e=[],o=i,59===t.charCodeAt(i)?(n=";",i++):(n=null,0===a&&c('";"')),null!==n&&null!==(r=_e())?n=[n,r]:(n=null,i=o);null!==n;)e.push(n),o=i,59===t.charCodeAt(i)?(n=";",i++):(n=null,0===a&&c('";"')),null!==n&&null!==(r=_e())?n=[n,r]:(n=null,i=o);return e}function _e(){var e;return null===(e=be())&&null===(e=Ce())&&null===(e=Ae())&&null===(e=Ee())&&null===(e=Se())&&null===(e=Te())&&(e=we()),e}function be(){var e,n,r,o,s;return r=i,o=i,"transport="===t.substr(i,10).toLowerCase()?(e=t.substr(i,10),i+=10):(e=null,0===a&&c('"transport="')),null!==e?("udp"===t.substr(i,3).toLowerCase()?(n=t.substr(i,3),i+=3):(n=null,0===a&&c('"udp"')),null===n&&("tcp"===t.substr(i,3).toLowerCase()?(n=t.substr(i,3),i+=3):(n=null,0===a&&c('"tcp"')),null===n&&("sctp"===t.substr(i,4).toLowerCase()?(n=t.substr(i,4),i+=4):(n=null,0===a&&c('"sctp"')),null===n&&("tls"===t.substr(i,3).toLowerCase()?(n=t.substr(i,3),i+=3):(n=null,0===a&&c('"tls"')),null===n&&(n=I())))),null!==n?e=[e,n]:(e=null,i=o)):(e=null,i=o),null!==e&&(s=e[1],Bn.uri_params||(Bn.uri_params={}),e=void(Bn.uri_params.transport=s.toLowerCase())),null===e&&(i=r),e}function Ce(){var e,n,r,o,s;return r=i,o=i,"user="===t.substr(i,5).toLowerCase()?(e=t.substr(i,5),i+=5):(e=null,0===a&&c('"user="')),null!==e?("phone"===t.substr(i,5).toLowerCase()?(n=t.substr(i,5),i+=5):(n=null,0===a&&c('"phone"')),null===n&&("ip"===t.substr(i,2).toLowerCase()?(n=t.substr(i,2),i+=2):(n=null,0===a&&c('"ip"')),null===n&&(n=I())),null!==n?e=[e,n]:(e=null,i=o)):(e=null,i=o),null!==e&&(s=e[1],Bn.uri_params||(Bn.uri_params={}),e=void(Bn.uri_params.user=s.toLowerCase())),null===e&&(i=r),e}function Ae(){var e,n,r,o,s;return r=i,o=i,"method="===t.substr(i,7).toLowerCase()?(e=t.substr(i,7),i+=7):(e=null,0===a&&c('"method="')),null!==e&&null!==(n=lt())?e=[e,n]:(e=null,i=o),null!==e&&(s=e[1],Bn.uri_params||(Bn.uri_params={}),e=void(Bn.uri_params.method=s)),null===e&&(i=r),e}function Ee(){var e,n,r,o,s;return r=i,o=i,"ttl="===t.substr(i,4).toLowerCase()?(e=t.substr(i,4),i+=4):(e=null,0===a&&c('"ttl="')),null!==e&&null!==(n=Sn())?e=[e,n]:(e=null,i=o),null!==e&&(s=e[1],Bn.params||(Bn.params={}),e=void(Bn.params.ttl=s)),null===e&&(i=r),e}function Se(){var e,n,r,o,s;return r=i,o=i,"maddr="===t.substr(i,6).toLowerCase()?(e=t.substr(i,6),i+=6):(e=null,0===a&&c('"maddr="')),null!==e&&null!==(n=se())?e=[e,n]:(e=null,i=o),null!==e&&(s=e[1],Bn.uri_params||(Bn.uri_params={}),e=void(Bn.uri_params.maddr=s)),null===e&&(i=r),e}function Te(){var e,n,r,o,s,u;return o=i,s=i,"lr"===t.substr(i,2).toLowerCase()?(e=t.substr(i,2),i+=2):(e=null,0===a&&c('"lr"')),null!==e?(u=i,61===t.charCodeAt(i)?(n="=",i++):(n=null,0===a&&c('"="')),null!==n&&null!==(r=I())?n=[n,r]:(n=null,i=u),null!==(n=null!==n?n:"")?e=[e,n]:(e=null,i=s)):(e=null,i=s),null!==e&&(Bn.uri_params||(Bn.uri_params={}),e=void(Bn.uri_params.lr=void 0)),null===e&&(i=o),e}function we(){var e,n,r,o,s,u,l,f;return o=i,s=i,null!==(e=ke())?(u=i,61===t.charCodeAt(i)?(n="=",i++):(n=null,0===a&&c('"="')),null!==n&&null!==(r=Re())?n=[n,r]:(n=null,i=u),null!==(n=null!==n?n:"")?e=[e,n]:(e=null,i=s)):(e=null,i=s),null!==e&&(l=e[0],f=e[1],Bn.uri_params||(Bn.uri_params={}),f=void 0===f?void 0:f[1],e=void(Bn.uri_params[l.toLowerCase()]=f)),null===e&&(i=o),e}function ke(){var e,t,n;if(n=i,null!==(t=Oe()))for(e=[];null!==t;)e.push(t),t=Oe();else e=null;return null!==e&&(e=e.join("")),null===e&&(i=n),e}function Re(){var e,t,n;if(n=i,null!==(t=Oe()))for(e=[];null!==t;)e.push(t),t=Oe();else e=null;return null!==e&&(e=e.join("")),null===e&&(i=n),e}function Oe(){var e;return null===(e=xe())&&null===(e=C())&&(e=E()),e}function xe(){var e;return 91===t.charCodeAt(i)?(e="[",i++):(e=null,0===a&&c('"["')),null===e&&(93===t.charCodeAt(i)?(e="]",i++):(e=null,0===a&&c('"]"')),null===e&&(47===t.charCodeAt(i)?(e="/",i++):(e=null,0===a&&c('"/"')),null===e&&(58===t.charCodeAt(i)?(e=":",i++):(e=null,0===a&&c('":"')),null===e&&(38===t.charCodeAt(i)?(e="&",i++):(e=null,0===a&&c('"&"')),null===e&&(43===t.charCodeAt(i)?(e="+",i++):(e=null,0===a&&c('"+"')),null===e&&(36===t.charCodeAt(i)?(e="$",i++):(e=null,0===a&&c('"$"')))))))),e}function Ie(){var e,n,r,o,s,u,l;if(u=i,63===t.charCodeAt(i)?(e="?",i++):(e=null,0===a&&c('"?"')),null!==e)if(null!==(n=Pe())){for(r=[],l=i,38===t.charCodeAt(i)?(o="&",i++):(o=null,0===a&&c('"&"')),null!==o&&null!==(s=Pe())?o=[o,s]:(o=null,i=l);null!==o;)r.push(o),l=i,38===t.charCodeAt(i)?(o="&",i++):(o=null,0===a&&c('"&"')),null!==o&&null!==(s=Pe())?o=[o,s]:(o=null,i=l);null!==r?e=[e,n,r]:(e=null,i=u)}else e=null,i=u;else e=null,i=u;return e}function Pe(){var e,n,r,o,s,u,l;return o=i,s=i,null!==(e=Ne())?(61===t.charCodeAt(i)?(n="=",i++):(n=null,0===a&&c('"="')),null!==n&&null!==(r=De())?e=[e,n,r]:(e=null,i=s)):(e=null,i=s),null!==e&&(u=e[0],l=e[2],u=u.join("").toLowerCase(),l=l.join(""),Bn.uri_headers||(Bn.uri_headers={}),e=void(Bn.uri_headers[u]?Bn.uri_headers[u].push(l):Bn.uri_headers[u]=[l])),null===e&&(i=o),e}function Ne(){var e,t;if(null===(t=Me())&&null===(t=C())&&(t=E()),null!==t)for(e=[];null!==t;)e.push(t),null===(t=Me())&&null===(t=C())&&(t=E());else e=null;return e}function De(){var e,t;for(e=[],null===(t=Me())&&null===(t=C())&&(t=E());null!==t;)e.push(t),null===(t=Me())&&null===(t=C())&&(t=E());return e}function Me(){var e;return 91===t.charCodeAt(i)?(e="[",i++):(e=null,0===a&&c('"["')),null===e&&(93===t.charCodeAt(i)?(e="]",i++):(e=null,0===a&&c('"]"')),null===e&&(47===t.charCodeAt(i)?(e="/",i++):(e=null,0===a&&c('"/"')),null===e&&(63===t.charCodeAt(i)?(e="?",i++):(e=null,0===a&&c('"?"')),null===e&&(58===t.charCodeAt(i)?(e=":",i++):(e=null,0===a&&c('":"')),null===e&&(43===t.charCodeAt(i)?(e="+",i++):(e=null,0===a&&c('"+"')),null===e&&(36===t.charCodeAt(i)?(e="$",i++):(e=null,0===a&&c('"$"')))))))),e}function Ue(){var e,t,n,r,o,a;return a=i,null!==(e=lt())&&null!==(t=g())&&null!==(n=je())&&null!==(r=g())&&null!==(o=et())?e=[e,t,n,r,o]:(e=null,i=a),e}function je(){var e;return null===(e=X())&&(e=Le()),e}function Le(){var e,n,r,o;return o=i,null!==(e=Qe())?(58===t.charCodeAt(i)?(n=":",i++):(n=null,0===a&&c('":"')),null!==n?(null===(r=Fe())&&(r=qe()),null!==r?e=[e,n,r]:(e=null,i=o)):(e=null,i=o)):(e=null,i=o),e}function Fe(){var e,n,r,o,s;return o=i,null===(e=Be())&&(e=He()),null!==e?(s=i,63===t.charCodeAt(i)?(n="?",i++):(n=null,0===a&&c('"?"')),null!==n&&null!==(r=$e())?n=[n,r]:(n=null,i=s),null!==(n=null!==n?n:"")?e=[e,n]:(e=null,i=o)):(e=null,i=o),e}function Be(){var e,n,r,o;return o=i,"//"===t.substr(i,2)?(e="//",i+=2):(e=null,0===a&&c('"//"')),null!==e&&null!==(n=Je())&&null!==(r=null!==(r=He())?r:"")?e=[e,n,r]:(e=null,i=o),e}function He(){var e,n,r;return r=i,47===t.charCodeAt(i)?(e="/",i++):(e=null,0===a&&c('"/"')),null!==e&&null!==(n=Ge())?e=[e,n]:(e=null,i=r),e}function qe(){var e,t,n,r;if(r=i,null!==(e=Ve())){for(t=[],n=We();null!==n;)t.push(n),n=We();null!==t?e=[e,t]:(e=null,i=r)}else e=null,i=r;return e}function We(){var e;return null===(e=b())&&null===(e=C())&&(e=E()),e}function Ve(){var e;return null===(e=C())&&null===(e=E())&&(59===t.charCodeAt(i)?(e=";",i++):(e=null,0===a&&c('";"')),null===e&&(63===t.charCodeAt(i)?(e="?",i++):(e=null,0===a&&c('"?"')),null===e&&(58===t.charCodeAt(i)?(e=":",i++):(e=null,0===a&&c('":"')),null===e&&(64===t.charCodeAt(i)?(e="@",i++):(e=null,0===a&&c('"@"')),null===e&&(38===t.charCodeAt(i)?(e="&",i++):(e=null,0===a&&c('"&"')),null===e&&(61===t.charCodeAt(i)?(e="=",i++):(e=null,0===a&&c('"="')),null===e&&(43===t.charCodeAt(i)?(e="+",i++):(e=null,0===a&&c('"+"')),null===e&&(36===t.charCodeAt(i)?(e="$",i++):(e=null,0===a&&c('"$"')),null===e&&(44===t.charCodeAt(i)?(e=",",i++):(e=null,0===a&&c('","'))))))))))),e}function Ge(){var e,n,r,o,s,u;if(s=i,null!==(e=ze())){for(n=[],u=i,47===t.charCodeAt(i)?(r="/",i++):(r=null,0===a&&c('"/"')),null!==r&&null!==(o=ze())?r=[r,o]:(r=null,i=u);null!==r;)n.push(r),u=i,47===t.charCodeAt(i)?(r="/",i++):(r=null,0===a&&c('"/"')),null!==r&&null!==(o=ze())?r=[r,o]:(r=null,i=u);null!==n?e=[e,n]:(e=null,i=s)}else e=null,i=s;return e}function ze(){var e,n,r,o,s,u;for(s=i,e=[],n=Ke();null!==n;)e.push(n),n=Ke();if(null!==e){for(n=[],u=i,59===t.charCodeAt(i)?(r=";",i++):(r=null,0===a&&c('";"')),null!==r&&null!==(o=Ye())?r=[r,o]:(r=null,i=u);null!==r;)n.push(r),u=i,59===t.charCodeAt(i)?(r=";",i++):(r=null,0===a&&c('";"')),null!==r&&null!==(o=Ye())?r=[r,o]:(r=null,i=u);null!==n?e=[e,n]:(e=null,i=s)}else e=null,i=s;return e}function Ye(){var e,t;for(e=[],t=Ke();null!==t;)e.push(t),t=Ke();return e}function Ke(){var e;return null===(e=C())&&null===(e=E())&&(58===t.charCodeAt(i)?(e=":",i++):(e=null,0===a&&c('":"')),null===e&&(64===t.charCodeAt(i)?(e="@",i++):(e=null,0===a&&c('"@"')),null===e&&(38===t.charCodeAt(i)?(e="&",i++):(e=null,0===a&&c('"&"')),null===e&&(61===t.charCodeAt(i)?(e="=",i++):(e=null,0===a&&c('"="')),null===e&&(43===t.charCodeAt(i)?(e="+",i++):(e=null,0===a&&c('"+"')),null===e&&(36===t.charCodeAt(i)?(e="$",i++):(e=null,0===a&&c('"$"')),null===e&&(44===t.charCodeAt(i)?(e=",",i++):(e=null,0===a&&c('","'))))))))),e}function Qe(){var e,n,r,o,s,u;if(o=i,s=i,null!==(e=p())){for(n=[],null===(r=p())&&null===(r=f())&&(43===t.charCodeAt(i)?(r="+",i++):(r=null,0===a&&c('"+"')),null===r&&(45===t.charCodeAt(i)?(r="-",i++):(r=null,0===a&&c('"-"')),null===r&&(46===t.charCodeAt(i)?(r=".",i++):(r=null,0===a&&c('"."')))));null!==r;)n.push(r),null===(r=p())&&null===(r=f())&&(43===t.charCodeAt(i)?(r="+",i++):(r=null,0===a&&c('"+"')),null===r&&(45===t.charCodeAt(i)?(r="-",i++):(r=null,0===a&&c('"-"')),null===r&&(46===t.charCodeAt(i)?(r=".",i++):(r=null,0===a&&c('"."')))));null!==n?e=[e,n]:(e=null,i=s)}else e=null,i=s;return null!==e&&(u=o,e=void(Bn.scheme=t.substring(i,u))),null===e&&(i=o),e}function Je(){var e;return null===(e=Ze())&&(e=Xe()),e}function Ze(){var e,n,r,o;return r=i,o=i,null!==(e=ne())?(64===t.charCodeAt(i)?(n="@",i++):(n=null,0===a&&c('"@"')),null!==n?e=[e,n]:(e=null,i=o)):(e=null,i=o),null!==(e=null!==e?e:"")&&null!==(n=ae())?e=[e,n]:(e=null,i=r),e=null!==e?e:""}function Xe(){var e,n;if(null===(n=C())&&null===(n=E())&&(36===t.charCodeAt(i)?(n="$",i++):(n=null,0===a&&c('"$"')),null===n&&(44===t.charCodeAt(i)?(n=",",i++):(n=null,0===a&&c('","')),null===n&&(59===t.charCodeAt(i)?(n=";",i++):(n=null,0===a&&c('";"')),null===n&&(58===t.charCodeAt(i)?(n=":",i++):(n=null,0===a&&c('":"')),null===n&&(64===t.charCodeAt(i)?(n="@",i++):(n=null,0===a&&c('"@"')),null===n&&(38===t.charCodeAt(i)?(n="&",i++):(n=null,0===a&&c('"&"')),null===n&&(61===t.charCodeAt(i)?(n="=",i++):(n=null,0===a&&c('"="')),null===n&&(43===t.charCodeAt(i)?(n="+",i++):(n=null,0===a&&c('"+"')))))))))),null!==n)for(e=[];null!==n;)e.push(n),null===(n=C())&&null===(n=E())&&(36===t.charCodeAt(i)?(n="$",i++):(n=null,0===a&&c('"$"')),null===n&&(44===t.charCodeAt(i)?(n=",",i++):(n=null,0===a&&c('","')),null===n&&(59===t.charCodeAt(i)?(n=";",i++):(n=null,0===a&&c('";"')),null===n&&(58===t.charCodeAt(i)?(n=":",i++):(n=null,0===a&&c('":"')),null===n&&(64===t.charCodeAt(i)?(n="@",i++):(n=null,0===a&&c('"@"')),null===n&&(38===t.charCodeAt(i)?(n="&",i++):(n=null,0===a&&c('"&"')),null===n&&(61===t.charCodeAt(i)?(n="=",i++):(n=null,0===a&&c('"="')),null===n&&(43===t.charCodeAt(i)?(n="+",i++):(n=null,0===a&&c('"+"'))))))))));else e=null;return e}function $e(){var e,t;for(e=[],t=We();null!==t;)e.push(t),t=We();return e}function et(){var e,n,r,o,s,u,l,p,d;if(l=i,p=i,"sip"===t.substr(i,3).toLowerCase()?(e=t.substr(i,3),i+=3):(e=null,0===a&&c('"SIP"')),null!==e)if(47===t.charCodeAt(i)?(n="/",i++):(n=null,0===a&&c('"/"')),null!==n){if(null!==(o=f()))for(r=[];null!==o;)r.push(o),o=f();else r=null;if(null!==r)if(46===t.charCodeAt(i)?(o=".",i++):(o=null,0===a&&c('"."')),null!==o){if(null!==(u=f()))for(s=[];null!==u;)s.push(u),u=f();else s=null;null!==s?e=[e,n,r,o,s]:(e=null,i=p)}else e=null,i=p;else e=null,i=p}else e=null,i=p;else e=null,i=p;return null!==e&&(d=l,e=void(Bn.sip_version=t.substring(i,d))),null===e&&(i=l),e}function tt(){var e;return"INVITE"===t.substr(i,6)?(e="INVITE",i+=6):(e=null,0===a&&c('"INVITE"')),e}function nt(){var e;return"ACK"===t.substr(i,3)?(e="ACK",i+=3):(e=null,0===a&&c('"ACK"')),e}function rt(){var e;return"OPTIONS"===t.substr(i,7)?(e="OPTIONS",i+=7):(e=null,0===a&&c('"OPTIONS"')),e}function ot(){var e;return"BYE"===t.substr(i,3)?(e="BYE",i+=3):(e=null,0===a&&c('"BYE"')),e}function it(){var e;return"CANCEL"===t.substr(i,6)?(e="CANCEL",i+=6):(e=null,0===a&&c('"CANCEL"')),e}function at(){var e;return"REGISTER"===t.substr(i,8)?(e="REGISTER",i+=8):(e=null,0===a&&c('"REGISTER"')),e}function st(){var e;return"SUBSCRIBE"===t.substr(i,9)?(e="SUBSCRIBE",i+=9):(e=null,0===a&&c('"SUBSCRIBE"')),e}function ut(){var e;return"NOTIFY"===t.substr(i,6)?(e="NOTIFY",i+=6):(e=null,0===a&&c('"NOTIFY"')),e}function ct(){var e;return"REFER"===t.substr(i,5)?(e="REFER",i+=5):(e=null,0===a&&c('"REFER"')),e}function lt(){var e,n,r;return n=i,null===(e=tt())&&null===(e=nt())&&null===(e=rt())&&null===(e=ot())&&null===(e=it())&&null===(e=at())&&null===(e=st())&&null===(e=ut())&&null===(e=ct())&&(e=I()),null!==e&&(r=n,Bn.method=t.substring(i,r),e=Bn.method),null===e&&(i=n),e}function ft(){var e,t,n,r,o,a;return a=i,null!==(e=et())&&null!==(t=g())&&null!==(n=pt())&&null!==(r=g())&&null!==(o=ht())?e=[e,t,n,r,o]:(e=null,i=a),e}function pt(){var e,t,n;return t=i,null!==(e=dt())&&(n=e,e=void(Bn.status_code=parseInt(n.join("")))),null===e&&(i=t),e}function dt(){var e,t,n,r;return r=i,null!==(e=f())&&null!==(t=f())&&null!==(n=f())?e=[e,t,n]:(e=null,i=r),e}function ht(){var e,n,r,o;for(r=i,e=[],null===(n=b())&&null===(n=C())&&null===(n=E())&&null===(n=O())&&null===(n=x())&&null===(n=g())&&(n=y());null!==n;)e.push(n),null===(n=b())&&null===(n=C())&&null===(n=E())&&null===(n=O())&&null===(n=x())&&null===(n=g())&&(n=y());return null!==e&&(o=r,e=void(Bn.reason_phrase=t.substring(i,o))),null===e&&(i=r),e}function vt(){var e,t,n,r,o,a,s;if(o=i,a=i,null===(e=Z())&&(e=mt()),null!==e){for(t=[],s=i,null!==(n=q())&&null!==(r=yt())?n=[n,r]:(n=null,i=s);null!==n;)t.push(n),s=i,null!==(n=q())&&null!==(r=yt())?n=[n,r]:(n=null,i=s);null!==t?e=[e,t]:(e=null,i=a)}else e=null,i=a;return null!==e&&(e=function(e){var t;Bn.multi_header||(Bn.multi_header=[]);try{t=new Fn(Bn.uri,Bn.display_name,Bn.params),delete Bn.uri,delete Bn.display_name,delete Bn.params}catch(e){t=null}Bn.multi_header.push({possition:i,offset:e,parsed:t})}(o)),null===e&&(i=o),e}function mt(){var e,t,n,r,o;return o=i,null!==(e=null!==(e=gt())?e:"")&&null!==(t=B())&&null!==(n=X())&&null!==(r=F())?e=[e,t,n,r]:(e=null,i=o),e}function gt(){var e,n,r,o,a,s,u,c,l;if(a=i,s=i,null!==(e=I())){for(n=[],u=i,null!==(r=S())&&null!==(o=I())?r=[r,o]:(r=null,i=u);null!==r;)n.push(r),u=i,null!==(r=S())&&null!==(o=I())?r=[r,o]:(r=null,i=u);null!==n?e=[e,n]:(e=null,i=s)}else e=null,i=s;return null===e&&(e=Y()),null!==e&&(c=a,l=e,'"'===(l=t.substring(i,c).trim())[0]&&(l=l.substring(1,l.length-1)),e=void(Bn.display_name=l)),null===e&&(i=a),e}function yt(){var e;return null===(e=_t())&&null===(e=bt())&&(e=Et()),e}function _t(){var e,n,r,o,s,u;return o=i,s=i,"q"===t.substr(i,1).toLowerCase()?(e=t.substr(i,1),i++):(e=null,0===a&&c('"q"')),null!==e&&null!==(n=U())&&null!==(r=At())?e=[e,n,r]:(e=null,i=s),null!==e&&(u=e[2],Bn.params||(Bn.params={}),e=void(Bn.params.q=u)),null===e&&(i=o),e}function bt(){var e,n,r,o,s,u;return o=i,s=i,"expires"===t.substr(i,7).toLowerCase()?(e=t.substr(i,7),i+=7):(e=null,0===a&&c('"expires"')),null!==e&&null!==(n=U())&&null!==(r=Ct())?e=[e,n,r]:(e=null,i=s),null!==e&&(u=e[2],Bn.params||(Bn.params={}),e=void(Bn.params.expires=u)),null===e&&(i=o),e}function Ct(){var e,t,n;if(n=i,null!==(t=f()))for(e=[];null!==t;)e.push(t),t=f();else e=null;return null!==e&&(e=parseInt(e.join(""))),null===e&&(i=n),e}function At(){var e,n,r,o,s,u,l,p,d;return u=i,l=i,48===t.charCodeAt(i)?(e="0",i++):(e=null,0===a&&c('"0"')),null!==e?(p=i,46===t.charCodeAt(i)?(n=".",i++):(n=null,0===a&&c('"."')),null!==n&&null!==(r=null!==(r=f())?r:"")&&null!==(o=null!==(o=f())?o:"")&&null!==(s=null!==(s=f())?s:"")?n=[n,r,o,s]:(n=null,i=p),null!==(n=null!==n?n:"")?e=[e,n]:(e=null,i=l)):(e=null,i=l),null!==e&&(d=u,e=parseFloat(t.substring(i,d))),null===e&&(i=u),e}function Et(){var e,t,n,r,o,a,s,u;return r=i,o=i,null!==(e=I())?(a=i,null!==(t=U())&&null!==(n=St())?t=[t,n]:(t=null,i=a),null!==(t=null!==t?t:"")?e=[e,t]:(e=null,i=o)):(e=null,i=o),null!==e&&(s=e[0],u=e[1],Bn.params||(Bn.params={}),u=void 0===u?void 0:u[1],e=void(Bn.params[s.toLowerCase()]=u)),null===e&&(i=r),e}function St(){var e;return null===(e=I())&&null===(e=se())&&(e=Y()),e}function Tt(){var e;return"render"===t.substr(i,6).toLowerCase()?(e=t.substr(i,6),i+=6):(e=null,0===a&&c('"render"')),null===e&&("session"===t.substr(i,7).toLowerCase()?(e=t.substr(i,7),i+=7):(e=null,0===a&&c('"session"')),null===e&&("icon"===t.substr(i,4).toLowerCase()?(e=t.substr(i,4),i+=4):(e=null,0===a&&c('"icon"')),null===e&&("alert"===t.substr(i,5).toLowerCase()?(e=t.substr(i,5),i+=5):(e=null,0===a&&c('"alert"')),null===e&&(e=I())))),e}function wt(){var e;return null===(e=kt())&&(e=Et()),e}function kt(){var e,n,r,o;return o=i,"handling"===t.substr(i,8).toLowerCase()?(e=t.substr(i,8),i+=8):(e=null,0===a&&c('"handling"')),null!==e&&null!==(n=U())?("optional"===t.substr(i,8).toLowerCase()?(r=t.substr(i,8),i+=8):(r=null,0===a&&c('"optional"')),null===r&&("required"===t.substr(i,8).toLowerCase()?(r=t.substr(i,8),i+=8):(r=null,0===a&&c('"required"')),null===r&&(r=I())),null!==r?e=[e,n,r]:(e=null,i=o)):(e=null,i=o),e}function Rt(){var e,t,n,r,o,a,s,u;if(s=i,null!==(e=Ot()))if(null!==(t=M()))if(null!==(n=Dt())){for(r=[],u=i,null!==(o=q())&&null!==(a=Mt())?o=[o,a]:(o=null,i=u);null!==o;)r.push(o),u=i,null!==(o=q())&&null!==(a=Mt())?o=[o,a]:(o=null,i=u);null!==r?e=[e,t,n,r]:(e=null,i=s)}else e=null,i=s;else e=null,i=s;else e=null,i=s;return e}function Ot(){var e;return null===(e=xt())&&(e=It()),e}function xt(){var e;return"text"===t.substr(i,4).toLowerCase()?(e=t.substr(i,4),i+=4):(e=null,0===a&&c('"text"')),null===e&&("image"===t.substr(i,5).toLowerCase()?(e=t.substr(i,5),i+=5):(e=null,0===a&&c('"image"')),null===e&&("audio"===t.substr(i,5).toLowerCase()?(e=t.substr(i,5),i+=5):(e=null,0===a&&c('"audio"')),null===e&&("video"===t.substr(i,5).toLowerCase()?(e=t.substr(i,5),i+=5):(e=null,0===a&&c('"video"')),null===e&&("application"===t.substr(i,11).toLowerCase()?(e=t.substr(i,11),i+=11):(e=null,0===a&&c('"application"')),null===e&&(e=Pt()))))),e}function It(){var e;return"message"===t.substr(i,7).toLowerCase()?(e=t.substr(i,7),i+=7):(e=null,0===a&&c('"message"')),null===e&&("multipart"===t.substr(i,9).toLowerCase()?(e=t.substr(i,9),i+=9):(e=null,0===a&&c('"multipart"')),null===e&&(e=Pt())),e}function Pt(){var e;return null===(e=I())&&(e=Nt()),e}function Nt(){var e,n,r;return r=i,"x-"===t.substr(i,2).toLowerCase()?(e=t.substr(i,2),i+=2):(e=null,0===a&&c('"x-"')),null!==e&&null!==(n=I())?e=[e,n]:(e=null,i=r),e}function Dt(){var e;return null===(e=Pt())&&(e=I()),e}function Mt(){var e,t,n,r;return r=i,null!==(e=I())&&null!==(t=U())&&null!==(n=Ut())?e=[e,t,n]:(e=null,i=r),e}function Ut(){var e;return null===(e=I())&&(e=Y()),e}function jt(){var e,t,n,r;if(n=i,null!==(t=f()))for(e=[];null!==t;)e.push(t),t=f();else e=null;return null!==e&&(r=e,e=void(Bn.value=parseInt(r.join("")))),null===e&&(i=n),e}function Lt(){var e,n,r,o,s,u;if(s=i,null!==(e=P())){for(n=[],u=i,46===t.charCodeAt(i)?(r=".",i++):(r=null,0===a&&c('"."')),null!==r&&null!==(o=P())?r=[r,o]:(r=null,i=u);null!==r;)n.push(r),u=i,46===t.charCodeAt(i)?(r=".",i++):(r=null,0===a&&c('"."')),null!==r&&null!==(o=P())?r=[r,o]:(r=null,i=u);null!==n?e=[e,n]:(e=null,i=s)}else e=null,i=s;return e}function Ft(){var e;return null===(e=Bt())&&(e=Et()),e}function Bt(){var e,n,r,o,s,u;return o=i,s=i,"tag"===t.substr(i,3).toLowerCase()?(e=t.substr(i,3),i+=3):(e=null,0===a&&c('"tag"')),null!==e&&null!==(n=U())&&null!==(r=I())?e=[e,n,r]:(e=null,i=s),null!==e&&(u=e[2],e=void(Bn.tag=u)),null===e&&(i=o),e}function Ht(){var e,n,r,o,s,u,l,f;if(l=i,"digest"===t.substr(i,6).toLowerCase()?(e=t.substr(i,6),i+=6):(e=null,0===a&&c('"Digest"')),null!==e)if(null!==(n=S()))if(null!==(r=Vt())){for(o=[],f=i,null!==(s=H())&&null!==(u=Vt())?s=[s,u]:(s=null,i=f);null!==s;)o.push(s),f=i,null!==(s=H())&&null!==(u=Vt())?s=[s,u]:(s=null,i=f);null!==o?e=[e,n,r,o]:(e=null,i=l)}else e=null,i=l;else e=null,i=l;else e=null,i=l;return null===e&&(e=qt()),e}function qt(){var e,t,n,r,o,a,s,u;if(s=i,null!==(e=I()))if(null!==(t=S()))if(null!==(n=Wt())){for(r=[],u=i,null!==(o=H())&&null!==(a=Wt())?o=[o,a]:(o=null,i=u);null!==o;)r.push(o),u=i,null!==(o=H())&&null!==(a=Wt())?o=[o,a]:(o=null,i=u);null!==r?e=[e,t,n,r]:(e=null,i=s)}else e=null,i=s;else e=null,i=s;else e=null,i=s;return e}function Wt(){var e,t,n,r;return r=i,null!==(e=I())&&null!==(t=U())?(null===(n=I())&&(n=Y()),null!==n?e=[e,t,n]:(e=null,i=r)):(e=null,i=r),e}function Vt(){var e;return null===(e=Gt())&&null===(e=Yt())&&null===(e=Qt())&&null===(e=Zt())&&null===(e=Xt())&&null===(e=$t())&&null===(e=en())&&(e=Wt()),e}function Gt(){var e,n,r,o;return o=i,"realm"===t.substr(i,5).toLowerCase()?(e=t.substr(i,5),i+=5):(e=null,0===a&&c('"realm"')),null!==e&&null!==(n=U())&&null!==(r=zt())?e=[e,n,r]:(e=null,i=o),e}function zt(){var e,t,n;return t=i,null!==(e=K())&&(n=e,e=void(Bn.realm=n)),null===e&&(i=t),e}function Yt(){var e,n,r,o,s,u,l,f,p;if(f=i,"domain"===t.substr(i,6).toLowerCase()?(e=t.substr(i,6),i+=6):(e=null,0===a&&c('"domain"')),null!==e)if(null!==(n=U()))if(null!==(r=V()))if(null!==(o=Kt())){if(s=[],p=i,null!==(l=g()))for(u=[];null!==l;)u.push(l),l=g();else u=null;for(null!==u&&null!==(l=Kt())?u=[u,l]:(u=null,i=p);null!==u;){if(s.push(u),p=i,null!==(l=g()))for(u=[];null!==l;)u.push(l),l=g();else u=null;null!==u&&null!==(l=Kt())?u=[u,l]:(u=null,i=p)}null!==s&&null!==(u=G())?e=[e,n,r,o,s,u]:(e=null,i=f)}else e=null,i=f;else e=null,i=f;else e=null,i=f;else e=null,i=f;return e}function Kt(){var e;return null===(e=Le())&&(e=He()),e}function Qt(){var e,n,r,o;return o=i,"nonce"===t.substr(i,5).toLowerCase()?(e=t.substr(i,5),i+=5):(e=null,0===a&&c('"nonce"')),null!==e&&null!==(n=U())&&null!==(r=Jt())?e=[e,n,r]:(e=null,i=o),e}function Jt(){var e,t,n;return t=i,null!==(e=K())&&(n=e,e=void(Bn.nonce=n)),null===e&&(i=t),e}function Zt(){var e,n,r,o,s,u;return o=i,s=i,"opaque"===t.substr(i,6).toLowerCase()?(e=t.substr(i,6),i+=6):(e=null,0===a&&c('"opaque"')),null!==e&&null!==(n=U())&&null!==(r=K())?e=[e,n,r]:(e=null,i=s),null!==e&&(u=e[2],e=void(Bn.opaque=u)),null===e&&(i=o),e}function Xt(){var e,n,r,o,s;return o=i,"stale"===t.substr(i,5).toLowerCase()?(e=t.substr(i,5),i+=5):(e=null,0===a&&c('"stale"')),null!==e&&null!==(n=U())?(s=i,"true"===t.substr(i,4).toLowerCase()?(r=t.substr(i,4),i+=4):(r=null,0===a&&c('"true"')),null!==r&&(r=void(Bn.stale=!0)),null===r&&(i=s),null===r&&(s=i,"false"===t.substr(i,5).toLowerCase()?(r=t.substr(i,5),i+=5):(r=null,0===a&&c('"false"')),null!==r&&(r=void(Bn.stale=!1)),null===r&&(i=s)),null!==r?e=[e,n,r]:(e=null,i=o)):(e=null,i=o),e}function $t(){var e,n,r,o,s,u;return o=i,s=i,"algorithm"===t.substr(i,9).toLowerCase()?(e=t.substr(i,9),i+=9):(e=null,0===a&&c('"algorithm"')),null!==e&&null!==(n=U())?("md5"===t.substr(i,3).toLowerCase()?(r=t.substr(i,3),i+=3):(r=null,0===a&&c('"MD5"')),null===r&&("md5-sess"===t.substr(i,8).toLowerCase()?(r=t.substr(i,8),i+=8):(r=null,0===a&&c('"MD5-sess"')),null===r&&(r=I())),null!==r?e=[e,n,r]:(e=null,i=s)):(e=null,i=s),null!==e&&(u=e[2],e=void(Bn.algorithm=u.toUpperCase())),null===e&&(i=o),e}function en(){var e,n,r,o,s,u,l,f,p,d;if(f=i,"qop"===t.substr(i,3).toLowerCase()?(e=t.substr(i,3),i+=3):(e=null,0===a&&c('"qop"')),null!==e)if(null!==(n=U()))if(null!==(r=V())){if(p=i,null!==(o=tn())){for(s=[],d=i,44===t.charCodeAt(i)?(u=",",i++):(u=null,0===a&&c('","')),null!==u&&null!==(l=tn())?u=[u,l]:(u=null,i=d);null!==u;)s.push(u),d=i,44===t.charCodeAt(i)?(u=",",i++):(u=null,0===a&&c('","')),null!==u&&null!==(l=tn())?u=[u,l]:(u=null,i=d);null!==s?o=[o,s]:(o=null,i=p)}else o=null,i=p;null!==o&&null!==(s=G())?e=[e,n,r,o,s]:(e=null,i=f)}else e=null,i=f;else e=null,i=f;else e=null,i=f;return e}function tn(){var e,n,r;return n=i,"auth-int"===t.substr(i,8).toLowerCase()?(e=t.substr(i,8),i+=8):(e=null,0===a&&c('"auth-int"')),null===e&&("auth"===t.substr(i,4).toLowerCase()?(e=t.substr(i,4),i+=4):(e=null,0===a&&c('"auth"')),null===e&&(e=I())),null!==e&&(r=e,Bn.qop||(Bn.qop=[]),e=void Bn.qop.push(r.toLowerCase())),null===e&&(i=n),e}function nn(){var e,t,n,r,o,a,s;if(o=i,a=i,null!==(e=mt())){for(t=[],s=i,null!==(n=q())&&null!==(r=Et())?n=[n,r]:(n=null,i=s);null!==n;)t.push(n),s=i,null!==(n=q())&&null!==(r=Et())?n=[n,r]:(n=null,i=s);null!==t?e=[e,t]:(e=null,i=a)}else e=null,i=a;return null!==e&&(e=function(e){var t;Bn.multi_header||(Bn.multi_header=[]);try{t=new Fn(Bn.uri,Bn.display_name,Bn.params),delete Bn.uri,delete Bn.display_name,delete Bn.params}catch(e){t=null}Bn.multi_header.push({possition:i,offset:e,parsed:t})}(o)),null===e&&(i=o),e}function rn(){var e;return null===(e=on())&&(e=Et()),e}function on(){var e,n,r,o,s,u,l;if(s=i,u=i,"cause"===t.substr(i,5).toLowerCase()?(e=t.substr(i,5),i+=5):(e=null,0===a&&c('"cause"')),null!==e)if(null!==(n=U())){if(null!==(o=f()))for(r=[];null!==o;)r.push(o),o=f();else r=null;null!==r?e=[e,n,r]:(e=null,i=u)}else e=null,i=u;else e=null,i=u;return null!==e&&(l=e[2],e=void(Bn.cause=parseInt(l.join("")))),null===e&&(i=s),e}function an(){var e,t,n,r,o,a;if(o=i,null!==(e=mt())){for(t=[],a=i,null!==(n=q())&&null!==(r=Et())?n=[n,r]:(n=null,i=a);null!==n;)t.push(n),a=i,null!==(n=q())&&null!==(r=Et())?n=[n,r]:(n=null,i=a);null!==t?e=[e,t]:(e=null,i=o)}else e=null,i=o;return e}function sn(){var e,n,r;return n=i,"active"===t.substr(i,6).toLowerCase()?(e=t.substr(i,6),i+=6):(e=null,0===a&&c('"active"')),null===e&&("pending"===t.substr(i,7).toLowerCase()?(e=t.substr(i,7),i+=7):(e=null,0===a&&c('"pending"')),null===e&&("terminated"===t.substr(i,10).toLowerCase()?(e=t.substr(i,10),i+=10):(e=null,0===a&&c('"terminated"')),null===e&&(e=I()))),null!==e&&(r=n,e=void(Bn.state=t.substring(i,r))),null===e&&(i=n),e}function un(){var e,n,r,o,s,u,l,f;return o=i,s=i,"reason"===t.substr(i,6).toLowerCase()?(e=t.substr(i,6),i+=6):(e=null,0===a&&c('"reason"')),null!==e&&null!==(n=U())&&null!==(r=cn())?e=[e,n,r]:(e=null,i=s),null!==e&&(e=void(void 0!==(u=e[2])&&(Bn.reason=u))),null===e&&(i=o),null===e&&(o=i,s=i,"expires"===t.substr(i,7).toLowerCase()?(e=t.substr(i,7),i+=7):(e=null,0===a&&c('"expires"')),null!==e&&null!==(n=U())&&null!==(r=Ct())?e=[e,n,r]:(e=null,i=s),null!==e&&(e=void(void 0!==(f=e[2])&&(Bn.expires=f))),null===e&&(i=o),null===e&&(o=i,s=i,"retry_after"===t.substr(i,11).toLowerCase()?(e=t.substr(i,11),i+=11):(e=null,0===a&&c('"retry_after"')),null!==e&&null!==(n=U())&&null!==(r=Ct())?e=[e,n,r]:(e=null,i=s),null!==e&&(e=void(void 0!==(l=e[2])&&(Bn.retry_after=l))),null===e&&(i=o),null===e&&(e=Et()))),e}function cn(){var e;return"deactivated"===t.substr(i,11).toLowerCase()?(e=t.substr(i,11),i+=11):(e=null,0===a&&c('"deactivated"')),null===e&&("probation"===t.substr(i,9).toLowerCase()?(e=t.substr(i,9),i+=9):(e=null,0===a&&c('"probation"')),null===e&&("rejected"===t.substr(i,8).toLowerCase()?(e=t.substr(i,8),i+=8):(e=null,0===a&&c('"rejected"')),null===e&&("timeout"===t.substr(i,7).toLowerCase()?(e=t.substr(i,7),i+=7):(e=null,0===a&&c('"timeout"')),null===e&&("giveup"===t.substr(i,6).toLowerCase()?(e=t.substr(i,6),i+=6):(e=null,0===a&&c('"giveup"')),null===e&&("noresource"===t.substr(i,10).toLowerCase()?(e=t.substr(i,10),i+=10):(e=null,0===a&&c('"noresource"')),null===e&&("invariant"===t.substr(i,9).toLowerCase()?(e=t.substr(i,9),i+=9):(e=null,0===a&&c('"invariant"')),null===e&&(e=I()))))))),e}function ln(){var e;return null===(e=Bt())&&(e=Et()),e}function fn(){var e,t,n,r,o,a,s,u;if(s=i,null!==(e=yn()))if(null!==(t=S()))if(null!==(n=Cn())){for(r=[],u=i,null!==(o=q())&&null!==(a=pn())?o=[o,a]:(o=null,i=u);null!==o;)r.push(o),u=i,null!==(o=q())&&null!==(a=pn())?o=[o,a]:(o=null,i=u);null!==r?e=[e,t,n,r]:(e=null,i=s)}else e=null,i=s;else e=null,i=s;else e=null,i=s;return e}function pn(){var e;return null===(e=dn())&&null===(e=hn())&&null===(e=vn())&&null===(e=mn())&&null===(e=gn())&&(e=Et()),e}function dn(){var e,n,r,o,s,u;return o=i,s=i,"ttl"===t.substr(i,3).toLowerCase()?(e=t.substr(i,3),i+=3):(e=null,0===a&&c('"ttl"')),null!==e&&null!==(n=U())&&null!==(r=Sn())?e=[e,n,r]:(e=null,i=s),null!==e&&(u=e[2],e=void(Bn.ttl=u)),null===e&&(i=o),e}function hn(){var e,n,r,o,s,u;return o=i,s=i,"maddr"===t.substr(i,5).toLowerCase()?(e=t.substr(i,5),i+=5):(e=null,0===a&&c('"maddr"')),null!==e&&null!==(n=U())&&null!==(r=se())?e=[e,n,r]:(e=null,i=s),null!==e&&(u=e[2],e=void(Bn.maddr=u)),null===e&&(i=o),e}function vn(){var e,n,r,o,s,u;return o=i,s=i,"received"===t.substr(i,8).toLowerCase()?(e=t.substr(i,8),i+=8):(e=null,0===a&&c('"received"')),null!==e&&null!==(n=U())?(null===(r=ve())&&(r=pe()),null!==r?e=[e,n,r]:(e=null,i=s)):(e=null,i=s),null!==e&&(u=e[2],e=void(Bn.received=u)),null===e&&(i=o),e}function mn(){var e,n,r,o,s,u;return o=i,s=i,"branch"===t.substr(i,6).toLowerCase()?(e=t.substr(i,6),i+=6):(e=null,0===a&&c('"branch"')),null!==e&&null!==(n=U())&&null!==(r=I())?e=[e,n,r]:(e=null,i=s),null!==e&&(u=e[2],e=void(Bn.branch=u)),null===e&&(i=o),e}function gn(){var e,n,r,o,s,u,l;if(s=i,u=i,"rport"===t.substr(i,5).toLowerCase()?(e=t.substr(i,5),i+=5):(e=null,0===a&&c('"rport"')),null!==e){if(l=i,null!==(n=U())){for(r=[],o=f();null!==o;)r.push(o),o=f();null!==r?n=[n,r]:(n=null,i=l)}else n=null,i=l;null!==(n=null!==n?n:"")?e=[e,n]:(e=null,i=u)}else e=null,i=u;return null!==e&&(e=void("undefined"!=typeof response_port&&(Bn.rport=response_port.join("")))),null===e&&(i=s),e}function yn(){var e,t,n,r,o,a;return a=i,null!==(e=_n())&&null!==(t=M())&&null!==(n=I())&&null!==(r=M())&&null!==(o=bn())?e=[e,t,n,r,o]:(e=null,i=a),e}function _n(){var e,n,r;return n=i,"sip"===t.substr(i,3).toLowerCase()?(e=t.substr(i,3),i+=3):(e=null,0===a&&c('"SIP"')),null===e&&(e=I()),null!==e&&(r=e,e=void(Bn.protocol=r)),null===e&&(i=n),e}function bn(){var e,n,r;return n=i,"udp"===t.substr(i,3).toLowerCase()?(e=t.substr(i,3),i+=3):(e=null,0===a&&c('"UDP"')),null===e&&("tcp"===t.substr(i,3).toLowerCase()?(e=t.substr(i,3),i+=3):(e=null,0===a&&c('"TCP"')),null===e&&("tls"===t.substr(i,3).toLowerCase()?(e=t.substr(i,3),i+=3):(e=null,0===a&&c('"TLS"')),null===e&&("sctp"===t.substr(i,4).toLowerCase()?(e=t.substr(i,4),i+=4):(e=null,0===a&&c('"SCTP"')),null===e&&(e=I())))),null!==e&&(r=e,e=void(Bn.transport=r)),null===e&&(i=n),e}function Cn(){var e,t,n,r,o;return r=i,null!==(e=An())?(o=i,null!==(t=W())&&null!==(n=En())?t=[t,n]:(t=null,i=o),null!==(t=null!==t?t:"")?e=[e,t]:(e=null,i=r)):(e=null,i=r),e}function An(){var e,n,r;return n=i,null===(e=ve())&&null===(e=fe())&&(e=ue()),null!==e&&(r=n,e=void(Bn.host=t.substring(i,r))),null===e&&(i=n),e}function En(){var e,t,n,r,o,a,s,u;return a=i,s=i,null!==(e=null!==(e=f())?e:"")&&null!==(t=null!==(t=f())?t:"")&&null!==(n=null!==(n=f())?n:"")&&null!==(r=null!==(r=f())?r:"")&&null!==(o=null!==(o=f())?o:"")?e=[e,t,n,r,o]:(e=null,i=s),null!==e&&(u=e,e=void(Bn.port=parseInt(u.join("")))),null===e&&(i=a),e}function Sn(){var e,t,n,r,o;return r=i,o=i,null!==(e=f())&&null!==(t=null!==(t=f())?t:"")&&null!==(n=null!==(n=f())?n:"")?e=[e,t,n]:(e=null,i=o),null!==e&&(e=parseInt(e.join(""))),null===e&&(i=r),e}function Tn(){var e,t,n;return t=i,null!==(e=Ct())&&(n=e,e=void(Bn.expires=n)),null===e&&(i=t),e}function wn(){var e;return null===(e=kn())&&(e=Et()),e}function kn(){var e,n,r,o,s,u;return o=i,s=i,"refresher"===t.substr(i,9).toLowerCase()?(e=t.substr(i,9),i+=9):(e=null,0===a&&c('"refresher"')),null!==e&&null!==(n=U())?("uac"===t.substr(i,3).toLowerCase()?(r=t.substr(i,3),i+=3):(r=null,0===a&&c('"uac"')),null===r&&("uas"===t.substr(i,3).toLowerCase()?(r=t.substr(i,3),i+=3):(r=null,0===a&&c('"uas"'))),null!==r?e=[e,n,r]:(e=null,i=s)):(e=null,i=s),null!==e&&(u=e[2],e=void(Bn.refresher=u.toLowerCase())),null===e&&(i=o),e}function Rn(){var e,t;for(e=[],null===(t=R())&&null===(t=x())&&(t=S());null!==t;)e.push(t),null===(t=R())&&null===(t=x())&&(t=S());return e}function On(){var e,n,r,o,s,u,l,f,p,d,h,v;return d=i,h=i,null!==(e=In())?(45===t.charCodeAt(i)?(n="-",i++):(n=null,0===a&&c('"-"')),null!==n&&null!==(r=xn())?(45===t.charCodeAt(i)?(o="-",i++):(o=null,0===a&&c('"-"')),null!==o&&null!==(s=xn())?(45===t.charCodeAt(i)?(u="-",i++):(u=null,0===a&&c('"-"')),null!==u&&null!==(l=xn())?(45===t.charCodeAt(i)?(f="-",i++):(f=null,0===a&&c('"-"')),null!==f&&null!==(p=Pn())?e=[e,n,r,o,s,u,l,f,p]:(e=null,i=h)):(e=null,i=h)):(e=null,i=h)):(e=null,i=h)):(e=null,i=h),null!==e&&(v=d,e[0],e=void(Bn=t.substring(i+5,v))),null===e&&(i=d),e}function xn(){var e,t,n,r,o;return o=i,null!==(e=d())&&null!==(t=d())&&null!==(n=d())&&null!==(r=d())?e=[e,t,n,r]:(e=null,i=o),e}function In(){var e,t,n;return n=i,null!==(e=xn())&&null!==(t=xn())?e=[e,t]:(e=null,i=n),e}function Pn(){var e,t,n,r;return r=i,null!==(e=xn())&&null!==(t=xn())&&null!==(n=xn())?e=[e,t,n]:(e=null,i=r),e}function Nn(){var e,n,r,o,s,u,l;return o=i,s=i,null!==(e=N())?(u=i,64===t.charCodeAt(i)?(n="@",i++):(n=null,0===a&&c('"@"')),null!==n&&null!==(r=N())?n=[n,r]:(n=null,i=u),null!==(n=null!==n?n:"")?e=[e,n]:(e=null,i=s)):(e=null,i=s),null!==e&&(l=o,e=void(Bn.call_id=t.substring(i,l))),null===e&&(i=o),e}function Dn(){var e;return null===(e=Mn())&&null===(e=Un())&&null===(e=jn())&&(e=Et()),e}function Mn(){var e,n,r,o,s,u;return o=i,s=i,"to-tag"===t.substr(i,6)?(e="to-tag",i+=6):(e=null,0===a&&c('"to-tag"')),null!==e&&null!==(n=U())&&null!==(r=I())?e=[e,n,r]:(e=null,i=s),null!==e&&(u=e[2],e=void(Bn.to_tag=u)),null===e&&(i=o),e}function Un(){var e,n,r,o,s,u;return o=i,s=i,"from-tag"===t.substr(i,8)?(e="from-tag",i+=8):(e=null,0===a&&c('"from-tag"')),null!==e&&null!==(n=U())&&null!==(r=I())?e=[e,n,r]:(e=null,i=s),null!==e&&(u=e[2],e=void(Bn.from_tag=u)),null===e&&(i=o),e}function jn(){var e,n;return n=i,"early-only"===t.substr(i,10)?(e="early-only",i+=10):(e=null,0===a&&c('"early-only"')),null!==e&&(e=void(Bn.early_only=!0)),null===e&&(i=n),e}var Ln=n(32),Fn=n(70),Bn={};if(null===o[r]()||i!==t.length){var Hn=Math.max(i,s),qn=Hn<t.length?t.charAt(Hn):null,Wn=function(){for(var e=1,n=1,r=!1,o=0;o<Math.max(i,s);o++){var a=t.charAt(o);"\n"===a?(r||e++,n=1,r=!1):"\r"===a||"\u2028"===a||"\u2029"===a?(e++,n=1,r=!0):(n++,r=!1)}return{line:e,column:n}}();return new this.SyntaxError(function(e){e.sort();for(var t=null,n=[],r=0;r<e.length;r++)e[r]!==t&&(n.push(e[r]),t=e[r]);return n}(u),qn,Hn,Wn.line,Wn.column),-1}return Bn},toSource:function(){return this._source},SyntaxError:function(t,n,r,o,i){this.name="SyntaxError",this.expected=t,this.found=n,this.message=function(t,n){var r;switch(t.length){case 0:r="end of input";break;case 1:r=t[0];break;default:r=t.slice(0,t.length-1).join(", ")+" or "+t[t.length-1]}return"Expected "+r+" but "+(n?e(n):"end of input")+" found."}(t,n),this.offset=r,this.line=o,this.column=i}};return t.SyntaxError.prototype=Error.prototype,t}()},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";var r=n(7),o=n(9),i=n(89),a=n(24),s=n(90),u=n(30),c=n(43),l=n(4),f=[],p=0,d=i.getPooled(),h=!1,v=null;function m(){A.ReactReconcileTransaction&&v||r("123")}var g=[{initialize:function(){this.dirtyComponentsLength=f.length},close:function(){this.dirtyComponentsLength!==f.length?(f.splice(0,this.dirtyComponentsLength),C()):f.length=0}},{initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}}];function y(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=i.getPooled(),this.reconcileTransaction=A.ReactReconcileTransaction.getPooled(!0)}function _(e,t){return e._mountOrder-t._mountOrder}function b(e){var t=e.dirtyComponentsLength;t!==f.length&&r("124",t,f.length),f.sort(_),p++;for(var n=0;n<t;n++){var o,i=f[n],a=i._pendingCallbacks;if(i._pendingCallbacks=null,s.logTopLevelRenders){var c=i;i._currentElement.type.isReactTopLevelWrapper&&(c=i._renderedComponent),o="React update: "+c.getName(),console.time(o)}if(u.performUpdateIfNecessary(i,e.reconcileTransaction,p),o&&console.timeEnd(o),a)for(var l=0;l<a.length;l++)e.callbackQueue.enqueue(a[l],i.getPublicInstance())}}o(y.prototype,c,{getTransactionWrappers:function(){return g},destructor:function(){this.dirtyComponentsLength=null,i.release(this.callbackQueue),this.callbackQueue=null,A.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return c.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),a.addPoolingTo(y);var C=function(){for(;f.length||h;){if(f.length){var e=y.getPooled();e.perform(b,null,e),y.release(e)}if(h){h=!1;var t=d;d=i.getPooled(),t.notifyAll(),i.release(t)}}};var A={ReactReconcileTransaction:null,batchedUpdates:function(e,t,n,r,o,i){return m(),v.batchedUpdates(e,t,n,r,o,i)},enqueueUpdate:function e(t){m(),v.isBatchingUpdates?(f.push(t),null==t._updateBatchNumber&&(t._updateBatchNumber=p+1)):v.batchedUpdates(e,t)},flushBatchedUpdates:C,injection:{injectReconcileTransaction:function(e){e||r("126"),A.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e||r("127"),"function"!=typeof e.batchedUpdates&&r("128"),"boolean"!=typeof e.isBatchingUpdates&&r("129"),v=e}},asap:function(e,t){l(v.isBatchingUpdates,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."),d.enqueue(e,t),h=!0}};e.exports=A},function(e,t,n){var r;e.exports=(r=r||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},o=r.lib={},i=o.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=o.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,o=e.sigBytes;if(this.clamp(),r%4)for(var i=0;i<o;i++){var a=n[i>>>2]>>>24-i%4*8&255;t[r+i>>>2]|=a<<24-(r+i)%4*8}else for(var i=0;i<o;i+=4)t[r+i>>>2]=n[i>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],o=function(t){var t=t,n=987654321,r=4294967295;return function(){var o=((n=36969*(65535&n)+(n>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return o/=4294967296,(o+=.5)*(e.random()>.5?1:-1)}},i=0;i<t;i+=4){var s=o(4294967296*(n||e.random()));n=987654071*s(),r.push(4294967296*s()|0)}return new a.init(r,t)}}),s=r.enc={},u=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new a.init(n,t/2)}},c=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new a.init(n,t)}},l=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},f=o.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,o=n.sigBytes,i=this.blockSize,s=4*i,u=o/s,c=(u=t?e.ceil(u):e.max((0|u)-this._minBufferSize,0))*i,l=e.min(4*c,o);if(c){for(var f=0;f<c;f+=i)this._doProcessBlock(r,f);var p=r.splice(0,c);n.sigBytes-=l}return new a.init(p,l)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),p=(o.Hasher=f.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}}),r.algo={});return r}(Math),r)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=!0,i=!0;function a(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}e.exports={extractVersion:a,wrapPeerConnectionEvent:function(e,t,n){if(e.RTCPeerConnection){var r=e.RTCPeerConnection.prototype,o=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return o.apply(this,arguments);var i=function(e){var t=n(e);t&&r(t)};return this._eventMap=this._eventMap||{},this._eventMap[r]=i,o.apply(this,[e,i])};var i=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[n])return i.apply(this,arguments);var r=this._eventMap[n];return delete this._eventMap[n],i.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}},disableLog:function(e){return"boolean"!=typeof e?new Error("Argument type: "+r(e)+". Please use a boolean."):(o=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},disableWarnings:function(e){return"boolean"!=typeof e?new Error("Argument type: "+r(e)+". Please use a boolean."):(i=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))},log:function(){if("object"===("undefined"==typeof window?"undefined":r(window))){if(o)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},deprecated:function(e,t){i&&console.warn(e+" is deprecated, please use "+t+" instead.")},detectBrowser:function(e){var t=e&&e.navigator,n={browser:null,version:null};if(void 0===e||!e.navigator)return n.browser="Not a browser.",n;if(t.mozGetUserMedia)n.browser="firefox",n.version=a(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia)n.browser="chrome",n.version=a(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))n.browser="edge",n.version=a(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return n.browser="Not a supported browser.",n;n.browser="safari",n.version=a(t.userAgent,/AppleWebKit\/(\d+)\./,1)}return n}}},function(e,t,n){"use strict";e.exports={current:null}},function(e,t,n){"use strict";var r=n(9),o=n(24),i=n(17),a=(n(8),["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),s={type:null,target:null,currentTarget:i.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function u(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var o=this.constructor.Interface;for(var a in o)if(o.hasOwnProperty(a)){0;var s=o[a];s?this[a]=s(n):"target"===a?this.target=r:this[a]=n[a]}var u=null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue;return this.isDefaultPrevented=u?i.thatReturnsTrue:i.thatReturnsFalse,this.isPropagationStopped=i.thatReturnsFalse,this}r(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=i.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=i.thatReturnsTrue)},persist:function(){this.isPersistent=i.thatReturnsTrue},isPersistent:i.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var n=0;n<a.length;n++)this[a[n]]=null}}),u.Interface=s,u.augmentClass=function(e,t){var n=function(){};n.prototype=this.prototype;var i=new n;r(i,e.prototype),e.prototype=i,e.prototype.constructor=e,e.Interface=r({},this.Interface,t),e.augmentClass=this.augmentClass,o.addPoolingTo(e,o.fourArgumentPooler)},o.addPoolingTo(u,o.fourArgumentPooler),e.exports=u},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}var f=n(112),p=n(11),d=n(13),h=n(70),v=n(16),m=n(6)("JsSIP:SIPMessage"),g=function(){function e(t,n,r,o,i,a){if(u(this,e),!t||!n||!r)return null;o=o||{},this.ua=r,this.headers={},this.method=t,this.ruri=n,this.body=a,this.extraHeaders=d.cloneArray(i),o.route_set?this.setHeader("route",o.route_set):r.configuration.use_preloaded_route&&this.setHeader("route","<".concat(r.transport.sip_uri,";lr>")),this.setHeader("via",""),this.setHeader("max-forwards",p.MAX_FORWARDS);var s,c=o.to_display_name||0===o.to_display_name?'"'.concat(o.to_display_name,'" '):"";c+="<".concat(o.to_uri||n,">"),c+=o.to_tag?";tag=".concat(o.to_tag):"",this.to=h.parse(c),this.setHeader("to",c),s=o.from_display_name||0===o.from_display_name?'"'.concat(o.from_display_name,'" '):r.configuration.display_name?'"'.concat(r.configuration.display_name,'" '):"",s+="<".concat(o.from_uri||r.configuration.uri,">;tag="),s+=o.from_tag||d.newTag(),this.from=h.parse(s),this.setHeader("from",s);var l=o.call_id||r.configuration.jssip_id+d.createRandomToken(15);this.call_id=l,this.setHeader("call-id",l);var f=o.cseq||Math.floor(1e4*Math.random());this.cseq=f,this.setHeader("cseq","".concat(f," ").concat(t))}return l(e,[{key:"setHeader",value:function(e,t){for(var n=new RegExp("^\\s*".concat(e,"\\s*:"),"i"),r=0;r<this.extraHeaders.length;r++)n.test(this.extraHeaders[r])&&this.extraHeaders.splice(r,1);this.headers[d.headerize(e)]=Array.isArray(t)?t:[t]}},{key:"getHeader",value:function(e){var t=this.headers[d.headerize(e)];if(t){if(t[0])return t[0]}else{var n=new RegExp("^\\s*".concat(e,"\\s*:"),"i"),r=!0,o=!1,i=void 0;try{for(var a,s=this.extraHeaders[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;if(n.test(u))return u.substring(u.indexOf(":")+1).trim()}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}}}},{key:"getHeaders",value:function(e){var t=this.headers[d.headerize(e)],n=[];if(t){var r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;n.push(u)}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}var c=new RegExp("^\\s*".concat(e,"\\s*:"),"i"),l=!0,f=!1,p=void 0;try{for(var h,v=this.extraHeaders[Symbol.iterator]();!(l=(h=v.next()).done);l=!0){var m=h.value;c.test(m)&&n.push(m.substring(m.indexOf(":")+1).trim())}}catch(e){f=!0,p=e}finally{try{l||null==v.return||v.return()}finally{if(f)throw p}}return n}},{key:"hasHeader",value:function(e){if(this.headers[d.headerize(e)])return!0;var t=new RegExp("^\\s*".concat(e,"\\s*:"),"i"),n=!0,r=!1,o=void 0;try{for(var i,a=this.extraHeaders[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;if(t.test(s))return!0}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return!1}},{key:"parseSDP",value:function(e){return!e&&this.sdp?this.sdp:(this.sdp=f.parse(this.body||""),this.sdp)}},{key:"toString",value:function(){var e="".concat(this.method," ").concat(this.ruri," SIP/2.0\r\n");for(var t in this.headers)if(Object.prototype.hasOwnProperty.call(this.headers,t)){var n=!0,r=!1,o=void 0;try{for(var i,a=this.headers[t][Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;e+="".concat(t,": ").concat(s,"\r\n")}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}var u=!0,c=!1,l=void 0;try{for(var f,h=this.extraHeaders[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var v=f.value;e+="".concat(v.trim(),"\r\n")}}catch(e){c=!0,l=e}finally{try{u||null==h.return||h.return()}finally{if(c)throw l}}var m=[];switch(this.method){case p.REGISTER:m.push("path","gruu");break;case p.INVITE:this.ua.configuration.session_timers&&m.push("timer"),(this.ua.contact.pub_gruu||this.ua.contact.temp_gruu)&&m.push("gruu"),m.push("ice","replaces");break;case p.UPDATE:this.ua.configuration.session_timers&&m.push("timer"),m.push("ice")}m.push("outbound");var g=this.ua.configuration.user_agent||p.USER_AGENT;if(e+="Allow: ".concat(p.ALLOWED_METHODS,"\r\n"),e+="Supported: ".concat(m,"\r\n"),e+="User-Agent: ".concat(g,"\r\n"),this.body){var y=d.str_utf8_length(this.body);e+="Content-Length: ".concat(y,"\r\n\r\n"),e+=this.body}else e+="Content-Length: 0\r\n\r\n";return e}},{key:"clone",value:function(){var t=new e(this.method,this.ruri,this.ua);return Object.keys(this.headers).forEach(function(e){t.headers[e]=this.headers[e].slice()},this),t.body=this.body,t.extraHeaders=d.cloneArray(this.extraHeaders),t.to=this.to,t.from=this.from,t.call_id=this.call_id,t.cseq=this.cseq,t}}]),e}(),y=function(e){function t(e,n,r,a,s){var c;return u(this,t),(c=o(this,i(t).call(this,p.INVITE,e,n,r,a,s))).transaction=null,c}return a(t,g),l(t,[{key:"cancel",value:function(e){this.transaction.cancel(e)}},{key:"clone",value:function(){var e=new t(this.ruri,this.ua);return Object.keys(this.headers).forEach(function(t){e.headers[t]=this.headers[t].slice()},this),e.body=this.body,e.extraHeaders=d.cloneArray(this.extraHeaders),e.to=this.to,e.from=this.from,e.call_id=this.call_id,e.cseq=this.cseq,e.transaction=this.transaction,e}}]),t}(),_=function(){function e(){u(this,e),this.data=null,this.headers=null,this.method=null,this.via=null,this.via_branch=null,this.call_id=null,this.cseq=null,this.from=null,this.from_tag=null,this.to=null,this.to_tag=null,this.body=null,this.sdp=null}return l(e,[{key:"addHeader",value:function(e,t){var n={raw:t};e=d.headerize(e),this.headers[e]?this.headers[e].push(n):this.headers[e]=[n]}},{key:"getHeader",value:function(e){var t=this.headers[d.headerize(e)];if(t)return t[0]?t[0].raw:void 0}},{key:"getHeaders",value:function(e){var t=this.headers[d.headerize(e)],n=[];if(!t)return[];var r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;n.push(u.raw)}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}},{key:"hasHeader",value:function(e){return!!this.headers[d.headerize(e)]}},{key:"parseHeader",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e=d.headerize(e),this.headers[e]){if(!(t>=this.headers[e].length)){var n=this.headers[e][t],r=n.raw;if(n.parsed)return n.parsed;var o=v.parse(r,e.replace(/-/g,"_"));return-1===o?(this.headers[e].splice(t,1),void m('error parsing "'.concat(e,'" header field with value "').concat(r,'"'))):(n.parsed=o,o)}m('not so many "'.concat(e,'" headers present'))}else m('header "'.concat(e,'" not present'))}},{key:"s",value:function(e,t){return this.parseHeader(e,t)}},{key:"setHeader",value:function(e,t){var n={raw:t};this.headers[d.headerize(e)]=[n]}},{key:"parseSDP",value:function(e){return!e&&this.sdp?this.sdp:(this.sdp=f.parse(this.body||""),this.sdp)}},{key:"toString",value:function(){return this.data}}]),e}(),b=function(e){function t(e){var n;return u(this,t),(n=o(this,i(t).call(this))).ua=e,n.headers={},n.ruri=null,n.transport=null,n.server_transaction=null,n}return a(t,_),l(t,[{key:"reply",value:function(e,t,n,r,o,i){var a=[],s=this.getHeader("To");if(t=t||null,!(e=e||null)||e<100||e>699)throw new TypeError("Invalid status_code: ".concat(e));if(t&&"string"!=typeof t&&!(t instanceof String))throw new TypeError("Invalid reason_phrase: ".concat(t));t=t||p.REASON_PHRASE[e]||"",n=d.cloneArray(n);var u="SIP/2.0 ".concat(e," ").concat(t,"\r\n");if(this.method===p.INVITE&&e>100&&e<=200){var c=this.getHeaders("record-route"),l=!0,f=!1,h=void 0;try{for(var v,m=c[Symbol.iterator]();!(l=(v=m.next()).done);l=!0){var g=v.value;u+="Record-Route: ".concat(g,"\r\n")}}catch(e){f=!0,h=e}finally{try{l||null==m.return||m.return()}finally{if(f)throw h}}}var y=this.getHeaders("via"),_=!0,b=!1,C=void 0;try{for(var A,E=y[Symbol.iterator]();!(_=(A=E.next()).done);_=!0){var S=A.value;u+="Via: ".concat(S,"\r\n")}}catch(e){b=!0,C=e}finally{try{_||null==E.return||E.return()}finally{if(b)throw C}}!this.to_tag&&e>100?s+=";tag=".concat(d.newTag()):this.to_tag&&!this.s("to").hasParam("tag")&&(s+=";tag=".concat(this.to_tag)),u+="To: ".concat(s,"\r\n"),u+="From: ".concat(this.getHeader("From"),"\r\n"),u+="Call-ID: ".concat(this.call_id,"\r\n"),u+="CSeq: ".concat(this.cseq," ").concat(this.method,"\r\n");var T=!0,w=!1,k=void 0;try{for(var R,O=n[Symbol.iterator]();!(T=(R=O.next()).done);T=!0){var x=R.value;u+="".concat(x.trim(),"\r\n")}}catch(e){w=!0,k=e}finally{try{T||null==O.return||O.return()}finally{if(w)throw k}}switch(this.method){case p.INVITE:this.ua.configuration.session_timers&&a.push("timer"),(this.ua.contact.pub_gruu||this.ua.contact.temp_gruu)&&a.push("gruu"),a.push("ice","replaces");break;case p.UPDATE:this.ua.configuration.session_timers&&a.push("timer"),r&&a.push("ice"),a.push("replaces")}if(a.push("outbound"),this.method===p.OPTIONS?(u+="Allow: ".concat(p.ALLOWED_METHODS,"\r\n"),u+="Accept: ".concat(p.ACCEPTED_BODY_TYPES,"\r\n")):405===e?u+="Allow: ".concat(p.ALLOWED_METHODS,"\r\n"):415===e&&(u+="Accept: ".concat(p.ACCEPTED_BODY_TYPES,"\r\n")),u+="Supported: ".concat(a,"\r\n"),r){var I=d.str_utf8_length(r);u+="Content-Type: application/sdp\r\n",u+="Content-Length: ".concat(I,"\r\n\r\n"),u+=r}else u+="Content-Length: ".concat(0,"\r\n\r\n");this.server_transaction.receiveResponse(e,u,o,i)}},{key:"reply_sl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.getHeaders("via");if(!e||e<100||e>699)throw new TypeError("Invalid status_code: ".concat(e));if(t&&"string"!=typeof t&&!(t instanceof String))throw new TypeError("Invalid reason_phrase: ".concat(t));t=t||p.REASON_PHRASE[e]||"";var r="SIP/2.0 ".concat(e," ").concat(t,"\r\n"),o=!0,i=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;r+="Via: ".concat(c,"\r\n")}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}var l=this.getHeader("To");!this.to_tag&&e>100?l+=";tag=".concat(d.newTag()):this.to_tag&&!this.s("to").hasParam("tag")&&(l+=";tag=".concat(this.to_tag)),r+="To: ".concat(l,"\r\n"),r+="From: ".concat(this.getHeader("From"),"\r\n"),r+="Call-ID: ".concat(this.call_id,"\r\n"),r+="CSeq: ".concat(this.cseq," ").concat(this.method,"\r\n"),r+="Content-Length: ".concat(0,"\r\n\r\n"),this.transport.send(r)}}]),t}(),C=function(e){function t(){var e;return u(this,t),(e=o(this,i(t).call(this))).headers={},e.status_code=null,e.reason_phrase=null,e}return a(t,_),t}();e.exports={OutgoingRequest:g,InitialOutgoingInviteRequest:y,IncomingRequest:b,IncomingResponse:C}},function(e,t,n){"use strict";var r=n(7),o=(n(4),function(e){if(this.instancePool.length){var t=this.instancePool.pop();return this.call(t,e),t}return new this(e)}),i=function(e){e instanceof this||r("25"),e.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(e)},a=o,s={addPoolingTo:function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||a,n.poolSize||(n.poolSize=10),n.release=i,n},oneArgumentPooler:o,twoArgumentPooler:function(e,t){if(this.instancePool.length){var n=this.instancePool.pop();return this.call(n,e,t),n}return new this(e,t)},threeArgumentPooler:function(e,t,n){if(this.instancePool.length){var r=this.instancePool.pop();return this.call(r,e,t,n),r}return new this(e,t,n)},fourArgumentPooler:function(e,t,n,r){if(this.instancePool.length){var o=this.instancePool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)}};e.exports=s},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function s(e){var t="function"==typeof Map?new Map:void 0;return(s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return u(e,arguments,l(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),c(r,e)})(e)}function u(e,t,n){return(u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&c(o,n.prototype),o}).apply(null,arguments)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){function t(e,n){var r;return o(this,t),(r=i(this,l(t).call(this))).code=1,r.name="CONFIGURATION_ERROR",r.parameter=e,r.value=n,r.message=r.value?"Invalid value ".concat(JSON.stringify(r.value),' for parameter "').concat(r.parameter,'"'):"Missing parameter: ".concat(r.parameter),r}return a(t,s(Error)),t}(),p=function(e){function t(e){var n;return o(this,t),(n=i(this,l(t).call(this))).code=2,n.name="INVALID_STATE_ERROR",n.status=e,n.message="Invalid status: ".concat(e),n}return a(t,s(Error)),t}(),d=function(e){function t(e){var n;return o(this,t),(n=i(this,l(t).call(this))).code=3,n.name="NOT_SUPPORTED_ERROR",n.message=e,n}return a(t,s(Error)),t}(),h=function(e){function t(e){var n;return o(this,t),(n=i(this,l(t).call(this))).code=4,n.name="NOT_READY_ERROR",n.message=e,n}return a(t,s(Error)),t}();e.exports={ConfigurationError:f,InvalidStateError:p,NotSupportedError:d,NotReadyError:h}},function(e,t,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var o,i,a,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"==typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=c(e))>0&&a.length>o&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return e}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,i(this.listener,this.target,e))}.bind(r);return o.listener=n,r.wrapFn=o,o}function p(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):h(o,o.length)}function d(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)i(u,this,t);else{var c=u.length,l=h(u,c);for(n=0;n<c;++n)i(l[n],this,t)}return!0},s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,f(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,f(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,o,i,a;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},s.prototype.listenerCount=d,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";var r=n(9),o=n(80),i=n(144),a=n(149),s=n(28),u=n(150),c=n(154),l=n(155),f=n(157),p=s.createElement,d=s.createFactory,h=s.cloneElement,v=r,m={Children:{map:i.map,forEach:i.forEach,count:i.count,toArray:i.toArray,only:f},Component:o.Component,PureComponent:o.PureComponent,createElement:p,cloneElement:h,isValidElement:s.isValidElement,PropTypes:u,createClass:l,createFactory:d,createMixin:function(e){return e},DOM:a,version:c,__spread:v};e.exports=m},function(e,t,n){"use strict";var r=n(9),o=n(21),i=(n(8),n(82),Object.prototype.hasOwnProperty),a=n(83),s={key:!0,ref:!0,__self:!0,__source:!0};function u(e){return void 0!==e.ref}function c(e){return void 0!==e.key}var l=function(e,t,n,r,o,i,s){return{$$typeof:a,type:e,key:t,ref:n,props:s,_owner:i}};l.createElement=function(e,t,n){var r,a={},f=null,p=null;if(null!=t)for(r in u(t)&&(p=t.ref),c(t)&&(f=""+t.key),void 0===t.__self?null:t.__self,void 0===t.__source?null:t.__source,t)i.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);var d=arguments.length-2;if(1===d)a.children=n;else if(d>1){for(var h=Array(d),v=0;v<d;v++)h[v]=arguments[v+2];0,a.children=h}if(e&&e.defaultProps){var m=e.defaultProps;for(r in m)void 0===a[r]&&(a[r]=m[r])}return l(e,f,p,0,0,o.current,a)},l.createFactory=function(e){var t=l.createElement.bind(null,e);return t.type=e,t},l.cloneAndReplaceKey=function(e,t){return l(e.type,t,e.ref,e._self,e._source,e._owner,e.props)},l.cloneElement=function(e,t,n){var a,f,p=r({},e.props),d=e.key,h=e.ref,v=(e._self,e._source,e._owner);if(null!=t)for(a in u(t)&&(h=t.ref,v=o.current),c(t)&&(d=""+t.key),e.type&&e.type.defaultProps&&(f=e.type.defaultProps),t)i.call(t,a)&&!s.hasOwnProperty(a)&&(void 0===t[a]&&void 0!==f?p[a]=f[a]:p[a]=t[a]);var m=arguments.length-2;if(1===m)p.children=n;else if(m>1){for(var g=Array(m),y=0;y<m;y++)g[y]=arguments[y+2];p.children=g}return l(e.type,d,h,0,0,v,p)},l.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===a},e.exports=l},function(e,t,n){"use strict";var r=n(7);n(4);function o(e,t){return(e&t)===t}var i={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=i,n=e.Properties||{},a=e.DOMAttributeNamespaces||{},u=e.DOMAttributeNames||{},c=e.DOMPropertyNames||{},l=e.DOMMutationMethods||{};for(var f in e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute),n){s.properties.hasOwnProperty(f)&&r("48",f);var p=f.toLowerCase(),d=n[f],h={attributeName:p,attributeNamespace:null,propertyName:f,mutationMethod:null,mustUseProperty:o(d,t.MUST_USE_PROPERTY),hasBooleanValue:o(d,t.HAS_BOOLEAN_VALUE),hasNumericValue:o(d,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:o(d,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:o(d,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(h.hasBooleanValue+h.hasNumericValue+h.hasOverloadedBooleanValue<=1||r("50",f),u.hasOwnProperty(f)){var v=u[f];h.attributeName=v}a.hasOwnProperty(f)&&(h.attributeNamespace=a[f]),c.hasOwnProperty(f)&&(h.propertyName=c[f]),l.hasOwnProperty(f)&&(h.mutationMethod=l[f]),s.properties[f]=h}}},a=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){if((0,s._isCustomAttributeFunctions[t])(e))return!0}return!1},injection:i};e.exports=s},function(e,t,n){"use strict";var r=n(166);n(15),n(8);function o(){r.attachRefs(this,this._currentElement)}var i={mountComponent:function(e,t,n,r,i,a){var s=e.mountComponent(t,n,r,i,a);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(o,e),s},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,t){r.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,n,i){var a=e._currentElement;if(t!==a||i!==e._context){0;var s=r.shouldUpdateRefs(a,t);s&&r.detachRefs(e,a),e.receiveComponent(t,n,i),s&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(o,e)}},performUpdateIfNecessary:function(e,t,n){e._updateBatchNumber===n&&e.performUpdateIfNecessary(t)}};e.exports=i},function(e,t,n){"use strict";var r=n(60),o=n(45),i=n(61),a=n(94),s="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent);function u(e){if(s){var t=e.node,n=e.children;if(n.length)for(var r=0;r<n.length;r++)c(t,n[r],null);else null!=e.html?o(t,e.html):null!=e.text&&a(t,e.text)}}var c=i(function(e,t,n){11===t.node.nodeType||1===t.node.nodeType&&"object"===t.node.nodeName.toLowerCase()&&(null==t.node.namespaceURI||t.node.namespaceURI===r.html)?(u(t),e.insertBefore(t.node,n)):(e.insertBefore(t.node,n),u(t))});function l(){return this.node.nodeName}function f(e){return{node:e,children:[],html:null,text:null,toString:l}}f.insertTreeBefore=c,f.replaceChildWithTree=function(e,t){e.parentNode.replaceChild(t.node,e),u(t)},f.queueChild=function(e,t){s?e.children.push(t):e.node.appendChild(t.node)},f.queueHTML=function(e,t){s?e.html=t:o(e.node,t)},f.queueText=function(e,t){s?e.text=t:a(e.node,t)},e.exports=f},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}var i=n(11),a=n(13),s=n(16);e.exports=function(){function e(t,n,r,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!r)throw new TypeError('missing or invalid "host" parameter');for(var u in this._parameters={},this._headers={},this._scheme=t||i.SIP,this._user=n,this._host=r,this._port=o,a)Object.prototype.hasOwnProperty.call(a,u)&&this.setParam(u,a[u]);for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&this.setHeader(c,s[c])}return o(e,null,[{key:"parse",value:function(e){return-1!==(e=s.parse(e,"SIP_URI"))?e:void 0}}]),o(e,[{key:"setParam",value:function(e,t){e&&(this._parameters[e.toLowerCase()]=null==t?null:t.toString())}},{key:"getParam",value:function(e){if(e)return this._parameters[e.toLowerCase()]}},{key:"hasParam",value:function(e){if(e)return!!this._parameters.hasOwnProperty(e.toLowerCase())}},{key:"deleteParam",value:function(e){if(e=e.toLowerCase(),this._parameters.hasOwnProperty(e)){var t=this._parameters[e];return delete this._parameters[e],t}}},{key:"clearParams",value:function(){this._parameters={}}},{key:"setHeader",value:function(e,t){this._headers[a.headerize(e)]=Array.isArray(t)?t:[t]}},{key:"getHeader",value:function(e){if(e)return this._headers[a.headerize(e)]}},{key:"hasHeader",value:function(e){if(e)return!!this._headers.hasOwnProperty(a.headerize(e))}},{key:"deleteHeader",value:function(e){if(e=a.headerize(e),this._headers.hasOwnProperty(e)){var t=this._headers[e];return delete this._headers[e],t}}},{key:"clearHeaders",value:function(){this._headers={}}},{key:"clone",value:function(){return new e(this._scheme,this._user,this._host,this._port,JSON.parse(JSON.stringify(this._parameters)),JSON.parse(JSON.stringify(this._headers)))}},{key:"toString",value:function(){var e=[],t="".concat(this._scheme,":");for(var n in this._user&&(t+="".concat(a.escapeUser(this._user),"@")),t+=this._host,(this._port||0===this._port)&&(t+=":".concat(this._port)),this._parameters)Object.prototype.hasOwnProperty.call(this._parameters,n)&&(t+=";".concat(n),null!==this._parameters[n]&&(t+="=".concat(this._parameters[n])));for(var r in this._headers)if(Object.prototype.hasOwnProperty.call(this._headers,r)){var o=!0,i=!1,s=void 0;try{for(var u,c=this._headers[r][Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value;e.push("".concat(r,"=").concat(l))}}catch(e){i=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw s}}}return e.length>0&&(t+="?".concat(e.join("&"))),t}},{key:"toAor",value:function(e){var t="".concat(this._scheme,":");return this._user&&(t+="".concat(a.escapeUser(this._user),"@")),t+=this._host,e&&(this._port||0===this._port)&&(t+=":".concat(this._port)),t}},{key:"scheme",get:function(){return this._scheme},set:function(e){this._scheme=e.toLowerCase()}},{key:"user",get:function(){return this._user},set:function(e){this._user=e}},{key:"host",get:function(){return this._host},set:function(e){this._host=e.toLowerCase()}},{key:"port",get:function(){return this._port},set:function(e){this._port=0===e?e:parseInt(e,10)||null}}]),e}()},function(e,t,n){(function(e){var r,o=n(279),i=n(122),a=n(281),s=n(282),u=n(283);e&&e.ArrayBuffer&&(r=n(284));var c="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),l="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),f=c||l;t.protocol=3;var p=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},d=o(p),h={type:"error",data:"parser error"},v=n(285);function m(e,t,n){for(var r=new Array(e.length),o=s(e.length,n),i=function(e,n,o){t(n,function(t,n){r[e]=n,o(t,r)})},a=0;a<e.length;a++)i(a,e[a],o)}t.encodePacket=function(n,r,o,i){"function"==typeof r&&(i=r,r=!1),"function"==typeof o&&(i=o,o=null);var a=void 0===n.data?void 0:n.data.buffer||n.data;if(e.ArrayBuffer&&a instanceof ArrayBuffer)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var o=e.data,i=new Uint8Array(o),a=new Uint8Array(1+o.byteLength);a[0]=p[e.type];for(var s=0;s<i.length;s++)a[s+1]=i[s];return r(a.buffer)}(n,r,i);if(v&&a instanceof e.Blob)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(f)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var o=new FileReader;return o.onload=function(){e.data=o.result,t.encodePacket(e,n,!0,r)},o.readAsArrayBuffer(e.data)}(e,n,r);var o=new Uint8Array(1);o[0]=p[e.type];var i=new v([o.buffer,e.data]);return r(i)}(n,r,i);if(a&&a.base64)return function(e,n){var r="b"+t.packets[e.type]+e.data.data;return n(r)}(n,i);var s=p[n.type];return void 0!==n.data&&(s+=o?u.encode(String(n.data)):String(n.data)),i(""+s)},t.encodeBase64Packet=function(n,r){var o,i="b"+t.packets[n.type];if(v&&n.data instanceof e.Blob){var a=new FileReader;return a.onload=function(){var e=a.result.split(",")[1];r(i+e)},a.readAsDataURL(n.data)}try{o=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(e){for(var s=new Uint8Array(n.data),u=new Array(s.length),c=0;c<s.length;c++)u[c]=s[c];o=String.fromCharCode.apply(null,u)}return i+=e.btoa(o),r(i)},t.decodePacket=function(e,n,r){if(void 0===e)return h;if("string"==typeof e){if("b"==e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r&&!1===(e=function(e){try{e=u.decode(e)}catch(e){return!1}return e}(e)))return h;var o=e.charAt(0);return Number(o)==o&&d[o]?e.length>1?{type:d[o],data:e.substring(1)}:{type:d[o]}:h}o=new Uint8Array(e)[0];var i=a(e,1);return v&&"blob"===n&&(i=new v([i])),{type:d[o],data:i}},t.decodeBase64Packet=function(e,t){var n=d[e.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:e.substr(1)}};var o=r.decode(e.substr(1));return"blob"===t&&v&&(o=new v([o])),{type:n,data:o}},t.encodePayload=function(e,n,r){"function"==typeof n&&(r=n,n=null);var o=i(e);if(n&&o)return v&&!f?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r);if(!e.length)return r("0:");m(e,function(e,r){t.encodePacket(e,!!o&&n,!0,function(e){r(null,function(e){return e.length+":"+e}(e))})},function(e,t){return r(t.join(""))})},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r);var o;if("function"==typeof n&&(r=n,n=null),""==e)return r(h,0,1);for(var i,a,s="",u=0,c=e.length;u<c;u++){var l=e.charAt(u);if(":"!=l)s+=l;else{if(""==s||s!=(i=Number(s)))return r(h,0,1);if(s!=(a=e.substr(u+1,i)).length)return r(h,0,1);if(a.length){if(o=t.decodePacket(a,n,!0),h.type==o.type&&h.data==o.data)return r(h,0,1);if(!1===r(o,u+i,c))return}u+=i,s=""}}return""!=s?r(h,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0));m(e,function(e,n){t.encodePacket(e,!0,!0,function(e){return n(null,e)})},function(e,t){var r=t.reduce(function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2},0),o=new Uint8Array(r),i=0;return t.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),a=0;a<e.length;a++)r[a]=e.charCodeAt(a);n=r.buffer}o[i++]=t?0:1;var s=n.byteLength.toString();for(a=0;a<s.length;a++)o[i++]=parseInt(s[a]);o[i++]=255;for(r=new Uint8Array(n),a=0;a<r.length;a++)o[i++]=r[a]}),n(o.buffer)})},t.encodePayloadAsBlob=function(e,n){m(e,function(e,n){t.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),o=0;o<e.length;o++)r[o]=e.charCodeAt(o);e=r.buffer,t[0]=0}var i=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),a=new Uint8Array(i.length+1);for(o=0;o<i.length;o++)a[o]=parseInt(i[o]);if(a[i.length]=255,v){var s=new v([t.buffer,a.buffer,e]);n(null,s)}})},function(e,t){return n(new v(t))})},t.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var o=e,i=[],s=!1;o.byteLength>0;){for(var u=new Uint8Array(o),c=0===u[0],l="",f=1;255!=u[f];f++){if(l.length>310){s=!0;break}l+=u[f]}if(s)return r(h,0,1);o=a(o,2+l.length),l=parseInt(l);var p=a(o,0,l);if(c)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(e){var d=new Uint8Array(p);p="";for(f=0;f<d.length;f++)p+=String.fromCharCode(d[f])}i.push(p),o=a(o,l)}var v=i.length;i.forEach(function(e,o){r(t.decodePacket(e,n,!0),o,v)})}}).call(this,n(12))},function(e,t,n){"use strict";e.exports=function(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var o=new Error(n);throw o.name="Invariant Violation",o.framesToPop=1,o}},function(e,t,n){"use strict";var r=n(36),o=n(54),i=n(86),a=n(87),s=(n(8),r.getListener);function u(e,t,n){var r=function(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return s(e,r)}(e,n,t);r&&(n._dispatchListeners=i(n._dispatchListeners,r),n._dispatchInstances=i(n._dispatchInstances,e))}function c(e){e&&e.dispatchConfig.phasedRegistrationNames&&o.traverseTwoPhase(e._targetInst,u,e)}function l(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?o.getParentInstance(t):null;o.traverseTwoPhase(n,u,e)}}function f(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,o=s(e,r);o&&(n._dispatchListeners=i(n._dispatchListeners,o),n._dispatchInstances=i(n._dispatchInstances,e))}}function p(e){e&&e.dispatchConfig.registrationName&&f(e._targetInst,0,e)}var d={accumulateTwoPhaseDispatches:function(e){a(e,c)},accumulateTwoPhaseDispatchesSkipTarget:function(e){a(e,l)},accumulateDirectDispatches:function(e){a(e,p)},accumulateEnterLeaveDispatches:function(e,t,n,r){o.traverseEnterLeave(n,r,f,e,t)}};e.exports=d},function(e,t,n){"use strict";var r=n(7),o=n(53),i=n(54),a=n(55),s=n(86),u=n(87),c=(n(4),{}),l=null,f=function(e,t){e&&(i.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},p=function(e){return f(e,!0)},d=function(e){return f(e,!1)},h=function(e){return"."+e._rootNodeID};var v={injection:{injectEventPluginOrder:o.injectEventPluginOrder,injectEventPluginsByName:o.injectEventPluginsByName},putListener:function(e,t,n){"function"!=typeof n&&r("94",t,typeof n);var i=h(e);(c[t]||(c[t]={}))[i]=n;var a=o.registrationNameModules[t];a&&a.didPutListener&&a.didPutListener(e,t,n)},getListener:function(e,t){var n=c[t];if(function(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!n.disabled||(r=t,"button"!==r&&"input"!==r&&"select"!==r&&"textarea"!==r));default:return!1}var r}(t,e._currentElement.type,e._currentElement.props))return null;var r=h(e);return n&&n[r]},deleteListener:function(e,t){var n=o.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var r=c[t];r&&delete r[h(e)]},deleteAllListeners:function(e){var t=h(e);for(var n in c)if(c.hasOwnProperty(n)&&c[n][t]){var r=o.registrationNameModules[n];r&&r.willDeleteListener&&r.willDeleteListener(e,n),delete c[n][t]}},extractEvents:function(e,t,n,r){for(var i,a=o.plugins,u=0;u<a.length;u++){var c=a[u];if(c){var l=c.extractEvents(e,t,n,r);l&&(i=s(i,l))}}return i},enqueueEvents:function(e){e&&(l=s(l,e))},processEventQueue:function(e){var t=l;l=null,u(t,e?p:d),l&&r("95"),a.rethrowCaughtError()},__purge:function(){c={}},__getListenerBank:function(){return c}};e.exports=v},function(e,t,n){"use strict";var r=n(22),o=n(56),i={view:function(e){if(e.view)return e.view;var t=o(e);if(t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};function a(e,t,n,o){return r.call(this,e,t,n,o)}r.augmentClass(a,i),e.exports=a},function(e,t,n){"use strict";var r={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};e.exports=r},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=s(p);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=n(26).EventEmitter,d=n(11),h=n(23),v=n(114),m=n(6)("JsSIP:NonInviteClientTransaction"),g=n(6)("JsSIP:InviteClientTransaction"),y=n(6)("JsSIP:AckClientTransaction"),_=n(6)("JsSIP:NonInviteServerTransaction"),b=n(6)("JsSIP:InviteServerTransaction"),C={STATUS_TRYING:1,STATUS_PROCEEDING:2,STATUS_CALLING:3,STATUS_ACCEPTED:4,STATUS_COMPLETED:5,STATUS_TERMINATED:6,STATUS_CONFIRMED:7,NON_INVITE_CLIENT:"nict",NON_INVITE_SERVER:"nist",INVITE_CLIENT:"ict",INVITE_SERVER:"ist"},A=function(e){function t(e,n,r,i){var a;o(this,t),(a=s(this,u(t).call(this))).type=C.NON_INVITE_CLIENT,a.id="z9hG4bK".concat(Math.floor(1e7*Math.random())),a.ua=e,a.transport=n,a.request=r,a.eventHandlers=i;var l="SIP/2.0/".concat(n.via_transport);return l+=" ".concat(e.configuration.via_host,";branch=").concat(a.id),a.request.setHeader("via",l),a.ua.newTransaction(c(a)),a}return l(t,p),a(t,[{key:"stateChanged",value:function(e){this.state=e,this.emit("stateChanged")}},{key:"send",value:function(){var e=this;this.stateChanged(C.STATUS_TRYING),this.F=setTimeout(function(){e.timer_F()},v.TIMER_F),this.transport.send(this.request)||this.onTransportError()}},{key:"onTransportError",value:function(){m("transport error occurred, deleting transaction ".concat(this.id)),clearTimeout(this.F),clearTimeout(this.K),this.stateChanged(C.STATUS_TERMINATED),this.ua.destroyTransaction(this),this.eventHandlers.onTransportError()}},{key:"timer_F",value:function(){m("Timer F expired for transaction ".concat(this.id)),this.stateChanged(C.STATUS_TERMINATED),this.ua.destroyTransaction(this),this.eventHandlers.onRequestTimeout()}},{key:"timer_K",value:function(){this.stateChanged(C.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"receiveResponse",value:function(e){var t=this,n=e.status_code;if(n<200)switch(this.state){case C.STATUS_TRYING:case C.STATUS_PROCEEDING:this.stateChanged(C.STATUS_PROCEEDING),this.eventHandlers.onReceiveResponse(e)}else switch(this.state){case C.STATUS_TRYING:case C.STATUS_PROCEEDING:this.stateChanged(C.STATUS_COMPLETED),clearTimeout(this.F),408===n?this.eventHandlers.onRequestTimeout():this.eventHandlers.onReceiveResponse(e),this.K=setTimeout(function(){t.timer_K()},v.TIMER_K);break;case C.STATUS_COMPLETED:}}},{key:"C",get:function(){return C}}]),t}(),E=function(e){function t(e,n,r,i){var a;o(this,t),(a=s(this,u(t).call(this))).type=C.INVITE_CLIENT,a.id="z9hG4bK".concat(Math.floor(1e7*Math.random())),a.ua=e,a.transport=n,a.request=r,a.eventHandlers=i,r.transaction=c(a);var l="SIP/2.0/".concat(n.via_transport);return l+=" ".concat(e.configuration.via_host,";branch=").concat(a.id),a.request.setHeader("via",l),a.ua.newTransaction(c(a)),a}return l(t,p),a(t,[{key:"stateChanged",value:function(e){this.state=e,this.emit("stateChanged")}},{key:"send",value:function(){var e=this;this.stateChanged(C.STATUS_CALLING),this.B=setTimeout(function(){e.timer_B()},v.TIMER_B),this.transport.send(this.request)||this.onTransportError()}},{key:"onTransportError",value:function(){clearTimeout(this.B),clearTimeout(this.D),clearTimeout(this.M),this.state!==C.STATUS_ACCEPTED&&(g("transport error occurred, deleting transaction ".concat(this.id)),this.eventHandlers.onTransportError()),this.stateChanged(C.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"timer_M",value:function(){g("Timer M expired for transaction ".concat(this.id)),this.state===C.STATUS_ACCEPTED&&(clearTimeout(this.B),this.stateChanged(C.STATUS_TERMINATED),this.ua.destroyTransaction(this))}},{key:"timer_B",value:function(){g("Timer B expired for transaction ".concat(this.id)),this.state===C.STATUS_CALLING&&(this.stateChanged(C.STATUS_TERMINATED),this.ua.destroyTransaction(this),this.eventHandlers.onRequestTimeout())}},{key:"timer_D",value:function(){g("Timer D expired for transaction ".concat(this.id)),clearTimeout(this.B),this.stateChanged(C.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"sendACK",value:function(e){var t=this,n=new h.OutgoingRequest(d.ACK,this.request.ruri,this.ua,{route_set:this.request.getHeaders("route"),call_id:this.request.getHeader("call-id"),cseq:this.request.cseq});n.setHeader("from",this.request.getHeader("from")),n.setHeader("via",this.request.getHeader("via")),n.setHeader("to",e.getHeader("to")),this.D=setTimeout(function(){t.timer_D()},v.TIMER_D),this.transport.send(n)}},{key:"cancel",value:function(e){if(this.state===C.STATUS_PROCEEDING){var t=new h.OutgoingRequest(d.CANCEL,this.request.ruri,this.ua,{route_set:this.request.getHeaders("route"),call_id:this.request.getHeader("call-id"),cseq:this.request.cseq});t.setHeader("from",this.request.getHeader("from")),t.setHeader("via",this.request.getHeader("via")),t.setHeader("to",this.request.getHeader("to")),e&&t.setHeader("reason",e),this.transport.send(t)}}},{key:"receiveResponse",value:function(e){var t=this,n=e.status_code;if(n>=100&&n<=199)switch(this.state){case C.STATUS_CALLING:this.stateChanged(C.STATUS_PROCEEDING),this.eventHandlers.onReceiveResponse(e);break;case C.STATUS_PROCEEDING:this.eventHandlers.onReceiveResponse(e)}else if(n>=200&&n<=299)switch(this.state){case C.STATUS_CALLING:case C.STATUS_PROCEEDING:this.stateChanged(C.STATUS_ACCEPTED),this.M=setTimeout(function(){t.timer_M()},v.TIMER_M),this.eventHandlers.onReceiveResponse(e);break;case C.STATUS_ACCEPTED:this.eventHandlers.onReceiveResponse(e)}else if(n>=300&&n<=699)switch(this.state){case C.STATUS_CALLING:case C.STATUS_PROCEEDING:this.stateChanged(C.STATUS_COMPLETED),this.sendACK(e),this.eventHandlers.onReceiveResponse(e);break;case C.STATUS_COMPLETED:this.sendACK(e)}}},{key:"C",get:function(){return C}}]),t}(),S=function(e){function t(e,n,r,i){var a;o(this,t),(a=s(this,u(t).call(this))).id="z9hG4bK".concat(Math.floor(1e7*Math.random())),a.transport=n,a.request=r,a.eventHandlers=i;var c="SIP/2.0/".concat(n.via_transport);return c+=" ".concat(e.configuration.via_host,";branch=").concat(a.id),a.request.setHeader("via",c),a}return l(t,p),a(t,[{key:"send",value:function(){this.transport.send(this.request)||this.onTransportError()}},{key:"onTransportError",value:function(){y("transport error occurred for transaction ".concat(this.id)),this.eventHandlers.onTransportError()}},{key:"C",get:function(){return C}}]),t}(),T=function(e){function t(e,n,r){var i;return o(this,t),(i=s(this,u(t).call(this))).type=C.NON_INVITE_SERVER,i.id=r.via_branch,i.ua=e,i.transport=n,i.request=r,i.last_response="",r.server_transaction=c(i),i.state=C.STATUS_TRYING,e.newTransaction(c(i)),i}return l(t,p),a(t,[{key:"stateChanged",value:function(e){this.state=e,this.emit("stateChanged")}},{key:"timer_J",value:function(){_("Timer J expired for transaction ".concat(this.id)),this.stateChanged(C.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"onTransportError",value:function(){this.transportError||(this.transportError=!0,_("transport error occurred, deleting transaction ".concat(this.id)),clearTimeout(this.J),this.stateChanged(C.STATUS_TERMINATED),this.ua.destroyTransaction(this))}},{key:"receiveResponse",value:function(e,t,n,r){var o=this;if(100===e)switch(this.state){case C.STATUS_TRYING:this.stateChanged(C.STATUS_PROCEEDING),this.transport.send(t)||this.onTransportError();break;case C.STATUS_PROCEEDING:this.last_response=t,this.transport.send(t)?n&&n():(this.onTransportError(),r&&r())}else if(e>=200&&e<=699)switch(this.state){case C.STATUS_TRYING:case C.STATUS_PROCEEDING:this.stateChanged(C.STATUS_COMPLETED),this.last_response=t,this.J=setTimeout(function(){o.timer_J()},v.TIMER_J),this.transport.send(t)?n&&n():(this.onTransportError(),r&&r());break;case C.STATUS_COMPLETED:}}},{key:"C",get:function(){return C}}]),t}(),w=function(e){function t(e,n,r){var i;return o(this,t),(i=s(this,u(t).call(this))).type=C.INVITE_SERVER,i.id=r.via_branch,i.ua=e,i.transport=n,i.request=r,i.last_response="",r.server_transaction=c(i),i.state=C.STATUS_PROCEEDING,e.newTransaction(c(i)),i.resendProvisionalTimer=null,r.reply(100),i}return l(t,p),a(t,[{key:"stateChanged",value:function(e){this.state=e,this.emit("stateChanged")}},{key:"timer_H",value:function(){b("Timer H expired for transaction ".concat(this.id)),this.state===C.STATUS_COMPLETED&&b("ACK not received, dialog will be terminated"),this.stateChanged(C.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"timer_I",value:function(){this.stateChanged(C.STATUS_TERMINATED)}},{key:"timer_L",value:function(){b("Timer L expired for transaction ".concat(this.id)),this.state===C.STATUS_ACCEPTED&&(this.stateChanged(C.STATUS_TERMINATED),this.ua.destroyTransaction(this))}},{key:"onTransportError",value:function(){this.transportError||(this.transportError=!0,b("transport error occurred, deleting transaction ".concat(this.id)),null!==this.resendProvisionalTimer&&(clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null),clearTimeout(this.L),clearTimeout(this.H),clearTimeout(this.I),this.stateChanged(C.STATUS_TERMINATED),this.ua.destroyTransaction(this))}},{key:"resend_provisional",value:function(){this.transport.send(this.last_response)||this.onTransportError()}},{key:"receiveResponse",value:function(e,t,n,r){var o=this;if(e>=100&&e<=199)switch(this.state){case C.STATUS_PROCEEDING:this.transport.send(t)||this.onTransportError(),this.last_response=t}if(e>100&&e<=199&&this.state===C.STATUS_PROCEEDING)null===this.resendProvisionalTimer&&(this.resendProvisionalTimer=setInterval(function(){o.resend_provisional()},v.PROVISIONAL_RESPONSE_INTERVAL));else if(e>=200&&e<=299)switch(this.state){case C.STATUS_PROCEEDING:this.stateChanged(C.STATUS_ACCEPTED),this.last_response=t,this.L=setTimeout(function(){o.timer_L()},v.TIMER_L),null!==this.resendProvisionalTimer&&(clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null);case C.STATUS_ACCEPTED:this.transport.send(t)?n&&n():(this.onTransportError(),r&&r())}else if(e>=300&&e<=699)switch(this.state){case C.STATUS_PROCEEDING:null!==this.resendProvisionalTimer&&(clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null),this.transport.send(t)?(this.stateChanged(C.STATUS_COMPLETED),this.H=setTimeout(function(){o.timer_H()},v.TIMER_H),n&&n()):(this.onTransportError(),r&&r())}}},{key:"C",get:function(){return C}}]),t}();e.exports={C:C,NonInviteClientTransaction:A,InviteClientTransaction:E,AckClientTransaction:S,NonInviteServerTransaction:T,InviteServerTransaction:w,checkTransaction:function(e,t){var n,r=e._transactions;switch(t.method){case d.INVITE:if(n=r.ist[t.via_branch]){switch(n.state){case C.STATUS_PROCEEDING:n.transport.send(n.last_response);break;case C.STATUS_ACCEPTED:}return!0}break;case d.ACK:if(!(n=r.ist[t.via_branch]))return!1;if(n.state===C.STATUS_ACCEPTED)return!1;if(n.state===C.STATUS_COMPLETED)return n.state=C.STATUS_CONFIRMED,n.I=setTimeout(function(){n.timer_I()},v.TIMER_I),!0;break;case d.CANCEL:return(n=r.ist[t.via_branch])?(t.reply_sl(200),n.state!==C.STATUS_PROCEEDING):(t.reply_sl(481),!0);default:if(n=r.nist[t.via_branch]){switch(n.state){case C.STATUS_TRYING:break;case C.STATUS_PROCEEDING:case C.STATUS_COMPLETED:n.transport.send(n.last_response)}return!0}}}}},function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";var r=n(7),o=(n(4),{}),i={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,o,i,a,s,u){var c,l;this.isInTransaction()&&r("27");try{this._isInTransaction=!0,c=!0,this.initializeAll(0),l=e.call(t,n,o,i,a,s,u),c=!1}finally{try{if(c)try{this.closeAll(0)}catch(e){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return l},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=o,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===o)try{this.initializeAll(n+1)}catch(e){}}}},closeAll:function(e){this.isInTransaction()||r("28");for(var t=this.transactionWrappers,n=e;n<t.length;n++){var i,a=t[n],s=this.wrapperInitData[n];try{i=!0,s!==o&&a.close&&a.close.call(this,s),i=!1}finally{if(i)try{this.closeAll(n+1)}catch(e){}}}this.wrapperInitData.length=0}};e.exports=i},function(e,t,n){"use strict";var r=n(37),o=n(93),i={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:n(58),button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+o.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+o.currentScrollTop}};function a(e,t,n,o){return r.call(this,e,t,n,o)}r.augmentClass(a,i),e.exports=a},function(e,t,n){"use strict";var r,o=n(14),i=n(60),a=/^[ \r\n\t\f]/,s=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,u=n(61)(function(e,t){if(e.namespaceURI!==i.svg||"innerHTML"in e)e.innerHTML=t;else{(r=r||document.createElement("div")).innerHTML="<svg>"+t+"</svg>";for(var n=r.firstChild;n.firstChild;)e.appendChild(n.firstChild)}});if(o.canUseDOM){var c=document.createElement("div");c.innerHTML=" ",""===c.innerHTML&&(u=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),a.test(t)||"<"===t[0]&&s.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t}),c=null}e.exports=u},function(e,t,n){"use strict";var r=/["'&<>]/;e.exports=function(e){return"boolean"==typeof e||"number"==typeof e?""+e:function(e){var t,n=""+e,o=r.exec(n);if(!o)return n;var i="",a=0,s=0;for(a=o.index;a<n.length;a++){switch(n.charCodeAt(a)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}s!==a&&(i+=n.substring(s,a)),s=a+1,i+=t}return s!==a?i+n.substring(s,a):i}(e)}},function(e,t,n){"use strict";var r,o=n(9),i=n(53),a=n(187),s=n(93),u=n(188),c=n(57),l={},f=!1,p=0,d={topAbort:"abort",topAnimationEnd:u("animationend")||"animationend",topAnimationIteration:u("animationiteration")||"animationiteration",topAnimationStart:u("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:u("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},h="_reactListenersID"+String(Math.random()).slice(2);var v=o({},a,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(v.handleTopLevel),v.ReactEventListener=e}},setEnabled:function(e){v.ReactEventListener&&v.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!v.ReactEventListener||!v.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,r=function(e){return Object.prototype.hasOwnProperty.call(e,h)||(e[h]=p++,l[e[h]]={}),l[e[h]]}(n),o=i.registrationNameDependencies[e],a=0;a<o.length;a++){var s=o[a];r.hasOwnProperty(s)&&r[s]||("topWheel"===s?c("wheel")?v.ReactEventListener.trapBubbledEvent("topWheel","wheel",n):c("mousewheel")?v.ReactEventListener.trapBubbledEvent("topWheel","mousewheel",n):v.ReactEventListener.trapBubbledEvent("topWheel","DOMMouseScroll",n):"topScroll"===s?c("scroll",!0)?v.ReactEventListener.trapCapturedEvent("topScroll","scroll",n):v.ReactEventListener.trapBubbledEvent("topScroll","scroll",v.ReactEventListener.WINDOW_HANDLE):"topFocus"===s||"topBlur"===s?(c("focus",!0)?(v.ReactEventListener.trapCapturedEvent("topFocus","focus",n),v.ReactEventListener.trapCapturedEvent("topBlur","blur",n)):c("focusin")&&(v.ReactEventListener.trapBubbledEvent("topFocus","focusin",n),v.ReactEventListener.trapBubbledEvent("topBlur","focusout",n)),r.topBlur=!0,r.topFocus=!0):d.hasOwnProperty(s)&&v.ReactEventListener.trapBubbledEvent(s,d[s],n),r[s]=!0)}},trapBubbledEvent:function(e,t,n){return v.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return v.ReactEventListener.trapCapturedEvent(e,t,n)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var e=document.createEvent("MouseEvent");return null!=e&&"pageX"in e},ensureScrollValueMonitoring:function(){if(void 0===r&&(r=v.supportsEventPageXY()),!r&&!f){var e=s.refreshScrollValues;v.ReactEventListener.monitorScrollValue(e),f=!0}}});e.exports=v},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(11),i=n(246),a=n(40),s=n(6)("JsSIP:RequestSender"),u={onRequestTimeout:function(){},onTransportError:function(){},onReceiveResponse:function(){},onAuthenticated:function(){}};e.exports=function(){function e(t,n,r){for(var i in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._ua=t,this._eventHandlers=r,this._method=n.method,this._request=n,this._auth=null,this._challenged=!1,this._staled=!1,u)Object.prototype.hasOwnProperty.call(u,i)&&(this._eventHandlers[i]||(this._eventHandlers[i]=u[i]));t.status!==t.C.STATUS_USER_CLOSED||this._method===o.BYE&&this._method===o.ACK||this._eventHandlers.onTransportError()}var t,n,c;return t=e,(n=[{key:"send",value:function(){var e=this,t={onRequestTimeout:function(){e._eventHandlers.onRequestTimeout()},onTransportError:function(){e._eventHandlers.onTransportError()},onReceiveResponse:function(t){e._receiveResponse(t)}};switch(this._method){case"INVITE":this.clientTransaction=new a.InviteClientTransaction(this._ua,this._ua.transport,this._request,t);break;case"ACK":this.clientTransaction=new a.AckClientTransaction(this._ua,this._ua.transport,this._request,t);break;default:this.clientTransaction=new a.NonInviteClientTransaction(this._ua,this._ua.transport,this._request,t)}this.clientTransaction.send()}},{key:"_receiveResponse",value:function(e){var t,n,r=e.status_code;if(401!==r&&407!==r||null===this._ua.configuration.password&&null===this._ua.configuration.ha1)this._eventHandlers.onReceiveResponse(e);else{if(401===e.status_code?(t=e.parseHeader("www-authenticate"),n="authorization"):(t=e.parseHeader("proxy-authenticate"),n="proxy-authorization"),!t)return s("".concat(e.status_code," with wrong or missing challenge, cannot authenticate")),void this._eventHandlers.onReceiveResponse(e);if(!this._challenged||!this._staled&&!0===t.stale){if(this._auth||(this._auth=new i({username:this._ua.configuration.authorization_user,password:this._ua.configuration.password,realm:this._ua.configuration.realm,ha1:this._ua.configuration.ha1})),!this._auth.authenticate(this._request,t))return void this._eventHandlers.onReceiveResponse(e);this._challenged=!0,this._ua.set("realm",this._auth.get("realm")),this._ua.set("ha1",this._auth.get("ha1")),t.stale&&(this._staled=!0),this._request=this._request.clone(),this._request.cseq+=1,this._request.setHeader("cseq","".concat(this._request.cseq," ").concat(this._method)),this._request.setHeader(n,this._auth.toString()),this._eventHandlers.onAuthenticated(this._request),this.send()}else this._eventHandlers.onReceiveResponse(e)}}}])&&r(t.prototype,n),c&&r(t,c),e}()},function(e,t,n){(function(r){function o(){try{return t.storage.debug}catch(e){}if(void 0!==r&&"env"in r)return Object({NODE_ENV:"production"}).DEBUG}(t=e.exports=n(264)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(){var e=arguments,n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r),e},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=o,t.useColors=function(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(o())}).call(this,n(39))},function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){(function(r){function o(){try{return t.storage.debug}catch(e){}if(void 0!==r&&"env"in r)return Object({NODE_ENV:"production"}).DEBUG}(t=e.exports=n(286)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(){var e=arguments,n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r),e},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=o,t.useColors=function(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(o())}).call(this,n(39))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r=n(7),o=(n(4),null),i={};function a(){if(o)for(var e in i){var t=i[e],n=o.indexOf(e);if(n>-1||r("96",e),!c.plugins[n]){t.extractEvents||r("97",e),c.plugins[n]=t;var a=t.eventTypes;for(var u in a)s(a[u],t,u)||r("98",u,e)}}}function s(e,t,n){c.eventNameDispatchConfigs.hasOwnProperty(n)&&r("99",n),c.eventNameDispatchConfigs[n]=e;var o=e.phasedRegistrationNames;if(o){for(var i in o){if(o.hasOwnProperty(i))u(o[i],t,n)}return!0}return!!e.registrationName&&(u(e.registrationName,t,n),!0)}function u(e,t,n){c.registrationNameModules[e]&&r("100",e),c.registrationNameModules[e]=t,c.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var c={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){o&&r("101"),o=Array.prototype.slice.call(e),a()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];i.hasOwnProperty(n)&&i[n]===o||(i[n]&&r("102",n),i[n]=o,t=!0)}t&&a()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return c.registrationNameModules[t.registrationName]||null;if(void 0!==t.phasedRegistrationNames){var n=t.phasedRegistrationNames;for(var r in n)if(n.hasOwnProperty(r)){var o=c.registrationNameModules[n[r]];if(o)return o}}return null},_resetEventPlugins:function(){for(var e in o=null,i)i.hasOwnProperty(e)&&delete i[e];c.plugins.length=0;var t=c.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=c.registrationNameModules;for(var a in r)r.hasOwnProperty(a)&&delete r[a]}};e.exports=c},function(e,t,n){"use strict";var r,o,i=n(7),a=n(55);n(4),n(8);function s(e,t,n,r){var o=e.type||"unknown-event";e.currentTarget=u.getNodeFromInstance(r),t?a.invokeGuardedCallbackWithCatch(o,n,e):a.invokeGuardedCallback(o,n,e),e.currentTarget=null}var u={isEndish:function(e){return"topMouseUp"===e||"topTouchEnd"===e||"topTouchCancel"===e},isMoveish:function(e){return"topMouseMove"===e||"topTouchMove"===e},isStartish:function(e){return"topMouseDown"===e||"topTouchStart"===e},executeDirectDispatch:function(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)&&i("103"),e.currentTarget=t?u.getNodeFromInstance(n):null;var r=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,r},executeDispatchesInOrder:function(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var o=0;o<n.length&&!e.isPropagationStopped();o++)s(e,t,n[o],r[o]);else n&&s(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null},executeDispatchesInOrderStopAtTrue:function(e){var t=function(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}(e);return e._dispatchInstances=null,e._dispatchListeners=null,t},hasDispatches:function(e){return!!e._dispatchListeners},getInstanceFromNode:function(e){return r.getInstanceFromNode(e)},getNodeFromInstance:function(e){return r.getNodeFromInstance(e)},isAncestor:function(e,t){return o.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return o.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return o.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return o.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,r,i){return o.traverseEnterLeave(e,t,n,r,i)},injection:{injectComponentTree:function(e){r=e},injectTreeTraversal:function(e){o=e}}};e.exports=u},function(e,t,n){"use strict";var r=null;function o(e,t,n){try{t(n)}catch(e){null===r&&(r=e)}}var i={invokeGuardedCallback:o,invokeGuardedCallbackWithCatch:o,rethrowCaughtError:function(){if(r){var e=r;throw r=null,e}}};e.exports=i},function(e,t,n){"use strict";e.exports=function(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}},function(e,t,n){"use strict";var r,o=n(14);o.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""))
/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */,e.exports=function(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,i=n in document;if(!i){var a=document.createElement("div");a.setAttribute(n,"return;"),i="function"==typeof a[n]}return!i&&r&&"wheel"===e&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}},function(e,t,n){"use strict";var r={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o(e){var t=this.nativeEvent;if(t.getModifierState)return t.getModifierState(e);var n=r[e];return!!n&&!!t[n]}e.exports=function(e){return o}},function(e,t,n){"use strict";var r=n(31),o=n(172),i=(n(10),n(15),n(61)),a=n(45),s=n(94);function u(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}var c=i(function(e,t,n){e.insertBefore(t,n)});function l(e,t,n){r.insertTreeBefore(e,t,n)}function f(e,t,n){Array.isArray(t)?function(e,t,n,r){var o=t;for(;;){var i=o.nextSibling;if(c(e,o,r),o===n)break;o=i}}(e,t[0],t[1],n):c(e,t,n)}function p(e,t){if(Array.isArray(t)){var n=t[1];d(e,t=t[0],n),e.removeChild(n)}e.removeChild(t)}function d(e,t,n){for(;;){var r=t.nextSibling;if(r===n)break;e.removeChild(r)}}var h={dangerouslyReplaceNodeWithMarkup:o.dangerouslyReplaceNodeWithMarkup,replaceDelimitedText:function(e,t,n){var r=e.parentNode,o=e.nextSibling;o===t?n&&c(r,document.createTextNode(n),o):n?(s(o,n),d(r,o,t)):d(r,e,t)},processUpdates:function(e,t){for(var n=0;n<t.length;n++){var r=t[n];switch(r.type){case"INSERT_MARKUP":l(e,r.content,u(e,r.afterNode));break;case"MOVE_EXISTING":f(e,r.fromNode,u(e,r.afterNode));break;case"SET_MARKUP":a(e,r.content);break;case"TEXT_CONTENT":s(e,r.content);break;case"REMOVE_NODE":p(e,r.fromNode)}}}};e.exports=h},function(e,t,n){"use strict";e.exports={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"}},function(e,t,n){"use strict";e.exports=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}},function(e,t,n){"use strict";var r=n(7),o=n(190),i=n(84)(n(27).isValidElement),a=(n(4),n(8),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0});function s(e){null!=e.checkedLink&&null!=e.valueLink&&r("87")}function u(e){s(e),(null!=e.value||null!=e.onChange)&&r("88")}function c(e){s(e),(null!=e.checked||null!=e.onChange)&&r("89")}var l={value:function(e,t,n){return!e[t]||a[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:i.func},f={};function p(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var d={checkPropTypes:function(e,t,n){for(var r in l){if(l.hasOwnProperty(r))var i=l[r](t,r,e,"prop",null,o);if(i instanceof Error&&!(i.message in f)){f[i.message]=!0;p(n)}}},getValue:function(e){return e.valueLink?(u(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(c(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(u(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(c(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};e.exports=d},function(e,t,n){"use strict";var r=n(7),o=(n(4),!1),i={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){o&&r("104"),i.replaceNodeWithMarkup=e.replaceNodeWithMarkup,i.processChildrenUpdates=e.processChildrenUpdates,o=!0}}};e.exports=i},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function o(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}e.exports=function(e,t){if(o(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!r.call(t,n[a])||!o(e[n[a]],t[n[a]]))return!1;return!0}},function(e,t,n){"use strict";e.exports=function(e,t){var n=null===e||!1===e,r=null===t||!1===t;if(n||r)return n===r;var o=typeof e,i=typeof t;return"string"===o||"number"===o?"string"===i||"number"===i:"object"===i&&e.type===t.type&&e.key===t.key}},function(e,t,n){"use strict";var r={escape:function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})},unescape:function(e){var t={"=0":"=","=2":":"};return(""+("."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1))).replace(/(=0|=2)/g,function(e){return t[e]})}};e.exports=r},function(e,t,n){"use strict";var r=n(7),o=(n(21),n(38)),i=(n(15),n(18));n(4),n(8);function a(e){i.enqueueUpdate(e)}function s(e,t){var n=o.get(e);return n||null}var u={isMounted:function(e){var t=o.get(e);return!!t&&!!t._renderedComponent},enqueueCallback:function(e,t,n){u.validateCallback(t,n);var r=s(e);if(!r)return null;r._pendingCallbacks?r._pendingCallbacks.push(t):r._pendingCallbacks=[t],a(r)},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],a(e)},enqueueForceUpdate:function(e){var t=s(e);t&&(t._pendingForceUpdate=!0,a(t))},enqueueReplaceState:function(e,t,n){var r=s(e);r&&(r._pendingStateQueue=[t],r._pendingReplaceState=!0,null!=n&&(u.validateCallback(n,"replaceState"),r._pendingCallbacks?r._pendingCallbacks.push(n):r._pendingCallbacks=[n]),a(r))},enqueueSetState:function(e,t){var n=s(e);n&&((n._pendingStateQueue||(n._pendingStateQueue=[])).push(t),a(n))},enqueueElementInternal:function(e,t,n){e._pendingElement=t,e._context=n,a(e)},validateCallback:function(e,t){e&&"function"!=typeof e&&r("122",t,function(e){var t=typeof e;if("object"!==t)return t;var n=e.constructor&&e.constructor.name||t,r=Object.keys(e);return r.length>0&&r.length<20?n+" (keys: "+r.join(", ")+")":n}(e))}};e.exports=u},function(e,t,n){"use strict";n(9);var r=n(17),o=(n(8),r);e.exports=o},function(e,t,n){"use strict";e.exports=function(e){var t,n=e.keyCode;return"charCode"in e?0===(t=e.charCode)&&13===n&&(t=13):t=n,t>=32||13===t?t:0}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}var i=n(32),a=n(16);e.exports=function(){function e(t,n,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!(t&&t instanceof i))throw new TypeError('missing or invalid "uri" parameter');for(var o in this._uri=t,this._parameters={},this._display_name=n,r)Object.prototype.hasOwnProperty.call(r,o)&&this.setParam(o,r[o])}return o(e,null,[{key:"parse",value:function(e){return-1!==(e=a.parse(e,"Name_Addr_Header"))?e:void 0}}]),o(e,[{key:"setParam",value:function(e,t){e&&(this._parameters[e.toLowerCase()]=null==t?null:t.toString())}},{key:"getParam",value:function(e){if(e)return this._parameters[e.toLowerCase()]}},{key:"hasParam",value:function(e){if(e)return!!this._parameters.hasOwnProperty(e.toLowerCase())}},{key:"deleteParam",value:function(e){if(e=e.toLowerCase(),this._parameters.hasOwnProperty(e)){var t=this._parameters[e];return delete this._parameters[e],t}}},{key:"clearParams",value:function(){this._parameters={}}},{key:"clone",value:function(){return new e(this._uri.clone(),this._display_name,JSON.parse(JSON.stringify(this._parameters)))}},{key:"toString",value:function(){var e=this._display_name||0===this._display_name?'"'.concat(this._display_name,'" '):"";for(var t in e+="<".concat(this._uri.toString(),">"),this._parameters)Object.prototype.hasOwnProperty.call(this._parameters,t)&&(e+=";".concat(t),null!==this._parameters[t]&&(e+="=".concat(this._parameters[t])));return e}},{key:"uri",get:function(){return this._uri}},{key:"display_name",get:function(){return this._display_name},set:function(e){this._display_name=0===e?"0":e}}]),e}()},function(e,t,n){var r=n(266)("socket.io-parser"),o=n(269),i=n(271),a=n(272),s=n(118);function u(){}function c(e){var n="",i=!1;return n+=e.type,t.BINARY_EVENT!=e.type&&t.BINARY_ACK!=e.type||(n+=e.attachments,n+="-"),e.nsp&&"/"!=e.nsp&&(i=!0,n+=e.nsp),null!=e.id&&(i&&(n+=",",i=!1),n+=e.id),null!=e.data&&(i&&(n+=","),n+=o.stringify(e.data)),r("encoded %j as %s",e,n),n}function l(){this.reconstructor=null}function f(e){this.reconPack=e,this.buffers=[]}function p(e){return{type:t.ERROR,data:"parser error"}}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=u,t.Decoder=l,u.prototype.encode=function(e,n){(r("encoding packet %j",e),t.BINARY_EVENT==e.type||t.BINARY_ACK==e.type)?function(e,t){a.removeBlobs(e,function(e){var n=a.deconstructPacket(e),r=c(n.packet),o=n.buffers;o.unshift(r),t(o)})}(e,n):n([c(e)])},i(l.prototype),l.prototype.add=function(e){var n;if("string"==typeof e)n=function(e){var n={},i=0;if(n.type=Number(e.charAt(0)),null==t.types[n.type])return p();if(t.BINARY_EVENT==n.type||t.BINARY_ACK==n.type){for(var a="";"-"!=e.charAt(++i)&&(a+=e.charAt(i),i!=e.length););if(a!=Number(a)||"-"!=e.charAt(i))throw new Error("Illegal attachments");n.attachments=Number(a)}if("/"==e.charAt(i+1))for(n.nsp="";++i;){var s=e.charAt(i);if(","==s)break;if(n.nsp+=s,i==e.length)break}else n.nsp="/";var u=e.charAt(i+1);if(""!==u&&Number(u)==u){for(n.id="";++i;){var s=e.charAt(i);if(null==s||Number(s)!=s){--i;break}if(n.id+=e.charAt(i),i==e.length)break}n.id=Number(n.id)}e.charAt(++i)&&(n=function(e,t){try{e.data=o.parse(t)}catch(e){return p()}return e}(n,e.substr(i)));return r("decoded %s as %j",e,n),n}(e),t.BINARY_EVENT==n.type||t.BINARY_ACK==n.type?(this.reconstructor=new f(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!s(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},l.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},f.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=a.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},f.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,n){(function(t){var r=n(277);e.exports=function(e){var n=e.xdomain,o=e.xscheme,i=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!n||r))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!o&&i)return new XDomainRequest}catch(e){}if(!n)try{return new(t[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}}).call(this,n(12))},function(e,t,n){var r=n(33),o=n(41);function i(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=i,o(i.prototype),i.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},i.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},i.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},i.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},i.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},i.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},i.prototype.onPacket=function(e){this.emit("packet",e)},i.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,o=n.length;r<o;r++){var i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}},function(e,t,n){"use strict";e.exports=n(158)},function(e,t,n){var r;e.exports=(r=n(19),n(235),n(236),n(110),n(239),function(){var e=r,t=e.lib.BlockCipher,n=e.algo,o=[],i=[],a=[],s=[],u=[],c=[],l=[],f=[],p=[],d=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,r=0;for(t=0;t<256;t++){var h=r^r<<1^r<<2^r<<3^r<<4;h=h>>>8^255&h^99,o[n]=h,i[h]=n;var v=e[n],m=e[v],g=e[m],y=257*e[h]^16843008*h;a[n]=y<<24|y>>>8,s[n]=y<<16|y>>>16,u[n]=y<<8|y>>>24,c[n]=y,y=16843009*g^65537*m^257*v^16843008*n,l[h]=y<<24|y>>>8,f[h]=y<<16|y>>>16,p[h]=y<<8|y>>>24,d[h]=y,n?(n=v^e[e[e[g^v]]],r^=e[e[r]]):n=r=1}}();var h=[0,1,2,4,8,16,32,64,128,27,54],v=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=4*((this._nRounds=n+6)+1),i=this._keySchedule=[],a=0;a<r;a++)if(a<n)i[a]=t[a];else{var s=i[a-1];a%n?n>6&&a%n==4&&(s=o[s>>>24]<<24|o[s>>>16&255]<<16|o[s>>>8&255]<<8|o[255&s]):(s=o[(s=s<<8|s>>>24)>>>24]<<24|o[s>>>16&255]<<16|o[s>>>8&255]<<8|o[255&s],s^=h[a/n|0]<<24),i[a]=i[a-n]^s}for(var u=this._invKeySchedule=[],c=0;c<r;c++)a=r-c,s=c%4?i[a]:i[a-4],u[c]=c<4||a<=4?s:l[o[s>>>24]]^f[o[s>>>16&255]]^p[o[s>>>8&255]]^d[o[255&s]]}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,u,c,o)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,l,f,p,d,i),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,o,i,a,s){for(var u=this._nRounds,c=e[t]^n[0],l=e[t+1]^n[1],f=e[t+2]^n[2],p=e[t+3]^n[3],d=4,h=1;h<u;h++){var v=r[c>>>24]^o[l>>>16&255]^i[f>>>8&255]^a[255&p]^n[d++],m=r[l>>>24]^o[f>>>16&255]^i[p>>>8&255]^a[255&c]^n[d++],g=r[f>>>24]^o[p>>>16&255]^i[c>>>8&255]^a[255&l]^n[d++],y=r[p>>>24]^o[c>>>16&255]^i[l>>>8&255]^a[255&f]^n[d++];c=v,l=m,f=g,p=y}v=(s[c>>>24]<<24|s[l>>>16&255]<<16|s[f>>>8&255]<<8|s[255&p])^n[d++],m=(s[l>>>24]<<24|s[f>>>16&255]<<16|s[p>>>8&255]<<8|s[255&c])^n[d++],g=(s[f>>>24]<<24|s[p>>>16&255]<<16|s[c>>>8&255]<<8|s[255&l])^n[d++],y=(s[p>>>24]<<24|s[c>>>16&255]<<16|s[l>>>8&255]<<8|s[255&f])^n[d++],e[t]=v,e[t+1]=m,e[t+2]=g,e[t+3]=y},keySize:8});e.AES=t._createHelper(v)}(),r.AES)},function(e,t,n){var r;e.exports=(r=n(19),function(){if("function"==typeof ArrayBuffer){var e=r.lib.WordArray,t=e.init;(e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,r=[],o=0;o<n;o++)r[o>>>2]|=e[o]<<24-o%4*8;t.call(this,r,n)}else t.apply(this,arguments)}).prototype=e}}(),r.lib.WordArray)},function(e,t,n){"use strict";var r=n(111),o=n(11),i=n(25),a=n(13),s=n(240),u=n(32),c=n(70),l=n(16),f=n(258);n(6)("JsSIP")("version %s",r.version),e.exports={C:o,Exceptions:i,Utils:a,UA:s,URI:u,NameAddrHeader:c,WebSocketInterface:f,Grammar:l,debug:n(6),get name(){return r.title},get version(){return r.version}}},function(e,t,n){"use strict";var r={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};r.localCName=r.generateIdentifier(),r.splitLines=function(e){return e.trim().split("\n").map(function(e){return e.trim()})},r.splitSections=function(e){return e.split("\nm=").map(function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"})},r.getDescription=function(e){var t=r.splitSections(e);return t&&t[0]},r.getMediaSections=function(e){var t=r.splitSections(e);return t.shift(),t},r.matchPrefix=function(e,t){return r.splitLines(e).filter(function(e){return 0===e.indexOf(t)})},r.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:n[t[r]]=t[r+1]}return n},r.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},r.parseIceOptions=function(e){return e.substr(14).split(" ")},r.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},r.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},r.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},r.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},r.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),o=0;o<r.length;o++)n[(t=r[o].trim().split("="))[0].trim()]=t[1];return n},r.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach(function(t){e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)}),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},r.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},r.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},r.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},r.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map(function(e){return parseInt(e,10)})}},r.getMid=function(e){var t=r.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},r.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},r.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:r.matchPrefix(e+t,"a=fingerprint:").map(r.parseFingerprint)}},r.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach(function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),n},r.getIceParameters=function(e,t){var n=r.splitLines(e);return{usernameFragment:(n=n.concat(r.splitLines(t))).filter(function(e){return 0===e.indexOf("a=ice-ufrag:")})[0].substr(12),password:n.filter(function(e){return 0===e.indexOf("a=ice-pwd:")})[0].substr(10)}},r.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},r.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=r.splitLines(e)[0].split(" "),o=3;o<n.length;o++){var i=n[o],a=r.matchPrefix(e,"a=rtpmap:"+i+" ")[0];if(a){var s=r.parseRtpMap(a),u=r.matchPrefix(e,"a=fmtp:"+i+" ");switch(s.parameters=u.length?r.parseFmtp(u[0]):{},s.rtcpFeedback=r.matchPrefix(e,"a=rtcp-fb:"+i+" ").map(r.parseRtcpFb),t.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(s.name.toUpperCase())}}}return r.matchPrefix(e,"a=extmap:").forEach(function(e){t.headerExtensions.push(r.parseExtmap(e))}),t},r.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map(function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType}).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach(function(e){n+=r.writeRtpMap(e),n+=r.writeFmtp(e),n+=r.writeRtcpFb(e)});var o=0;return t.codecs.forEach(function(e){e.maxptime>o&&(o=e.maxptime)}),o>0&&(n+="a=maxptime:"+o+"\r\n"),n+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach(function(e){n+=r.writeExtmap(e)}),n},r.parseRtpEncodingParameters=function(e){var t,n=[],o=r.parseRtpParameters(e),i=-1!==o.fecMechanisms.indexOf("RED"),a=-1!==o.fecMechanisms.indexOf("ULPFEC"),s=r.matchPrefix(e,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute}),u=s.length>0&&s[0].ssrc,c=r.matchPrefix(e,"a=ssrc-group:FID").map(function(e){return e.substr(17).split(" ").map(function(e){return parseInt(e,10)})});c.length>0&&c[0].length>1&&c[0][0]===u&&(t=c[0][1]),o.codecs.forEach(function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var r={ssrc:u,codecPayloadType:parseInt(e.parameters.apt,10)};u&&t&&(r.rtx={ssrc:t}),n.push(r),i&&((r=JSON.parse(JSON.stringify(r))).fec={ssrc:u,mechanism:a?"red+ulpfec":"red"},n.push(r))}}),0===n.length&&u&&n.push({ssrc:u});var l=r.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substr(5),10)*.95-16e3:void 0,n.forEach(function(e){e.maxBitrate=l})),n},r.parseRtcpParameters=function(e){var t={},n=r.matchPrefix(e,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute})[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);var o=r.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=o.length>0,t.compound=0===o.length;var i=r.matchPrefix(e,"a=rtcp-mux");return t.mux=i.length>0,t},r.parseMsid=function(e){var t,n=r.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(t=n[0].substr(7).split(" "))[0],track:t[1]};var o=r.matchPrefix(e,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(e){return"msid"===e.attribute});return o.length>0?{stream:(t=o[0].value.split(" "))[0],track:t[1]}:void 0},r.generateSessionId=function(){return Math.random().toString().substr(2,21)},r.writeSessionBoilerplate=function(e,t,n){var o=void 0!==t?t:2;return"v=0\r\no="+(n||"thisisadapterortc")+" "+(e||r.generateSessionId())+" "+o+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.writeMediaSection=function(e,t,n,o){var i=r.writeRtpDescription(e.kind,t);if(i+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),i+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),i+="a=mid:"+e.mid+"\r\n",e.direction?i+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?i+="a=sendrecv\r\n":e.rtpSender?i+="a=sendonly\r\n":e.rtpReceiver?i+="a=recvonly\r\n":i+="a=inactive\r\n",e.rtpSender){var a="msid:"+o.id+" "+e.rtpSender.track.id+"\r\n";i+="a="+a,i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,i+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),i},r.getDirection=function(e,t){for(var n=r.splitLines(e),o=0;o<n.length;o++)switch(n[o]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[o].substr(2)}return t?r.getDirection(t):"sendrecv"},r.getKind=function(e){return r.splitLines(e)[0].split(" ")[0].substr(2)},r.isRejected=function(e){return"0"===e.split(" ",2)[1]},r.parseMLine=function(e){var t=r.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},r.parseOLine=function(e){var t=r.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},r.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var t=r.splitLines(e),n=0;n<t.length;n++)if(t[n].length<2||"="!==t[n].charAt(1))return!1;return!0},e.exports=r},function(e,t,n){"use strict";var r=n(34),o=n(9),i=n(81),a=(n(82),n(42));n(4),n(143);function s(e,t,n){this.props=e,this.context=t,this.refs=a,this.updater=n||i}function u(e,t,n){this.props=e,this.context=t,this.refs=a,this.updater=n||i}function c(){}s.prototype.isReactComponent={},s.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&r("85"),this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},s.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")},c.prototype=s.prototype,u.prototype=new c,u.prototype.constructor=u,o(u.prototype,s.prototype),u.prototype.isPureReactComponent=!0,e.exports={Component:s,PureComponent:u}},function(e,t,n){"use strict";n(8);var r={isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){},enqueueReplaceState:function(e,t){},enqueueSetState:function(e,t){}};e.exports=r},function(e,t,n){"use strict";e.exports=!1},function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=r},function(e,t,n){"use strict";var r=n(151);e.exports=function(e){return r(e,!1)}},function(e,t,n){"use strict";e.exports={hasCachedChildNodes:1}},function(e,t,n){"use strict";var r=n(7);n(4);e.exports=function(e,t){return null==t&&r("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}},function(e,t,n){"use strict";e.exports=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}},function(e,t,n){"use strict";var r=n(14),o=null;e.exports=function(){return!o&&r.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}},function(e,t,n){"use strict";var r=n(7);var o=n(24),i=(n(4),function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._callbacks=null,this._contexts=null,this._arg=t}return e.prototype.enqueue=function(e,t){this._callbacks=this._callbacks||[],this._callbacks.push(e),this._contexts=this._contexts||[],this._contexts.push(t)},e.prototype.notifyAll=function(){var e=this._callbacks,t=this._contexts,n=this._arg;if(e&&t){e.length!==t.length&&r("24"),this._callbacks=null,this._contexts=null;for(var o=0;o<e.length;o++)e[o].call(t[o],n);e.length=0,t.length=0}},e.prototype.checkpoint=function(){return this._callbacks?this._callbacks.length:0},e.prototype.rollback=function(e){this._callbacks&&this._contexts&&(this._callbacks.length=e,this._contexts.length=e)},e.prototype.reset=function(){this._callbacks=null,this._contexts=null},e.prototype.destructor=function(){this.reset()},e}());e.exports=o.addPoolingTo(i)},function(e,t,n){"use strict";e.exports={logTopLevelRenders:!1}},function(e,t,n){"use strict";var r=n(10);function o(e){var t=e.type,n=e.nodeName;return n&&"input"===n.toLowerCase()&&("checkbox"===t||"radio"===t)}function i(e){return e._wrapperState.valueTracker}var a={_getTrackerFromNode:function(e){return i(r.getInstanceFromNode(e))},track:function(e){if(!i(e)){var t=r.getNodeFromInstance(e),n=o(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),s=""+t[n];t.hasOwnProperty(n)||"function"!=typeof a.get||"function"!=typeof a.set||(Object.defineProperty(t,n,{enumerable:a.enumerable,configurable:!0,get:function(){return a.get.call(this)},set:function(e){s=""+e,a.set.call(this,e)}}),function(e,t){e._wrapperState.valueTracker=t}(e,{getValue:function(){return s},setValue:function(e){s=""+e},stopTracking:function(){!function(e){e._wrapperState.valueTracker=null}(e),delete t[n]}}))}},updateValueIfChanged:function(e){if(!e)return!1;var t=i(e);if(!t)return a.track(e),!0;var n,s,u=t.getValue(),c=((n=r.getNodeFromInstance(e))&&(s=o(n)?""+n.checked:n.value),s);return c!==u&&(t.setValue(c),!0)},stopTracking:function(e){var t=i(e);t&&t.stopTracking()}};e.exports=a},function(e,t,n){"use strict";var r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!r[e.type]:"textarea"===t}},function(e,t,n){"use strict";var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};e.exports=r},function(e,t,n){"use strict";var r=n(14),o=n(46),i=n(45),a=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){3!==e.nodeType?i(e,o(t)):e.nodeValue=t})),e.exports=a},function(e,t,n){"use strict";e.exports=function(e){try{e.focus()}catch(e){}}},function(e,t,n){"use strict";var r={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};var o=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(e){o.forEach(function(t){r[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=r[e]})});var i={isUnitlessNumber:r,shorthandPropertyExpansions:{background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}}};e.exports=i},function(e,t,n){"use strict";var r=n(29),o=(n(10),n(15),n(186)),i=(n(8),new RegExp("^["+r.ATTRIBUTE_NAME_START_CHAR+"]["+r.ATTRIBUTE_NAME_CHAR+"]*$")),a={},s={};function u(e){return!!s.hasOwnProperty(e)||!a.hasOwnProperty(e)&&(i.test(e)?(s[e]=!0,!0):(a[e]=!0,!1))}function c(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&!1===t}var l={createMarkupForID:function(e){return r.ID_ATTRIBUTE_NAME+"="+o(e)},setAttributeForID:function(e,t){e.setAttribute(r.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return r.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(r.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var n=r.properties.hasOwnProperty(e)?r.properties[e]:null;if(n){if(c(n,t))return"";var i=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&!0===t?i+'=""':i+"="+o(t)}return r.isCustomAttribute(e)?null==t?"":e+"="+o(t):null},createMarkupForCustomAttribute:function(e,t){return u(e)&&null!=t?e+"="+o(t):""},setValueForProperty:function(e,t,n){var o=r.properties.hasOwnProperty(t)?r.properties[t]:null;if(o){var i=o.mutationMethod;if(i)i(e,n);else{if(c(o,n))return void this.deleteValueForProperty(e,t);if(o.mustUseProperty)e[o.propertyName]=n;else{var a=o.attributeName,s=o.attributeNamespace;s?e.setAttributeNS(s,a,""+n):o.hasBooleanValue||o.hasOverloadedBooleanValue&&!0===n?e.setAttribute(a,""):e.setAttribute(a,""+n)}}}else if(r.isCustomAttribute(t))return void l.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){u(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))},deleteValueForAttribute:function(e,t){e.removeAttribute(t)},deleteValueForProperty:function(e,t){var n=r.properties.hasOwnProperty(t)?r.properties[t]:null;if(n){var o=n.mutationMethod;if(o)o(e,void 0);else if(n.mustUseProperty){var i=n.propertyName;n.hasBooleanValue?e[i]=!1:e[i]=""}else e.removeAttribute(n.attributeName)}else r.isCustomAttribute(t)&&e.removeAttribute(t)}};e.exports=l},function(e,t,n){"use strict";var r=n(9),o=n(62),i=n(10),a=n(18),s=(n(8),!1);function u(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=o.getValue(e);null!=t&&c(this,Boolean(e.multiple),t)}}function c(e,t,n){var r,o,a=i.getNodeFromInstance(e).options;if(t){for(r={},o=0;o<n.length;o++)r[""+n[o]]=!0;for(o=0;o<a.length;o++){var s=r.hasOwnProperty(a[o].value);a[o].selected!==s&&(a[o].selected=s)}}else{for(r=""+n,o=0;o<a.length;o++)if(a[o].value===r)return void(a[o].selected=!0);a.length&&(a[0].selected=!0)}}var l={getHostProps:function(e,t){return r({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=o.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,listeners:null,onChange:f.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||s||(s=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=o.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,c(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?c(e,Boolean(t.multiple),t.defaultValue):c(e,Boolean(t.multiple),t.multiple?[]:""))}};function f(e){var t=this._currentElement.props,n=o.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),a.asap(u,this),n}e.exports=l},function(e,t,n){"use strict";var r=n(7),o=n(9),i=n(195),a=n(101),s=n(102),u=(n(196),n(4),n(8),function(e){this.construct(e)});function c(e,t){var n;if(null===e||!1===e)n=a.create(c);else if("object"==typeof e){var o=e,i=o.type;if("function"!=typeof i&&"string"!=typeof i){var l="";0,l+=function(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}(o._owner),r("130",null==i?i:typeof i,l)}"string"==typeof o.type?n=s.createInternalComponent(o):!function(e){return"function"==typeof e&&void 0!==e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}(o.type)?n=new u(o):(n=new o.type(o)).getHostNode||(n.getHostNode=n.getNativeNode)}else"string"==typeof e||"number"==typeof e?n=s.createInstanceForText(e):r("131",typeof e);return n._mountIndex=0,n._mountImage=null,n}o(u.prototype,i,{_instantiateReactComponent:c}),e.exports=c},function(e,t,n){"use strict";var r=n(7),o=n(27),i=(n(4),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||!1===e?i.EMPTY:o.isValidElement(e)?"function"==typeof e.type?i.COMPOSITE:i.HOST:void r("26",e)}});e.exports=i},function(e,t,n){"use strict";var r,o={injectEmptyComponentFactory:function(e){r=e}},i={create:function(e){return r(e)}};i.injection=o,e.exports=i},function(e,t,n){"use strict";var r=n(7),o=(n(4),null),i=null;var a={createInternalComponent:function(e){return o||r("111",e.type),new o(e)},createInstanceForText:function(e){return new i(e)},isTextComponent:function(e){return e instanceof i},injection:{injectGenericComponentClass:function(e){o=e},injectTextComponentClass:function(e){i=e}}};e.exports=a},function(e,t,n){"use strict";var r=n(7),o=(n(21),n(197)),i=n(198),a=(n(4),n(66)),s=(n(8),"."),u=":";function c(e,t){return e&&"object"==typeof e&&null!=e.key?a.escape(e.key):t.toString(36)}e.exports=function(e,t,n){return null==e?0:function e(t,n,l,f){var p,d=typeof t;if("undefined"!==d&&"boolean"!==d||(t=null),null===t||"string"===d||"number"===d||"object"===d&&t.$$typeof===o)return l(f,t,""===n?s+c(t,0):n),1;var h=0,v=""===n?s:n+u;if(Array.isArray(t))for(var m=0;m<t.length;m++)h+=e(p=t[m],v+c(p,m),l,f);else{var g=i(t);if(g){var y,_=g.call(t);if(g!==t.entries)for(var b=0;!(y=_.next()).done;)h+=e(p=y.value,v+c(p,b++),l,f);else for(;!(y=_.next()).done;){var C=y.value;C&&(h+=e(p=C[1],v+a.escape(C[0])+u+c(p,0),l,f))}}else if("object"===d){var A=String(t);r("31","[object Object]"===A?"object with keys {"+Object.keys(t).join(", ")+"}":A,"")}}return h}(e,"",t,n)}},function(e,t,n){"use strict";var r,o,i,a,s,u,c,l=n(34),f=n(21);n(4),n(8);function p(e){var t=Function.prototype.toString,n=Object.prototype.hasOwnProperty,r=RegExp("^"+t.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var o=t.call(e);return r.test(o)}catch(e){return!1}}if("function"==typeof Array.from&&"function"==typeof Map&&p(Map)&&null!=Map.prototype&&"function"==typeof Map.prototype.keys&&p(Map.prototype.keys)&&"function"==typeof Set&&p(Set)&&null!=Set.prototype&&"function"==typeof Set.prototype.keys&&p(Set.prototype.keys)){var d=new Map,h=new Set;r=function(e,t){d.set(e,t)},o=function(e){return d.get(e)},i=function(e){d.delete(e)},a=function(){return Array.from(d.keys())},s=function(e){h.add(e)},u=function(e){h.delete(e)},c=function(){return Array.from(h.keys())}}else{var v={},m={},g=function(e){return"."+e},y=function(e){return parseInt(e.substr(1),10)};r=function(e,t){var n=g(e);v[n]=t},o=function(e){var t=g(e);return v[t]},i=function(e){var t=g(e);delete v[t]},a=function(){return Object.keys(v).map(y)},s=function(e){var t=g(e);m[t]=!0},u=function(e){var t=g(e);delete m[t]},c=function(){return Object.keys(m).map(y)}}var _=[];function b(e){var t=o(e);if(t){var n=t.childIDs;i(e),n.forEach(b)}}function C(e,t,n){return"\n    in "+(e||"Unknown")+(t?" (at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+")":n?" (created by "+n+")":"")}function A(e){return null==e?"#empty":"string"==typeof e||"number"==typeof e?"#text":"string"==typeof e.type?e.type:e.type.displayName||e.type.name||"Unknown"}function E(e){var t,n=S.getDisplayName(e),r=S.getElement(e),o=S.getOwnerID(e);return o&&(t=S.getDisplayName(o)),C(n,r&&r._source,t)}var S={onSetChildren:function(e,t){var n=o(e);n||l("144"),n.childIDs=t;for(var r=0;r<t.length;r++){var i=t[r],a=o(i);a||l("140"),null==a.childIDs&&"object"==typeof a.element&&null!=a.element&&l("141"),a.isMounted||l("71"),null==a.parentID&&(a.parentID=e),a.parentID!==e&&l("142",i,a.parentID,e)}},onBeforeMountComponent:function(e,t,n){r(e,{element:t,parentID:n,text:null,childIDs:[],isMounted:!1,updateCount:0})},onBeforeUpdateComponent:function(e,t){var n=o(e);n&&n.isMounted&&(n.element=t)},onMountComponent:function(e){var t=o(e);t||l("144"),t.isMounted=!0,0===t.parentID&&s(e)},onUpdateComponent:function(e){var t=o(e);t&&t.isMounted&&t.updateCount++},onUnmountComponent:function(e){var t=o(e);t&&(t.isMounted=!1,0===t.parentID&&u(e));_.push(e)},purgeUnmountedComponents:function(){if(!S._preventPurging){for(var e=0;e<_.length;e++){b(_[e])}_.length=0}},isMounted:function(e){var t=o(e);return!!t&&t.isMounted},getCurrentStackAddendum:function(e){var t="";if(e){var n=A(e),r=e._owner;t+=C(n,e._source,r&&r.getName())}var o=f.current,i=o&&o._debugID;return t+=S.getStackAddendumByID(i)},getStackAddendumByID:function(e){for(var t="";e;)t+=E(e),e=S.getParentID(e);return t},getChildIDs:function(e){var t=o(e);return t?t.childIDs:[]},getDisplayName:function(e){var t=S.getElement(e);return t?A(t):null},getElement:function(e){var t=o(e);return t?t.element:null},getOwnerID:function(e){var t=S.getElement(e);return t&&t._owner?t._owner._debugID:null},getParentID:function(e){var t=o(e);return t?t.parentID:null},getSource:function(e){var t=o(e),n=t?t.element:null;return null!=n?n._source:null},getText:function(e){var t=S.getElement(e);return"string"==typeof t?t:"number"==typeof t?""+t:null},getUpdateCount:function(e){var t=o(e);return t?t.updateCount:0},getRootIDs:c,getRegisteredIDs:a,pushNonStandardWarningStack:function(e,t){if("function"==typeof console.reactStack){var n=[],r=f.current,o=r&&r._debugID;try{for(e&&n.push({name:o?S.getDisplayName(o):null,fileName:t?t.fileName:null,lineNumber:t?t.lineNumber:null});o;){var i=S.getElement(o),a=S.getParentID(o),s=S.getOwnerID(o),u=s?S.getDisplayName(s):null,c=i&&i._source;n.push({name:u,fileName:c?c.fileName:null,lineNumber:c?c.lineNumber:null}),o=a}}catch(e){}console.reactStack(n)}},popNonStandardWarningStack:function(){"function"==typeof console.reactStackEnd&&console.reactStackEnd()}};e.exports=S},function(e,t,n){"use strict";var r=n(17),o={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};e.exports=o},function(e,t,n){"use strict";var r=n(210),o=n(212),i=n(95),a=n(107);var s={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=a();return{focusedElem:e,selectionRange:s.hasSelectionCapabilities(e)?s.getSelection(e):null}},restoreSelection:function(e){var t,n=a(),r=e.focusedElem,u=e.selectionRange;n!==r&&(t=r,o(document.documentElement,t))&&(s.hasSelectionCapabilities(r)&&s.setSelection(r,u),i(r))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=r.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,o=t.end;if(void 0===o&&(o=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(o,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var i=e.createTextRange();i.collapse(!0),i.moveStart("character",n),i.moveEnd("character",o-n),i.select()}else r.setOffsets(e,t)}};e.exports=s},function(e,t,n){"use strict";e.exports=function(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}},function(e,t,n){"use strict";var r=n(7),o=n(31),i=n(29),a=n(27),s=n(47),u=(n(21),n(10)),c=n(227),l=n(228),f=n(90),p=n(38),d=(n(15),n(229)),h=n(30),v=n(67),m=n(18),g=n(42),y=n(99),_=(n(4),n(45)),b=n(65),C=(n(8),i.ID_ATTRIBUTE_NAME),A=i.ROOT_ATTRIBUTE_NAME,E=1,S=9,T=11,w={};function k(e){return e?e.nodeType===S?e.documentElement:e.firstChild:null}function R(e,t,n,r,o){var i;if(f.logTopLevelRenders){var a=e._currentElement.props.child.type;i="React mount: "+("string"==typeof a?a:a.displayName||a.name),console.time(i)}var s=h.mountComponent(e,n,null,c(e,t),o,0);i&&console.timeEnd(i),e._renderedComponent._topLevelWrapper=e,U._mountImageIntoNode(s,t,e,r,n)}function O(e,t,n,r){var o=m.ReactReconcileTransaction.getPooled(!n&&l.useCreateElement);o.perform(R,null,e,t,o,n,r),m.ReactReconcileTransaction.release(o)}function x(e,t,n){for(0,h.unmountComponent(e,n),t.nodeType===S&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function I(e){var t=k(e);if(t){var n=u.getInstanceFromNode(t);return!(!n||!n._hostParent)}}function P(e){return!(!e||e.nodeType!==E&&e.nodeType!==S&&e.nodeType!==T)}function N(e){var t=function(e){var t=k(e),n=t&&u.getInstanceFromNode(t);return n&&!n._hostParent?n:null}(e);return t?t._hostContainerInfo._topLevelWrapper:null}var D=1,M=function(){this.rootID=D++};M.prototype.isReactComponent={},M.prototype.render=function(){return this.props.child},M.isReactTopLevelWrapper=!0;var U={TopLevelWrapper:M,_instancesByReactRootID:w,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r,o){return U.scrollMonitor(r,function(){v.enqueueElementInternal(e,t,n),o&&v.enqueueCallbackInternal(e,o)}),e},_renderNewRootComponent:function(e,t,n,o){P(t)||r("37"),s.ensureScrollValueMonitoring();var i=y(e,!1);m.batchedUpdates(O,i,t,n,o);var a=i._instance.rootID;return w[a]=i,i},renderSubtreeIntoContainer:function(e,t,n,o){return null!=e&&p.has(e)||r("38"),U._renderSubtreeIntoContainer(e,t,n,o)},_renderSubtreeIntoContainer:function(e,t,n,o){v.validateCallback(o,"ReactDOM.render"),a.isValidElement(t)||r("39","string"==typeof t?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof t?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":"");var i,s=a.createElement(M,{child:t});if(e){var u=p.get(e);i=u._processChildContext(u._context)}else i=g;var c=N(n);if(c){var l=c._currentElement.props.child;if(b(l,t)){var f=c._renderedComponent.getPublicInstance(),d=o&&function(){o.call(f)};return U._updateRootComponent(c,s,i,n,d),f}U.unmountComponentAtNode(n)}var h,m=k(n),y=m&&!(!(h=m).getAttribute||!h.getAttribute(C)),_=I(n),A=y&&!c&&!_,E=U._renderNewRootComponent(s,n,A,i)._renderedComponent.getPublicInstance();return o&&o.call(E),E},render:function(e,t,n){return U._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){P(e)||r("40");var t=N(e);if(!t){I(e),1===e.nodeType&&e.hasAttribute(A);return!1}return delete w[t._instance.rootID],m.batchedUpdates(x,t,e,!1),!0},_mountImageIntoNode:function(e,t,n,i,a){if(P(t)||r("41"),i){var s=k(t);if(d.canReuseMarkup(e,s))return void u.precacheNode(n,s);var c=s.getAttribute(d.CHECKSUM_ATTR_NAME);s.removeAttribute(d.CHECKSUM_ATTR_NAME);var l=s.outerHTML;s.setAttribute(d.CHECKSUM_ATTR_NAME,c);var f=e,p=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}(f,l),h=" (client) "+f.substring(p-20,p+20)+"\n (server) "+l.substring(p-20,p+20);t.nodeType===S&&r("42",h)}if(t.nodeType===S&&r("43"),a.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);o.insertTreeBefore(t,e,null)}else _(t,e),u.precacheNode(n,t.firstChild)}};e.exports=U},function(e,t,n){"use strict";var r=n(100);e.exports=function(e){for(var t;(t=e._renderedNodeType)===r.COMPOSITE;)e=e._renderedComponent;return t===r.HOST?e._renderedComponent:t===r.EMPTY?null:void 0}},function(e,t,n){var r,o,i,a,s,u,c,l;e.exports=(r=n(19),n(237),n(238),i=(o=r).lib,a=i.Base,s=i.WordArray,u=o.algo,c=u.MD5,l=u.EvpKDF=a.extend({cfg:a.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=n.hasher.create(),o=s.create(),i=o.words,a=n.keySize,u=n.iterations;i.length<a;){c&&r.update(c);var c=r.update(e).finalize(t);r.reset();for(var l=1;l<u;l++)c=r.finalize(c),r.reset();o.concat(c)}return o.sigBytes=4*a,o}}),o.EvpKDF=function(e,t,n){return l.create(n).compute(e,t)},r.EvpKDF)},function(e){e.exports={name:"jssip",title:"JsSIP",description:"the Javascript SIP library",version:"3.3.5",homepage:"https://jssip.net",author:"José Luis Millán <jmillan@aliax.net> (https://github.com/jmillan)",contributors:["Iñaki Baz Castillo <ibc@aliax.net> (https://github.com/ibc)"],main:"lib-es5/JsSIP.js",keywords:["sip","websocket","webrtc","node","browser","library"],license:"MIT",repository:{type:"git",url:"https://github.com/versatica/JsSIP.git"},bugs:{url:"https://github.com/versatica/JsSIP/issues"},dependencies:{debug:"^4.1.1",events:"^3.0.0","sdp-transform":"^2.7.0"},devDependencies:{"@babel/core":"^7.3.4","@babel/preset-env":"^7.3.4","ansi-colors":"^3.2.3",browserify:"^16.2.3",eslint:"^5.14.1","fancy-log":"^1.3.3",gulp:"^4.0.0","gulp-babel":"^8.0.0","gulp-eslint":"^5.0.0","gulp-expect-file":"^1.0.1","gulp-header":"^2.0.7","gulp-nodeunit-runner":"^0.2.2","gulp-plumber":"^1.2.1","gulp-rename":"^1.4.0","gulp-uglify-es":"^1.0.4",pegjs:"^0.7.0","vinyl-buffer":"^1.0.1","vinyl-source-stream":"^2.0.0"},scripts:{lint:"gulp lint",test:"gulp test",prepublishOnly:"gulp babel"}}},function(e,t,n){var r=n(242),o=n(243);t.write=o,t.parse=r.parse,t.parseFmtpConfig=r.parseFmtpConfig,t.parseParams=r.parseParams,t.parsePayloads=r.parsePayloads,t.parseRemoteCandidates=r.parseRemoteCandidates,t.parseImageAttributes=r.parseImageAttributes,t.parseSimulcastStreamList=r.parseSimulcastStreamList},function(e,t){var n=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w\/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-\.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%d trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))? (\S*)(?: (\S*))?/,names:["value","direction","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+" %s"+(e.config?" %s":"")}},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),t+=null!=e["network-id"]?" network-id %d":"%v",t+=null!=e["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_\/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"invalid",names:["value"]}]};Object.keys(n).forEach(function(e){n[e].forEach(function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")})})},function(e,t,n){"use strict";var r=500;e.exports={T1:r,T2:4e3,T4:5e3,TIMER_B:32e3,TIMER_D:0,TIMER_F:32e3,TIMER_H:32e3,TIMER_I:0,TIMER_J:0,TIMER_K:0,TIMER_L:32e3,TIMER_M:32e3,PROVISIONAL_RESPONSE_INTERVAL:6e4}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=n(26).EventEmitter,l=n(112),f=n(11),p=n(25),d=n(40),h=n(13),v=n(114),m=n(23),g=n(247),y=n(48),_=n(249),b=n(250),C=n(251),A=n(252),E=n(6)("JsSIP:RTCSession"),S=n(6)("JsSIP:ERROR:RTCSession");S.log=console.warn.bind(console);var T={STATUS_NULL:0,STATUS_INVITE_SENT:1,STATUS_1XX_RECEIVED:2,STATUS_INVITE_RECEIVED:3,STATUS_WAITING_FOR_ANSWER:4,STATUS_ANSWERED:5,STATUS_WAITING_FOR_ACK:6,STATUS_CANCELED:7,STATUS_TERMINATED:8,STATUS_CONFIRMED:9},w=["audio","video"];e.exports=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),E("new"),(n=o(this,i(t).call(this)))._id=null,n._ua=e,n._status=T.STATUS_NULL,n._dialog=null,n._earlyDialogs={},n._contact=null,n._from_tag=null,n._to_tag=null,n._connection=null,n._connectionPromiseQueue=Promise.resolve(),n._request=null,n._is_canceled=!1,n._cancel_reason="",n._is_confirmed=!1,n._late_sdp=!1,n._rtcOfferConstraints=null,n._rtcAnswerConstraints=null,n._localMediaStream=null,n._localMediaStreamLocallyGenerated=!1,n._rtcReady=!0,n._timers={ackTimer:null,expiresTimer:null,invite2xxTimer:null,userNoAnswerTimer:null},n._direction=null,n._local_identity=null,n._remote_identity=null,n._start_time=null,n._end_time=null,n._tones=null,n._audioMuted=!1,n._videoMuted=!1,n._localHold=!1,n._remoteHold=!1,n._sessionTimers={enabled:n._ua.configuration.session_timers,refreshMethod:n._ua.configuration.session_timers_refresh_method,defaultExpires:f.SESSION_EXPIRES,currentExpires:null,running:!1,refresher:!1,timer:null},n._referSubscribers={},n._data={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,c),s(t,null,[{key:"C",get:function(){return T}}]),s(t,[{key:"isInProgress",value:function(){switch(this._status){case T.STATUS_NULL:case T.STATUS_INVITE_SENT:case T.STATUS_1XX_RECEIVED:case T.STATUS_INVITE_RECEIVED:case T.STATUS_WAITING_FOR_ANSWER:return!0;default:return!1}}},{key:"isEstablished",value:function(){switch(this._status){case T.STATUS_ANSWERED:case T.STATUS_WAITING_FOR_ACK:case T.STATUS_CONFIRMED:return!0;default:return!1}}},{key:"isEnded",value:function(){switch(this._status){case T.STATUS_CANCELED:case T.STATUS_TERMINATED:return!0;default:return!1}}},{key:"isMuted",value:function(){return{audio:this._audioMuted,video:this._videoMuted}}},{key:"isOnHold",value:function(){return{local:this._localHold,remote:this._remoteHold}}},{key:"connect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;E("connect()");var r=e,o=t.eventHandlers||{},i=h.cloneArray(t.extraHeaders),a=t.mediaConstraints||{audio:!0,video:!0},s=t.mediaStream||null,u=t.pcConfig||{iceServers:[]},c=t.rtcConstraints||null,l=t.rtcOfferConstraints||null;if(this._rtcOfferConstraints=l,this._rtcAnswerConstraints=t.rtcAnswerConstraints||null,this._data=t.data||this._data,void 0===e)throw new TypeError("Not enough arguments");if(this._status!==T.STATUS_NULL)throw new p.InvalidStateError(this._status);if(!window.RTCPeerConnection)throw new p.NotSupportedError("WebRTC not supported");if(!(e=this._ua.normalizeTarget(e)))throw new TypeError("Invalid target: ".concat(r));for(var d in this._sessionTimers.enabled&&h.isDecimal(t.sessionTimersExpires)&&(t.sessionTimersExpires>=f.MIN_SESSION_EXPIRES?this._sessionTimers.defaultExpires=t.sessionTimersExpires:this._sessionTimers.defaultExpires=f.SESSION_EXPIRES),o)Object.prototype.hasOwnProperty.call(o,d)&&this.on(d,o[d]);this._from_tag=h.newTag();var v=t.anonymous||!1,g={from_tag:this._from_tag};this._contact=this._ua.contact.toString({anonymous:v,outbound:!0}),v&&(g.from_display_name="Anonymous",g.from_uri="sip:anonymous@anonymous.invalid",i.push("P-Preferred-Identity: ".concat(this._ua.configuration.uri.toString())),i.push("Privacy: id")),i.push("Contact: ".concat(this._contact)),i.push("Content-Type: application/sdp"),this._sessionTimers.enabled&&i.push("Session-Expires: ".concat(this._sessionTimers.defaultExpires)),this._request=new m.InitialOutgoingInviteRequest(e,this._ua,g,i),this._id=this._request.call_id+this._from_tag,this._createRTCConnection(u,c),this._direction="outgoing",this._local_identity=this._request.from,this._remote_identity=this._request.to,n&&n(this),this._newRTCSession("local",this._request),this._sendInitialRequest(a,l,s)}},{key:"init_incoming",value:function(e,t){var n,r=this;E("init_incoming()");var o=e.getHeader("Content-Type");e.body&&"application/sdp"!==o?e.reply(415):(this._status=T.STATUS_INVITE_RECEIVED,this._from_tag=e.from_tag,this._id=e.call_id+this._from_tag,this._request=e,this._contact=this._ua.contact.toString(),e.hasHeader("expires")&&(n=1e3*e.getHeader("expires")),e.to_tag=h.newTag(),this._createDialog(e,"UAS",!0)?(e.body?this._late_sdp=!1:this._late_sdp=!0,this._status=T.STATUS_WAITING_FOR_ANSWER,this._timers.userNoAnswerTimer=setTimeout(function(){e.reply(408),r._failed("local",null,f.causes.NO_ANSWER)},this._ua.configuration.no_answer_timeout),n&&(this._timers.expiresTimer=setTimeout(function(){r._status===T.STATUS_WAITING_FOR_ANSWER&&(e.reply(487),r._failed("system",null,f.causes.EXPIRES))},n)),this._direction="incoming",this._local_identity=e.to,this._remote_identity=e.from,t&&t(this),this._newRTCSession("remote",e),this._status!==T.STATUS_TERMINATED&&(e.reply(180,null,["Contact: ".concat(this._contact)]),this._progress("local",null))):e.reply(500,"Missing Contact header field"))}},{key:"answer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};E("answer()");var n,r=this._request,o=h.cloneArray(t.extraHeaders),i=t.mediaConstraints||{},a=t.mediaStream||null,s=t.pcConfig||{iceServers:[]},u=t.rtcConstraints||null,c=t.rtcAnswerConstraints||null,l=!1,d=!1,v=!1,m=!1;if(this._rtcAnswerConstraints=c,this._rtcOfferConstraints=t.rtcOfferConstraints||null,this._data=t.data||this._data,"incoming"!==this._direction)throw new p.NotSupportedError('"answer" not supported for outgoing RTCSession');if(this._status!==T.STATUS_WAITING_FOR_ANSWER)throw new p.InvalidStateError(this._status);if(this._sessionTimers.enabled&&h.isDecimal(t.sessionTimersExpires)&&(t.sessionTimersExpires>=f.MIN_SESSION_EXPIRES?this._sessionTimers.defaultExpires=t.sessionTimersExpires:this._sessionTimers.defaultExpires=f.SESSION_EXPIRES),this._status=T.STATUS_ANSWERED,this._createDialog(r,"UAS")){clearTimeout(this._timers.userNoAnswerTimer),o.unshift("Contact: ".concat(this._contact));var g=r.parseSDP();Array.isArray(g.media)||(g.media=[g.media]);var y=!0,_=!1,b=void 0;try{for(var C,A=g.media[Symbol.iterator]();!(y=(C=A.next()).done);y=!0){var w=C.value;"audio"===w.type&&(l=!0,w.direction&&"sendrecv"!==w.direction||(v=!0)),"video"===w.type&&(d=!0,w.direction&&"sendrecv"!==w.direction||(m=!0))}}catch(e){_=!0,b=e}finally{try{y||null==A.return||A.return()}finally{if(_)throw b}}if(a&&!1===i.audio){n=a.getAudioTracks();var k=!0,R=!1,O=void 0;try{for(var x,I=n[Symbol.iterator]();!(k=(x=I.next()).done);k=!0){var P=x.value;a.removeTrack(P)}}catch(e){R=!0,O=e}finally{try{k||null==I.return||I.return()}finally{if(R)throw O}}}if(a&&!1===i.video){n=a.getVideoTracks();var N=!0,D=!1,M=void 0;try{for(var U,j=n[Symbol.iterator]();!(N=(U=j.next()).done);N=!0){var L=U.value;a.removeTrack(L)}}catch(e){D=!0,M=e}finally{try{N||null==j.return||j.return()}finally{if(D)throw M}}}a||void 0!==i.audio||(i.audio=v),a||void 0!==i.video||(i.video=m),a||l||(i.audio=!1),a||d||(i.video=!1),this._createRTCConnection(s,u),Promise.resolve().then(function(){return a||(i.audio||i.video?(e._localMediaStreamLocallyGenerated=!0,navigator.mediaDevices.getUserMedia(i).catch(function(t){if(e._status===T.STATUS_TERMINATED)throw new Error("terminated");throw r.reply(480),e._failed("local",null,f.causes.USER_DENIED_MEDIA_ACCESS),S('emit "getusermediafailed" [error:%o]',t),e.emit("getusermediafailed",t),new Error("getUserMedia() failed")})):void 0)}).then(function(t){if(e._status===T.STATUS_TERMINATED)throw new Error("terminated");e._localMediaStream=t,t&&t.getTracks().forEach(function(n){e._connection.addTrack(n,t)})}).then(function(){if(!e._late_sdp){var t={originator:"remote",type:"offer",sdp:r.body};E('emit "sdp"'),e.emit("sdp",t);var n=new RTCSessionDescription({type:"offer",sdp:t.sdp});return e._connectionPromiseQueue=e._connectionPromiseQueue.then(function(){return e._connection.setRemoteDescription(n)}).catch(function(t){throw r.reply(488),e._failed("system",null,f.causes.WEBRTC_ERROR),S('emit "peerconnection:setremotedescriptionfailed" [error:%o]',t),e.emit("peerconnection:setremotedescriptionfailed",t),new Error("peerconnection.setRemoteDescription() failed")}),e._connectionPromiseQueue}}).then(function(){if(e._status===T.STATUS_TERMINATED)throw new Error("terminated");return e._connecting(r),e._late_sdp?e._createLocalDescription("offer",e._rtcOfferConstraints).catch(function(){throw r.reply(500),new Error("_createLocalDescription() failed")}):e._createLocalDescription("answer",c).catch(function(){throw r.reply(500),new Error("_createLocalDescription() failed")})}).then(function(t){if(e._status===T.STATUS_TERMINATED)throw new Error("terminated");e._handleSessionTimersInIncomingRequest(r,o),r.reply(200,null,o,t,function(){e._status=T.STATUS_WAITING_FOR_ACK,e._setInvite2xxTimer(r,t),e._setACKTimer(),e._accepted("local")},function(){e._failed("system",null,f.causes.CONNECTION_ERROR)})}).catch(function(t){e._status!==T.STATUS_TERMINATED&&S(t)})}else r.reply(500,"Error creating dialog")}},{key:"terminate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};E("terminate()");var n,r=t.cause||f.causes.BYE,o=h.cloneArray(t.extraHeaders),i=t.body,a=t.status_code,s=t.reason_phrase;if(this._status===T.STATUS_TERMINATED)throw new p.InvalidStateError(this._status);switch(this._status){case T.STATUS_NULL:case T.STATUS_INVITE_SENT:case T.STATUS_1XX_RECEIVED:if(E("canceling session"),a&&(a<200||a>=700))throw new TypeError("Invalid status_code: ".concat(a));a&&(s=s||f.REASON_PHRASE[a]||"",n="SIP ;cause=".concat(a,' ;text="').concat(s,'"')),this._status===T.STATUS_NULL||this._status===T.STATUS_INVITE_SENT?(this._is_canceled=!0,this._cancel_reason=n):this._status===T.STATUS_1XX_RECEIVED&&this._request.cancel(n),this._status=T.STATUS_CANCELED,this._failed("local",null,f.causes.CANCELED);break;case T.STATUS_WAITING_FOR_ANSWER:case T.STATUS_ANSWERED:if(E("rejecting session"),(a=a||480)<300||a>=700)throw new TypeError("Invalid status_code: ".concat(a));this._request.reply(a,s,o,i),this._failed("local",null,f.causes.REJECTED);break;case T.STATUS_WAITING_FOR_ACK:case T.STATUS_CONFIRMED:if(E("terminating session"),s=t.reason_phrase||f.REASON_PHRASE[a]||"",a&&(a<200||a>=700))throw new TypeError("Invalid status_code: ".concat(a));if(a&&o.push("Reason: SIP ;cause=".concat(a,'; text="').concat(s,'"')),this._status===T.STATUS_WAITING_FOR_ACK&&"incoming"===this._direction&&this._request.server_transaction.state!==d.C.STATUS_TERMINATED){var u=this._dialog;this.receiveRequest=function(t){t.method===f.ACK&&(e.sendRequest(f.BYE,{extraHeaders:o,body:i}),u.terminate())},this._request.server_transaction.on("stateChanged",function(){e._request.server_transaction.state===d.C.STATUS_TERMINATED&&(e.sendRequest(f.BYE,{extraHeaders:o,body:i}),u.terminate())}),this._ended("local",null,r),this._dialog=u,this._ua.newDialog(u)}else this.sendRequest(f.BYE,{extraHeaders:o,body:i}),this._ended("local",null,r)}}},{key:"sendDTMF",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};E("sendDTMF() | tones: %s",e);var n=0,r=t.duration||null,o=t.interToneGap||null;if(void 0===e)throw new TypeError("Not enough arguments");if(this._status!==T.STATUS_CONFIRMED&&this._status!==T.STATUS_WAITING_FOR_ACK)throw new p.InvalidStateError(this._status);if("number"==typeof e&&(e=e.toString()),!e||"string"!=typeof e||!e.match(/^[0-9A-DR#*,]+$/i))throw new TypeError("Invalid tones: ".concat(e));if(r&&!h.isDecimal(r))throw new TypeError("Invalid tone duration: ".concat(r));if(r?r<_.C.MIN_DURATION?(E('"duration" value is lower than the minimum allowed, setting it to '.concat(_.C.MIN_DURATION," milliseconds")),r=_.C.MIN_DURATION):r>_.C.MAX_DURATION?(E('"duration" value is greater than the maximum allowed, setting it to '.concat(_.C.MAX_DURATION," milliseconds")),r=_.C.MAX_DURATION):r=Math.abs(r):r=_.C.DEFAULT_DURATION,t.duration=r,o&&!h.isDecimal(o))throw new TypeError("Invalid interToneGap: ".concat(o));o?o<_.C.MIN_INTER_TONE_GAP?(E('"interToneGap" value is lower than the minimum allowed, setting it to '.concat(_.C.MIN_INTER_TONE_GAP," milliseconds")),o=_.C.MIN_INTER_TONE_GAP):o=Math.abs(o):o=_.C.DEFAULT_INTER_TONE_GAP,this._tones?this._tones+=e:(this._tones=e,function e(){var i=this;var a;if(this._status===T.STATUS_TERMINATED||!this._tones||n>=this._tones.length)return void(this._tones=null);var s=this._tones[n];n+=1;if(","===s)a=2e3;else{var u=new _(this);t.eventHandlers={onFailed:function(){i._tones=null}},u.send(s,t),a=r+o}setTimeout(e.bind(this),a)}.call(this))}},{key:"sendInfo",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(E("sendInfo()"),this._status!==T.STATUS_CONFIRMED&&this._status!==T.STATUS_WAITING_FOR_ACK)throw new p.InvalidStateError(this._status);new b(this).send(e,t,n)}},{key:"mute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{audio:!0,video:!1};E("mute()");var t=!1,n=!1;!1===this._audioMuted&&e.audio&&(t=!0,this._audioMuted=!0,this._toggleMuteAudio(!0)),!1===this._videoMuted&&e.video&&(n=!0,this._videoMuted=!0,this._toggleMuteVideo(!0)),!0!==t&&!0!==n||this._onmute({audio:t,video:n})}},{key:"unmute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{audio:!0,video:!0};E("unmute()");var t=!1,n=!1;!0===this._audioMuted&&e.audio&&(t=!0,this._audioMuted=!1,!1===this._localHold&&this._toggleMuteAudio(!1)),!0===this._videoMuted&&e.video&&(n=!0,this._videoMuted=!1,!1===this._localHold&&this._toggleMuteVideo(!1)),!0!==t&&!0!==n||this._onunmute({audio:t,video:n})}},{key:"hold",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(E("hold()"),this._status!==T.STATUS_WAITING_FOR_ACK&&this._status!==T.STATUS_CONFIRMED)return!1;if(!0===this._localHold)return!1;if(!this._isReadyToReOffer())return!1;this._localHold=!0,this._onhold("local");var r={succeeded:function(){n&&n()},failed:function(){e.terminate({cause:f.causes.WEBRTC_ERROR,status_code:500,reason_phrase:"Hold Failed"})}};return t.useUpdate?this._sendUpdate({sdpOffer:!0,eventHandlers:r,extraHeaders:t.extraHeaders}):this._sendReinvite({eventHandlers:r,extraHeaders:t.extraHeaders}),!0}},{key:"unhold",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(E("unhold()"),this._status!==T.STATUS_WAITING_FOR_ACK&&this._status!==T.STATUS_CONFIRMED)return!1;if(!1===this._localHold)return!1;if(!this._isReadyToReOffer())return!1;this._localHold=!1,this._onunhold("local");var r={succeeded:function(){n&&n()},failed:function(){e.terminate({cause:f.causes.WEBRTC_ERROR,status_code:500,reason_phrase:"Unhold Failed"})}};return t.useUpdate?this._sendUpdate({sdpOffer:!0,eventHandlers:r,extraHeaders:t.extraHeaders}):this._sendReinvite({eventHandlers:r,extraHeaders:t.extraHeaders}),!0}},{key:"renegotiate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;E("renegotiate()");var r=t.rtcOfferConstraints||null;if(this._status!==T.STATUS_WAITING_FOR_ACK&&this._status!==T.STATUS_CONFIRMED)return!1;if(!this._isReadyToReOffer())return!1;var o={succeeded:function(){n&&n()},failed:function(){e.terminate({cause:f.causes.WEBRTC_ERROR,status_code:500,reason_phrase:"Media Renegotiation Failed"})}};return this._setLocalMediaStatus(),t.useUpdate?this._sendUpdate({sdpOffer:!0,eventHandlers:o,rtcOfferConstraints:r,extraHeaders:t.extraHeaders}):this._sendReinvite({eventHandlers:o,rtcOfferConstraints:r,extraHeaders:t.extraHeaders}),!0}},{key:"refer",value:function(e,t){var n=this;E("refer()");var r=e;if(this._status!==T.STATUS_WAITING_FOR_ACK&&this._status!==T.STATUS_CONFIRMED)return!1;if(!(e=this._ua.normalizeTarget(e)))throw new TypeError("Invalid target: ".concat(r));var o=new A(this);o.sendRefer(e,t);var i=o.id;return this._referSubscribers[i]=o,o.on("requestFailed",function(){delete n._referSubscribers[i]}),o.on("accepted",function(){delete n._referSubscribers[i]}),o.on("failed",function(){delete n._referSubscribers[i]}),o}},{key:"sendRequest",value:function(e,t){return E("sendRequest()"),this._dialog.sendRequest(e,t)}},{key:"receiveRequest",value:function(e){var t=this;if(E("receiveRequest()"),e.method===f.CANCEL)this._status!==T.STATUS_WAITING_FOR_ANSWER&&this._status!==T.STATUS_ANSWERED||(this._status=T.STATUS_CANCELED,this._request.reply(487),this._failed("remote",e,f.causes.CANCELED));else switch(e.method){case f.ACK:if(this._status!==T.STATUS_WAITING_FOR_ACK)return;if(this._status=T.STATUS_CONFIRMED,clearTimeout(this._timers.ackTimer),clearTimeout(this._timers.invite2xxTimer),this._late_sdp){if(!e.body){this.terminate({cause:f.causes.MISSING_SDP,status_code:400});break}var n={originator:"remote",type:"answer",sdp:e.body};E('emit "sdp"'),this.emit("sdp",n);var r=new RTCSessionDescription({type:"answer",sdp:n.sdp});this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return t._connection.setRemoteDescription(r)}).then(function(){t._is_confirmed||t._confirmed("remote",e)}).catch(function(e){t.terminate({cause:f.causes.BAD_MEDIA_DESCRIPTION,status_code:488}),S('emit "peerconnection:setremotedescriptionfailed" [error:%o]',e),t.emit("peerconnection:setremotedescriptionfailed",e)})}else this._is_confirmed||this._confirmed("remote",e);break;case f.BYE:this._status===T.STATUS_CONFIRMED?(e.reply(200),this._ended("remote",e,f.causes.BYE)):this._status===T.STATUS_INVITE_RECEIVED?(e.reply(200),this._request.reply(487,"BYE Received"),this._ended("remote",e,f.causes.BYE)):e.reply(403,"Wrong Status");break;case f.INVITE:this._status===T.STATUS_CONFIRMED?e.hasHeader("replaces")?this._receiveReplaces(e):this._receiveReinvite(e):e.reply(403,"Wrong Status");break;case f.INFO:if(this._status===T.STATUS_1XX_RECEIVED||this._status===T.STATUS_WAITING_FOR_ANSWER||this._status===T.STATUS_ANSWERED||this._status===T.STATUS_WAITING_FOR_ACK||this._status===T.STATUS_CONFIRMED){var o=e.getHeader("content-type");o&&o.match(/^application\/dtmf-relay/i)?new _(this).init_incoming(e):void 0!==o?new b(this).init_incoming(e):e.reply(415)}else e.reply(403,"Wrong Status");break;case f.UPDATE:this._status===T.STATUS_CONFIRMED?this._receiveUpdate(e):e.reply(403,"Wrong Status");break;case f.REFER:this._status===T.STATUS_CONFIRMED?this._receiveRefer(e):e.reply(403,"Wrong Status");break;case f.NOTIFY:this._status===T.STATUS_CONFIRMED?this._receiveNotify(e):e.reply(403,"Wrong Status");break;default:e.reply(501)}}},{key:"onTransportError",value:function(){S("onTransportError()"),this._status!==T.STATUS_TERMINATED&&this.terminate({status_code:500,reason_phrase:f.causes.CONNECTION_ERROR,cause:f.causes.CONNECTION_ERROR})}},{key:"onRequestTimeout",value:function(){S("onRequestTimeout()"),this._status!==T.STATUS_TERMINATED&&this.terminate({status_code:408,reason_phrase:f.causes.REQUEST_TIMEOUT,cause:f.causes.REQUEST_TIMEOUT})}},{key:"onDialogError",value:function(){S("onDialogError()"),this._status!==T.STATUS_TERMINATED&&this.terminate({status_code:500,reason_phrase:f.causes.DIALOG_ERROR,cause:f.causes.DIALOG_ERROR})}},{key:"newDTMF",value:function(e){E("newDTMF()"),this.emit("newDTMF",e)}},{key:"newInfo",value:function(e){E("newInfo()"),this.emit("newInfo",e)}},{key:"_isReadyToReOffer",value:function(){return this._rtcReady?this._dialog?!0!==this._dialog.uac_pending_reply&&!0!==this._dialog.uas_pending_reply||(E("_isReadyToReOffer() | there is another INVITE/UPDATE transaction in progress"),!1):(E("_isReadyToReOffer() | session not established yet"),!1):(E("_isReadyToReOffer() | internal WebRTC status not ready"),!1)}},{key:"_close",value:function(){if(E("close()"),this._status!==T.STATUS_TERMINATED){if(this._status=T.STATUS_TERMINATED,this._connection)try{this._connection.close()}catch(e){S("close() | error closing the RTCPeerConnection: %o",e)}for(var e in this._localMediaStream&&this._localMediaStreamLocallyGenerated&&(E("close() | closing local MediaStream"),h.closeMediaStream(this._localMediaStream)),this._timers)Object.prototype.hasOwnProperty.call(this._timers,e)&&clearTimeout(this._timers[e]);for(var t in clearTimeout(this._sessionTimers.timer),this._dialog&&(this._dialog.terminate(),delete this._dialog),this._earlyDialogs)Object.prototype.hasOwnProperty.call(this._earlyDialogs,t)&&(this._earlyDialogs[t].terminate(),delete this._earlyDialogs[t]);for(var n in this._referSubscribers)Object.prototype.hasOwnProperty.call(this._referSubscribers,n)&&delete this._referSubscribers[n];this._ua.destroyRTCSession(this)}}},{key:"_setInvite2xxTimer",value:function(e,t){var n=v.T1;this._timers.invite2xxTimer=setTimeout(function r(){this._status===T.STATUS_WAITING_FOR_ACK&&(e.reply(200,null,["Contact: ".concat(this._contact)],t),n<v.T2&&(n*=2)>v.T2&&(n=v.T2),this._timers.invite2xxTimer=setTimeout(r.bind(this),n))}.bind(this),n)}},{key:"_setACKTimer",value:function(){var e=this;this._timers.ackTimer=setTimeout(function(){e._status===T.STATUS_WAITING_FOR_ACK&&(E("no ACK received, terminating the session"),clearTimeout(e._timers.invite2xxTimer),e.sendRequest(f.BYE),e._ended("remote",null,f.causes.NO_ACK))},v.TIMER_H)}},{key:"_createRTCConnection",value:function(e,t){var n=this;this._connection=new RTCPeerConnection(e,t),this._connection.addEventListener("iceconnectionstatechange",function(){"failed"===n._connection.iceConnectionState&&n.terminate({cause:f.causes.RTP_TIMEOUT,status_code:408,reason_phrase:f.causes.RTP_TIMEOUT})}),E('emit "peerconnection"'),this.emit("peerconnection",{peerconnection:this._connection})}},{key:"_createLocalDescription",value:function(e,t){var n=this;if(E("createLocalDescription()"),"offer"!==e&&"answer"!==e)throw new Error('createLocalDescription() | invalid type "'.concat(e,'"'));var r=this._connection;return this._rtcReady=!1,Promise.resolve().then(function(){return"offer"===e?r.createOffer(t).catch(function(e){return S('emit "peerconnection:createofferfailed" [error:%o]',e),n.emit("peerconnection:createofferfailed",e),Promise.reject(e)}):r.createAnswer(t).catch(function(e){return S('emit "peerconnection:createanswerfailed" [error:%o]',e),n.emit("peerconnection:createanswerfailed",e),Promise.reject(e)})}).then(function(e){return r.setLocalDescription(e).catch(function(e){return n._rtcReady=!0,S('emit "peerconnection:setlocaldescriptionfailed" [error:%o]',e),n.emit("peerconnection:setlocaldescriptionfailed",e),Promise.reject(e)})}).then(function(){if("complete"===r.iceGatheringState){n._rtcReady=!0;var t={originator:"local",type:e,sdp:r.localDescription.sdp};return E('emit "sdp"'),n.emit("sdp",t),Promise.resolve(t.sdp)}return new Promise(function(t){var o,i=!1,a=function(){r.removeEventListener("icecandidate",o),i=!0,n._rtcReady=!0;var a={originator:"local",type:e,sdp:r.localDescription.sdp};E('emit "sdp"'),n.emit("sdp",a),t(a.sdp)};r.addEventListener("icecandidate",o=function(e){var t=e.candidate;t?n.emit("icecandidate",{candidate:t,ready:a}):i||a()})})})}},{key:"_createDialog",value:function(e,t,n){var r="UAS"===t?e.to_tag:e.from_tag,o="UAS"===t?e.from_tag:e.to_tag,i=e.call_id+r+o,a=this._earlyDialogs[i];if(n)return!!a||((a=new g(this,e,t,g.C.STATUS_EARLY)).error?(E(a.error),this._failed("remote",e,f.causes.INTERNAL_ERROR),!1):(this._earlyDialogs[i]=a,!0));if(this._from_tag=e.from_tag,this._to_tag=e.to_tag,a)return a.update(e,t),this._dialog=a,delete this._earlyDialogs[i],!0;var s=new g(this,e,t);return s.error?(E(s.error),this._failed("remote",e,f.causes.INTERNAL_ERROR),!1):(this._dialog=s,!0)}},{key:"_receiveReinvite",value:function(e){var t=this;E("receiveReinvite()");var n=e.getHeader("Content-Type"),r={request:e,callback:void 0,reject:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o=!0;var n=t.status_code||403,r=t.reason_phrase||"",i=h.cloneArray(t.extraHeaders);if(this._status!==T.STATUS_CONFIRMED)return!1;if(n<300||n>=700)throw new TypeError("Invalid status_code: ".concat(n));e.reply(n,r,i)}.bind(this)},o=!1;if(this.emit("reinvite",r),!o){if(this._late_sdp=!1,!e.body)return this._late_sdp=!0,void(this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return t._createLocalDescription("offer",t._rtcOfferConstraints)}).then(function(e){i.call(t,e)}).catch(function(){e.reply(500)}));if("application/sdp"!==n)return E("invalid Content-Type"),void e.reply(415);this._processInDialogSdpOffer(e).then(function(e){t._status!==T.STATUS_TERMINATED&&i.call(t,e)}).catch(function(e){S(e)})}function i(t){var n=this,o=["Contact: ".concat(this._contact)];this._handleSessionTimersInIncomingRequest(e,o),this._late_sdp&&(t=this._mangleOffer(t)),e.reply(200,null,o,t,function(){n._status=T.STATUS_WAITING_FOR_ACK,n._setInvite2xxTimer(e,t),n._setACKTimer()}),"function"==typeof r.callback&&r.callback()}}},{key:"_receiveUpdate",value:function(e){var t=this;E("receiveUpdate()");var n=e.getHeader("Content-Type"),r={request:e,callback:void 0,reject:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o=!0;var n=t.status_code||403,r=t.reason_phrase||"",i=h.cloneArray(t.extraHeaders);if(this._status!==T.STATUS_CONFIRMED)return!1;if(n<300||n>=700)throw new TypeError("Invalid status_code: ".concat(n));e.reply(n,r,i)}.bind(this)},o=!1;if(this.emit("update",r),!o)if(e.body){if("application/sdp"!==n)return E("invalid Content-Type"),void e.reply(415);this._processInDialogSdpOffer(e).then(function(e){t._status!==T.STATUS_TERMINATED&&i.call(t,e)}).catch(function(e){S(e)})}else i.call(this,null);function i(t){var n=["Contact: ".concat(this._contact)];this._handleSessionTimersInIncomingRequest(e,n),e.reply(200,null,n,t),"function"==typeof r.callback&&r.callback()}}},{key:"_processInDialogSdpOffer",value:function(e){var t=this;E("_processInDialogSdpOffer()");var n=e.parseSDP(),r=!1,o=!0,i=!1,a=void 0;try{for(var s,u=n.media[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;if(-1!==w.indexOf(c.type)){var l=c.direction||n.direction||"sendrecv";if("sendonly"!==l&&"inactive"!==l){r=!1;break}r=!0}}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}var f={originator:"remote",type:"offer",sdp:e.body};E('emit "sdp"'),this.emit("sdp",f);var p=new RTCSessionDescription({type:"offer",sdp:f.sdp});return this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){if(t._status===T.STATUS_TERMINATED)throw new Error("terminated");return t._connection.setRemoteDescription(p).catch(function(n){throw e.reply(488),S('emit "peerconnection:setremotedescriptionfailed" [error:%o]',n),t.emit("peerconnection:setremotedescriptionfailed",n),new Error("peerconnection.setRemoteDescription() failed")})}).then(function(){if(t._status===T.STATUS_TERMINATED)throw new Error("terminated");!0===t._remoteHold&&!1===r?(t._remoteHold=!1,t._onunhold("remote")):!1===t._remoteHold&&!0===r&&(t._remoteHold=!0,t._onhold("remote"))}).then(function(){if(t._status===T.STATUS_TERMINATED)throw new Error("terminated");return t._createLocalDescription("answer",t._rtcAnswerConstraints).catch(function(){throw e.reply(500),new Error("_createLocalDescription() failed")})}),this._connectionPromiseQueue}},{key:"_receiveRefer",value:function(e){var n=this;if(E("receiveRefer()"),!e.refer_to)return E("no Refer-To header field present in REFER"),void e.reply(400);if(e.refer_to.uri.scheme!==f.SIP)return E("Refer-To header field points to a non-SIP URI scheme"),void e.reply(416);e.reply(202);var r=new C(this,e.cseq);E('emit "refer"'),this.emit("refer",{request:e,accept:function(o,i){(function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n="function"==typeof n?n:null,this._status!==T.STATUS_WAITING_FOR_ACK&&this._status!==T.STATUS_CONFIRMED)return!1;var i=new t(this._ua);if(i.on("progress",function(e){var t=e.response;r.notify(t.status_code,t.reason_phrase)}),i.on("accepted",function(e){var t=e.response;r.notify(t.status_code,t.reason_phrase)}),i.on("_failed",function(e){var t=e.message,n=e.cause;t?r.notify(t.status_code,t.reason_phrase):r.notify(487,n)}),e.refer_to.uri.hasHeader("replaces")){var a=decodeURIComponent(e.refer_to.uri.getHeader("replaces"));o.extraHeaders=h.cloneArray(o.extraHeaders),o.extraHeaders.push("Replaces: ".concat(a))}i.connect(e.refer_to.uri.toAor(),o,n)}).call(n,o,i)},reject:function(){(function(){r.notify(603)}).call(n)}})}},{key:"_receiveNotify",value:function(e){switch(E("receiveNotify()"),e.event||e.reply(400),e.event.event){case"refer":var t,n;if(e.event.params&&e.event.params.id)t=e.event.params.id,n=this._referSubscribers[t];else{if(1!==Object.keys(this._referSubscribers).length)return void e.reply(400,"Missing event id parameter");n=this._referSubscribers[Object.keys(this._referSubscribers)[0]]}if(!n)return void e.reply(481,"Subscription does not exist");n.receiveNotify(e),e.reply(200);break;default:e.reply(489)}}},{key:"_receiveReplaces",value:function(e){var n=this;E("receiveReplaces()"),this.emit("replaces",{request:e,accept:function(r){(function(n){var r=this;if(this._status!==T.STATUS_WAITING_FOR_ACK&&this._status!==T.STATUS_CONFIRMED)return!1;var o=new t(this._ua);o.on("confirmed",function(){r.terminate()}),o.init_incoming(e,n)}).call(n,r)},reject:function(){(function(){E("Replaced INVITE rejected by the user"),e.reply(486)}).call(n)}})}},{key:"_sendInitialRequest",value:function(e,t,n){var r=this,o=new y(this._ua,this._request,{onRequestTimeout:function(){r.onRequestTimeout()},onTransportError:function(){r.onTransportError()},onAuthenticated:function(e){r._request=e},onReceiveResponse:function(e){r._receiveInviteResponse(e)}});Promise.resolve().then(function(){return n||(e.audio||e.video?(r._localMediaStreamLocallyGenerated=!0,navigator.mediaDevices.getUserMedia(e).catch(function(e){if(r._status===T.STATUS_TERMINATED)throw new Error("terminated");throw r._failed("local",null,f.causes.USER_DENIED_MEDIA_ACCESS),S('emit "getusermediafailed" [error:%o]',e),r.emit("getusermediafailed",e),e})):void 0)}).then(function(e){if(r._status===T.STATUS_TERMINATED)throw new Error("terminated");return r._localMediaStream=e,e&&e.getTracks().forEach(function(t){r._connection.addTrack(t,e)}),r._connecting(r._request),r._createLocalDescription("offer",t).catch(function(e){throw r._failed("local",null,f.causes.WEBRTC_ERROR),e})}).then(function(e){if(r._is_canceled||r._status===T.STATUS_TERMINATED)throw new Error("terminated");r._request.body=e,r._status=T.STATUS_INVITE_SENT,E('emit "sending" [request:%o]',r._request),r.emit("sending",{request:r._request}),o.send()}).catch(function(e){r._status!==T.STATUS_TERMINATED&&S(e)})}},{key:"_receiveInviteResponse",value:function(e){var t=this;if(E("receiveInviteResponse()"),this._dialog&&e.status_code>=200&&e.status_code<=299){if(this._dialog.id.call_id===e.call_id&&this._dialog.id.local_tag===e.from_tag&&this._dialog.id.remote_tag===e.to_tag)return void this.sendRequest(f.ACK);var n=new g(this,e,"UAC");return void 0!==n.error?void E(n.error):(this.sendRequest(f.ACK),void this.sendRequest(f.BYE))}if(this._is_canceled)e.status_code>=100&&e.status_code<200?this._request.cancel(this._cancel_reason):e.status_code>=200&&e.status_code<299&&this._acceptAndTerminate(e);else if(this._status===T.STATUS_INVITE_SENT||this._status===T.STATUS_1XX_RECEIVED)switch(!0){case/^100$/.test(e.status_code):this._status=T.STATUS_1XX_RECEIVED;break;case/^1[0-9]{2}$/.test(e.status_code):if(!e.to_tag){E("1xx response received without to tag");break}if(e.hasHeader("contact")&&!this._createDialog(e,"UAC",!0))break;if(this._status=T.STATUS_1XX_RECEIVED,this._progress("remote",e),!e.body)break;var r={originator:"remote",type:"answer",sdp:e.body};E('emit "sdp"'),this.emit("sdp",r);var o=new RTCSessionDescription({type:"answer",sdp:r.sdp});this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return t._connection.setRemoteDescription(o)}).catch(function(e){S('emit "peerconnection:setremotedescriptionfailed" [error:%o]',e),t.emit("peerconnection:setremotedescriptionfailed",e)});break;case/^2[0-9]{2}$/.test(e.status_code):if(this._status=T.STATUS_CONFIRMED,!e.body){this._acceptAndTerminate(e,400,f.causes.MISSING_SDP),this._failed("remote",e,f.causes.BAD_MEDIA_DESCRIPTION);break}if(!this._createDialog(e,"UAC"))break;var i={originator:"remote",type:"answer",sdp:e.body};E('emit "sdp"'),this.emit("sdp",i);var a=new RTCSessionDescription({type:"answer",sdp:i.sdp});this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){if("stable"===t._connection.signalingState)return t._connection.createOffer(t._rtcOfferConstraints).then(function(e){return t._connection.setLocalDescription(e)}).catch(function(n){t._acceptAndTerminate(e,500,n.toString()),t._failed("local",e,f.causes.WEBRTC_ERROR)})}).then(function(){t._connection.setRemoteDescription(a).then(function(){t._handleSessionTimersInIncomingResponse(e),t._accepted("remote",e),t.sendRequest(f.ACK),t._confirmed("local",null)}).catch(function(n){t._acceptAndTerminate(e,488,"Not Acceptable Here"),t._failed("remote",e,f.causes.BAD_MEDIA_DESCRIPTION),S('emit "peerconnection:setremotedescriptionfailed" [error:%o]',n),t.emit("peerconnection:setremotedescriptionfailed",n)})});break;default:var s=h.sipErrorCause(e.status_code);this._failed("remote",e,s)}}},{key:"_sendReinvite",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};E("sendReinvite()");var n=h.cloneArray(t.extraHeaders),r=t.eventHandlers||{},o=t.rtcOfferConstraints||this._rtcOfferConstraints||null,i=!1;function a(e){r.failed&&r.failed(e)}n.push("Contact: ".concat(this._contact)),n.push("Content-Type: application/sdp"),this._sessionTimers.running&&n.push("Session-Expires: ".concat(this._sessionTimers.currentExpires,";refresher=").concat(this._sessionTimers.refresher?"uac":"uas")),this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return e._createLocalDescription("offer",o)}).then(function(t){var o={originator:"local",type:"offer",sdp:t=e._mangleOffer(t)};E('emit "sdp"'),e.emit("sdp",o),e.sendRequest(f.INVITE,{extraHeaders:n,body:t,eventHandlers:{onSuccessResponse:function(t){(function(e){var t=this;if(this._status===T.STATUS_TERMINATED)return;if(this.sendRequest(f.ACK),i)return;if(this._handleSessionTimersInIncomingResponse(e),!e.body)return void a.call(this);if("application/sdp"!==e.getHeader("Content-Type"))return void a.call(this);var n={originator:"remote",type:"answer",sdp:e.body};E('emit "sdp"'),this.emit("sdp",n);var o=new RTCSessionDescription({type:"answer",sdp:n.sdp});this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return t._connection.setRemoteDescription(o)}).then(function(){r.succeeded&&r.succeeded(e)}).catch(function(e){a.call(t),S('emit "peerconnection:setremotedescriptionfailed" [error:%o]',e),t.emit("peerconnection:setremotedescriptionfailed",e)})}).call(e,t),i=!0},onErrorResponse:function(t){a.call(e,t)},onTransportError:function(){e.onTransportError()},onRequestTimeout:function(){e.onRequestTimeout()},onDialogError:function(){e.onDialogError()}}})}).catch(function(){a()})}},{key:"_sendUpdate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};E("sendUpdate()");var n=h.cloneArray(t.extraHeaders),r=t.eventHandlers||{},o=t.rtcOfferConstraints||this._rtcOfferConstraints||null,i=t.sdpOffer||!1,a=!1;function s(e){var t=this;if(this._status!==T.STATUS_TERMINATED&&!a)if(this._handleSessionTimersInIncomingResponse(e),i){if(!e.body)return void u.call(this);if("application/sdp"!==e.getHeader("Content-Type"))return void u.call(this);var n={originator:"remote",type:"answer",sdp:e.body};E('emit "sdp"'),this.emit("sdp",n);var o=new RTCSessionDescription({type:"answer",sdp:n.sdp});this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return t._connection.setRemoteDescription(o)}).then(function(){r.succeeded&&r.succeeded(e)}).catch(function(e){u.call(t),S('emit "peerconnection:setremotedescriptionfailed" [error:%o]',e),t.emit("peerconnection:setremotedescriptionfailed",e)})}else r.succeeded&&r.succeeded(e)}function u(e){r.failed&&r.failed(e)}n.push("Contact: ".concat(this._contact)),this._sessionTimers.running&&n.push("Session-Expires: ".concat(this._sessionTimers.currentExpires,";refresher=").concat(this._sessionTimers.refresher?"uac":"uas")),i?(n.push("Content-Type: application/sdp"),this._connectionPromiseQueue=this._connectionPromiseQueue.then(function(){return e._createLocalDescription("offer",o)}).then(function(t){var r={originator:"local",type:"offer",sdp:t=e._mangleOffer(t)};E('emit "sdp"'),e.emit("sdp",r),e.sendRequest(f.UPDATE,{extraHeaders:n,body:t,eventHandlers:{onSuccessResponse:function(t){s.call(e,t),a=!0},onErrorResponse:function(t){u.call(e,t)},onTransportError:function(){e.onTransportError()},onRequestTimeout:function(){e.onRequestTimeout()},onDialogError:function(){e.onDialogError()}}})}).catch(function(){u.call(e)})):this.sendRequest(f.UPDATE,{extraHeaders:n,eventHandlers:{onSuccessResponse:function(t){s.call(e,t)},onErrorResponse:function(t){u.call(e,t)},onTransportError:function(){e.onTransportError()},onRequestTimeout:function(){e.onRequestTimeout()},onDialogError:function(){e.onDialogError()}}})}},{key:"_acceptAndTerminate",value:function(e,t,n){E("acceptAndTerminate()");var r=[];t&&(n=n||f.REASON_PHRASE[t]||"",r.push("Reason: SIP ;cause=".concat(t,'; text="').concat(n,'"'))),(this._dialog||this._createDialog(e,"UAC"))&&(this.sendRequest(f.ACK),this.sendRequest(f.BYE,{extraHeaders:r})),this._status=T.STATUS_TERMINATED}},{key:"_mangleOffer",value:function(e){if(!this._localHold&&!this._remoteHold)return e;if(e=l.parse(e),this._localHold&&!this._remoteHold){E("mangleOffer() | me on hold, mangling offer");var t=!0,n=!1,r=void 0;try{for(var o,i=e.media[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;-1!==w.indexOf(a.type)&&(a.direction?"sendrecv"===a.direction?a.direction="sendonly":"recvonly"===a.direction&&(a.direction="inactive"):a.direction="sendonly")}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}else if(this._localHold&&this._remoteHold){E("mangleOffer() | both on hold, mangling offer");var s=!0,u=!1,c=void 0;try{for(var f,p=e.media[Symbol.iterator]();!(s=(f=p.next()).done);s=!0){var d=f.value;-1!==w.indexOf(d.type)&&(d.direction="inactive")}}catch(e){u=!0,c=e}finally{try{s||null==p.return||p.return()}finally{if(u)throw c}}}else if(this._remoteHold){E("mangleOffer() | remote on hold, mangling offer");var h=!0,v=!1,m=void 0;try{for(var g,y=e.media[Symbol.iterator]();!(h=(g=y.next()).done);h=!0){var _=g.value;-1!==w.indexOf(_.type)&&(_.direction?"sendrecv"===_.direction?_.direction="recvonly":"recvonly"===_.direction&&(_.direction="inactive"):_.direction="recvonly")}}catch(e){v=!0,m=e}finally{try{h||null==y.return||y.return()}finally{if(v)throw m}}}return l.write(e)}},{key:"_setLocalMediaStatus",value:function(){var e=!0,t=!0;(this._localHold||this._remoteHold)&&(e=!1,t=!1),this._audioMuted&&(e=!1),this._videoMuted&&(t=!1),this._toggleMuteAudio(!e),this._toggleMuteVideo(!t)}},{key:"_handleSessionTimersInIncomingRequest",value:function(e,t){var n;this._sessionTimers.enabled&&(e.session_expires&&e.session_expires>=f.MIN_SESSION_EXPIRES?(this._sessionTimers.currentExpires=e.session_expires,n=e.session_expires_refresher||"uas"):(this._sessionTimers.currentExpires=this._sessionTimers.defaultExpires,n="uas"),t.push("Session-Expires: ".concat(this._sessionTimers.currentExpires,";refresher=").concat(n)),this._sessionTimers.refresher="uas"===n,this._runSessionTimer())}},{key:"_handleSessionTimersInIncomingResponse",value:function(e){var t;this._sessionTimers.enabled&&(e.session_expires&&e.session_expires>=f.MIN_SESSION_EXPIRES?(this._sessionTimers.currentExpires=e.session_expires,t=e.session_expires_refresher||"uac"):(this._sessionTimers.currentExpires=this._sessionTimers.defaultExpires,t="uac"),this._sessionTimers.refresher="uac"===t,this._runSessionTimer())}},{key:"_runSessionTimer",value:function(){var e=this,t=this._sessionTimers.currentExpires;this._sessionTimers.running=!0,clearTimeout(this._sessionTimers.timer),this._sessionTimers.refresher?this._sessionTimers.timer=setTimeout(function(){e._status!==T.STATUS_TERMINATED&&(E("runSessionTimer() | sending session refresh request"),e._sessionTimers.refreshMethod===f.UPDATE?e._sendUpdate():e._sendReinvite())},500*t):this._sessionTimers.timer=setTimeout(function(){e._status!==T.STATUS_TERMINATED&&(S("runSessionTimer() | timer expired, terminating the session"),e.terminate({cause:f.causes.REQUEST_TIMEOUT,status_code:408,reason_phrase:"Session Timer Expired"}))},1100*t)}},{key:"_toggleMuteAudio",value:function(e){var t=this._connection.getSenders().filter(function(e){return e.track&&"audio"===e.track.kind}),n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){i.value.track.enabled=!e}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}},{key:"_toggleMuteVideo",value:function(e){var t=this._connection.getSenders().filter(function(e){return e.track&&"video"===e.track.kind}),n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){i.value.track.enabled=!e}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}},{key:"_newRTCSession",value:function(e,t){E("newRTCSession()"),this._ua.newRTCSession(this,{originator:e,session:this,request:t})}},{key:"_connecting",value:function(e){E("session connecting"),E('emit "connecting"'),this.emit("connecting",{request:e})}},{key:"_progress",value:function(e,t){E("session progress"),E('emit "progress"'),this.emit("progress",{originator:e,response:t||null})}},{key:"_accepted",value:function(e,t){E("session accepted"),this._start_time=new Date,E('emit "accepted"'),this.emit("accepted",{originator:e,response:t||null})}},{key:"_confirmed",value:function(e,t){E("session confirmed"),this._is_confirmed=!0,E('emit "confirmed"'),this.emit("confirmed",{originator:e,ack:t||null})}},{key:"_ended",value:function(e,t,n){E("session ended"),this._end_time=new Date,this._close(),E('emit "ended"'),this.emit("ended",{originator:e,message:t||null,cause:n})}},{key:"_failed",value:function(e,t,n){E("session failed"),E('emit "_failed"'),this.emit("_failed",{originator:e,message:t||null,cause:n}),this._close(),E('emit "failed"'),this.emit("failed",{originator:e,message:t||null,cause:n})}},{key:"_onhold",value:function(e){E("session onhold"),this._setLocalMediaStatus(),E('emit "hold"'),this.emit("hold",{originator:e})}},{key:"_onunhold",value:function(e){E("session onunhold"),this._setLocalMediaStatus(),E('emit "unhold"'),this.emit("unhold",{originator:e})}},{key:"_onmute",value:function(e){var t=e.audio,n=e.video;E("session onmute"),this._setLocalMediaStatus(),E('emit "muted"'),this.emit("muted",{audio:t,video:n})}},{key:"_onunmute",value:function(e){var t=e.audio,n=e.video;E("session onunmute"),this._setLocalMediaStatus(),E('emit "unmuted"'),this.emit("unmuted",{audio:t,video:n})}},{key:"C",get:function(){return T}},{key:"causes",get:function(){return f.causes}},{key:"id",get:function(){return this._id}},{key:"connection",get:function(){return this._connection}},{key:"contact",get:function(){return this._contact}},{key:"direction",get:function(){return this._direction}},{key:"local_identity",get:function(){return this._local_identity}},{key:"remote_identity",get:function(){return this._remote_identity}},{key:"start_time",get:function(){return this._start_time}},{key:"end_time",get:function(){return this._end_time}},{key:"data",get:function(){return this._data},set:function(e){this._data=e}},{key:"status",get:function(){return this._status}}]),t}()},function(e,t,n){"use strict";var r=n(13),o=n(16),i=n(6)("JsSIP:ERROR:Socket");i.log=console.warn.bind(console),t.isSocket=function(e){if(Array.isArray(e))return!1;if(void 0===e)return i("undefined JsSIP.Socket instance"),!1;try{if(!r.isString(e.url))throw i("missing or invalid JsSIP.Socket url property"),new Error;if(!r.isString(e.via_transport))throw i("missing or invalid JsSIP.Socket via_transport property"),new Error;if(-1===o.parse(e.sip_uri,"SIP_URI"))throw i("missing or invalid JsSIP.Socket sip_uri property"),new Error}catch(e){return!1}try{["connect","disconnect","send"].forEach(function(t){if(!r.isFunction(e[t]))throw i("missing or invalid JsSIP.Socket method: ".concat(t)),new Error})}catch(e){return!1}return!0}},function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,o=e.indexOf("["),i=e.indexOf("]");-1!=o&&-1!=i&&(e=e.substring(0,o)+e.substring(o,i).replace(/:/g,";")+e.substring(i,e.length));for(var a=n.exec(e||""),s={},u=14;u--;)s[r[u]]=a[u]||"";return-1!=o&&-1!=i&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},function(e,t,n){(function(t){e.exports=function(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}}).call(this,n(12))},function(e,t,n){var r=n(274),o=n(125),i=n(41),a=n(71),s=n(126),u=n(127),c=n(49)("socket.io-client:manager"),l=n(124),f=n(293),p=Object.prototype.hasOwnProperty;function d(e,t){if(!(this instanceof d))return new d(e,t);e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new f({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new a.Encoder,this.decoder=new a.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=d,d.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)p.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},d.prototype.updateSocketIds=function(){for(var e in this.nsps)p.call(this.nsps,e)&&(this.nsps[e].id=this.engine.id)},i(d.prototype),d.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},d.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},d.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},d.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},d.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},d.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},d.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},d.prototype.open=d.prototype.connect=function(e,t){if(c("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,o=this;this.readyState="opening",this.skipReconnect=!1;var i=s(n,"open",function(){o.onopen(),e&&e()}),a=s(n,"error",function(t){if(c("connect_error"),o.cleanup(),o.readyState="closed",o.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else o.maybeReconnectOnOpen()});if(!1!==this._timeout){var u=this._timeout;c("connect attempt will timeout after %d",u);var l=setTimeout(function(){c("connect attempt timed out after %d",u),i.destroy(),n.close(),n.emit("error","timeout"),o.emitAll("connect_timeout",u)},u);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(i),this.subs.push(a),this},d.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(s(e,"data",u(this,"ondata"))),this.subs.push(s(e,"ping",u(this,"onping"))),this.subs.push(s(e,"pong",u(this,"onpong"))),this.subs.push(s(e,"error",u(this,"onerror"))),this.subs.push(s(e,"close",u(this,"onclose"))),this.subs.push(s(this.decoder,"decoded",u(this,"ondecoded")))},d.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},d.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},d.prototype.ondata=function(e){this.decoder.add(e)},d.prototype.ondecoded=function(e){this.emit("packet",e)},d.prototype.onerror=function(e){c("error",e),this.emitAll("error",e)},d.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new o(this,e,t),this.nsps[e]=n;var r=this;n.on("connecting",i),n.on("connect",function(){n.id=r.engine.id}),this.autoConnect&&i()}function i(){~l(r.connecting,n)||r.connecting.push(n)}return n},d.prototype.destroy=function(e){var t=l(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},d.prototype.packet=function(e){c("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()}))},d.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},d.prototype.cleanup=function(){c("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},d.prototype.close=d.prototype.disconnect=function(){c("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},d.prototype.onclose=function(e){c("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},d.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();c("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(c("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(c("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(c("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},d.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){(function(e){var r=n(72),o=n(278),i=n(288),a=n(289);t.polling=function(t){var n=!1,a=!1,s=!1!==t.jsonp;if(e.location){var u="https:"===location.protocol,c=location.port;c||(c=u?443:80),n=t.hostname!==location.hostname||c!==t.port,a=t.secure!==u}if(t.xdomain=n,t.xscheme=a,"open"in new r(t)&&!t.forceJSONP)return new o(t);if(!s)throw new Error("JSONP disabled");return new i(t)},t.websocket=a}).call(this,n(12))},function(e,t,n){var r=n(73),o=n(74),i=n(33),a=n(50),s=n(123),u=n(51)("engine.io-client:polling");e.exports=l;var c=null!=new(n(72))({xdomain:!1}).responseType;function l(e){var t=e&&e.forceBase64;c&&!t||(this.supportsBinary=!1),r.call(this,e)}a(l,r),l.prototype.name="polling",l.prototype.doOpen=function(){this.poll()},l.prototype.pause=function(e){var t=this;function n(){u("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(u("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){u("pre-pause polling complete"),--r||n()})),this.writable||(u("we are currently writing - waiting to pause"),r++,this.once("drain",function(){u("pre-pause writing complete"),--r||n()}))}else n()},l.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},l.prototype.onData=function(e){var t=this;u("polling got data %s",e);i.decodePayload(e,this.socket.binaryType,function(e,n,r){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},l.prototype.doClose=function(){var e=this;function t(){u("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(u("transport open - closing"),t()):(u("transport not open - deferring close"),this.once("open",t))},l.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};i.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},l.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){(function(t){var r=n(280);e.exports=function(e){return function e(n){if(!n)return!1;if(t.Buffer&&t.Buffer.isBuffer&&t.Buffer.isBuffer(n)||t.ArrayBuffer&&n instanceof ArrayBuffer||t.Blob&&n instanceof Blob||t.File&&n instanceof File)return!0;if(r(n)){for(var o=0;o<n.length;o++)if(e(n[o]))return!0}else if(n&&"object"==typeof n)for(var i in n.toJSON&&"function"==typeof n.toJSON&&(n=n.toJSON()),n)if(Object.prototype.hasOwnProperty.call(n,i)&&e(n[i]))return!0;return!1}(e)}}).call(this,n(12))},function(e,t,n){"use strict";var r,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i=64,a={},s=0,u=0;function c(e){var t="";do{t=o[e%i]+t,e=Math.floor(e/i)}while(e>0);return t}function l(){var e=c(+new Date);return e!==r?(s=0,r=e):e+"."+c(s++)}for(;u<i;u++)a[o[u]]=u;l.encode=c,l.decode=function(e){var t=0;for(u=0;u<e.length;u++)t=t*i+a[e.charAt(u)];return t},e.exports=l},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(71),o=n(41),i=n(292),a=n(126),s=n(127),u=n(49)("socket.io-client:socket"),c=n(122);e.exports=p;var l={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},f=o.prototype.emit;function p(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}o(p.prototype),p.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[a(e,"open",s(this,"onopen")),a(e,"packet",s(this,"onpacket")),a(e,"close",s(this,"onclose"))]}},p.prototype.open=p.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},p.prototype.send=function(){var e=i(arguments);return e.unshift("message"),this.emit.apply(this,e),this},p.prototype.emit=function(e){if(l.hasOwnProperty(e))return f.apply(this,arguments),this;var t=i(arguments),n=r.EVENT;c(t)&&(n=r.BINARY_EVENT);var o={type:n,data:t,options:{}};return o.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),o.id=this.ids++),this.connected?this.packet(o):this.sendBuffer.push(o),delete this.flags,this},p.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},p.prototype.onopen=function(){u("transport is open - connecting"),"/"!==this.nsp&&(this.query?this.packet({type:r.CONNECT,query:this.query}):this.packet({type:r.CONNECT}))},p.prototype.onclose=function(e){u("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},p.prototype.onpacket=function(e){if(e.nsp===this.nsp)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},p.prototype.onevent=function(e){var t=e.data||[];u("emitting event %j",t),null!=e.id&&(u("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?f.apply(this,t):this.receiveBuffer.push(t)},p.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var o=i(arguments);u("sending ack %j",o);var a=c(o)?r.BINARY_ACK:r.ACK;t.packet({type:a,id:e,data:o})}}},p.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(u("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):u("bad ack %s",e.id)},p.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},p.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)f.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},p.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},p.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},p.prototype.close=p.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},p.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},function(e,t){e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return t.apply(e,r.concat(n.call(arguments)))}}},function(e,t,n){var r;e.exports=(r=n(19),r.enc.Utf8)},function(e,t,n){var r;e.exports=(r=n(19),r.enc.Hex)},function(e,t,n){},function(e,t,n){"use strict";(function(t){var r=n(132);e.exports=r({window:t.window})}).call(this,n(12))},function(e,t,n){"use strict";var r=n(20);e.exports=function(e,t){var o=e&&e.window,i={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0};for(var a in t)hasOwnProperty.call(t,a)&&(i[a]=t[a]);var s=r.log,u=r.detectBrowser(o),c=n(133)||null,l=n(135)||null,f=n(139)||null,p=n(141)||null,d=n(142)||null,h={browserDetails:u,commonShim:d,extractVersion:r.extractVersion,disableLog:r.disableLog,disableWarnings:r.disableWarnings};switch(u.browser){case"chrome":if(!c||!c.shimPeerConnection||!i.shimChrome)return s("Chrome shim is not included in this adapter release."),h;s("adapter.js shimming chrome."),h.browserShim=c,d.shimCreateObjectURL(o),c.shimGetUserMedia(o),c.shimMediaStream(o),c.shimSourceObject(o),c.shimPeerConnection(o),c.shimOnTrack(o),c.shimAddTrackRemoveTrack(o),c.shimGetSendersWithDtmf(o),c.shimSenderReceiverGetStats(o),c.fixNegotiationNeeded(o),d.shimRTCIceCandidate(o),d.shimMaxMessageSize(o),d.shimSendThrowTypeError(o);break;case"firefox":if(!f||!f.shimPeerConnection||!i.shimFirefox)return s("Firefox shim is not included in this adapter release."),h;s("adapter.js shimming firefox."),h.browserShim=f,d.shimCreateObjectURL(o),f.shimGetUserMedia(o),f.shimSourceObject(o),f.shimPeerConnection(o),f.shimOnTrack(o),f.shimRemoveStream(o),f.shimSenderGetStats(o),f.shimReceiverGetStats(o),f.shimRTCDataChannel(o),d.shimRTCIceCandidate(o),d.shimMaxMessageSize(o),d.shimSendThrowTypeError(o);break;case"edge":if(!l||!l.shimPeerConnection||!i.shimEdge)return s("MS edge shim is not included in this adapter release."),h;s("adapter.js shimming edge."),h.browserShim=l,d.shimCreateObjectURL(o),l.shimGetUserMedia(o),l.shimPeerConnection(o),l.shimReplaceTrack(o),l.shimGetDisplayMedia(o),d.shimMaxMessageSize(o),d.shimSendThrowTypeError(o);break;case"safari":if(!p||!i.shimSafari)return s("Safari shim is not included in this adapter release."),h;s("adapter.js shimming safari."),h.browserShim=p,d.shimCreateObjectURL(o),p.shimRTCIceServerUrls(o),p.shimCreateOfferLegacy(o),p.shimCallbacksAPI(o),p.shimLocalStreamsAPI(o),p.shimRemoteStreamsAPI(o),p.shimTrackEventTransceiver(o),p.shimGetUserMedia(o),d.shimRTCIceCandidate(o),d.shimMaxMessageSize(o),d.shimSendThrowTypeError(o);break;default:s("Unsupported browser!")}return h}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(20),i=o.log;function a(e,t,n){var r=n?"outbound-rtp":"inbound-rtp",o=new Map;if(null===t)return o;var i=[];return e.forEach(function(e){"track"===e.type&&e.trackIdentifier===t.id&&i.push(e)}),i.forEach(function(t){e.forEach(function(n){n.type===r&&n.trackId===t.id&&function e(t,n,r){n&&!r.has(n.id)&&(r.set(n.id,n),Object.keys(n).forEach(function(o){o.endsWith("Id")?e(t,t.get(n[o]),r):o.endsWith("Ids")&&n[o].forEach(function(n){e(t,t.get(n),r)})}))}(e,n,o)})}),o}e.exports={shimGetUserMedia:n(134),shimMediaStream:function(e){e.MediaStream=e.MediaStream||e.webkitMediaStream},shimOnTrack:function(e){if("object"!==r(e)||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype)o.wrapPeerConnectionEvent(e,"track",function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e});else{Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return n._ontrackpoly||(n._ontrackpoly=function(t){t.stream.addEventListener("addtrack",function(r){var o;o=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find(function(e){return e.track&&e.track.id===r.track.id}):{track:r.track};var i=new Event("track");i.track=r.track,i.receiver=o,i.transceiver={receiver:o},i.streams=[t.stream],n.dispatchEvent(i)}),t.stream.getTracks().forEach(function(r){var o;o=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find(function(e){return e.track&&e.track.id===r.id}):{track:r};var i=new Event("track");i.track=r,i.receiver=o,i.transceiver={receiver:o},i.streams=[t.stream],n.dispatchEvent(i)})},n.addEventListener("addstream",n._ontrackpoly)),t.apply(n,arguments)}}},shimGetSendersWithDtmf:function(e){if("object"===r(e)&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){var o=n.apply(this,arguments);return o||(o=t(this,e),this._senders.push(o)),o};var o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){o.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;n._senders=n._senders||[],i.apply(n,[e]),e.getTracks().forEach(function(e){n._senders.push(t(n,e))})};var a=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;t._senders=t._senders||[],a.apply(t,[e]),e.getTracks().forEach(function(e){var n=t._senders.find(function(t){return t.track===e});n&&t._senders.splice(t._senders.indexOf(n),1)})}}else if("object"===r(e)&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var s=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=s.apply(e,[]);return t.forEach(function(t){t._pc=e}),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}},shimSenderReceiverGetStats:function(e){if("object"===r(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(e,[]);return n.forEach(function(t){t._pc=e}),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then(function(t){return a(t,e.track,!0)})}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var i=e.RTCPeerConnection.prototype.getReceivers;i&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=i.apply(e,[]);return t.forEach(function(t){t._pc=e}),t}),o.wrapPeerConnectionEvent(e,"track",function(e){return e.receiver._pc=e.srcElement,e}),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then(function(t){return a(t,e.track,!1)})}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var s=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var t,n,r,o=arguments[0];return this.getSenders().forEach(function(e){e.track===o&&(t?r=!0:t=e)}),this.getReceivers().forEach(function(e){return e.track===o&&(n?r=!0:n=e),e.track===o}),r||t&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return s.apply(this,arguments)}}}},shimSourceObject:function(e){var t=e&&e.URL;"object"===r(e)&&(!e.HTMLMediaElement||"srcObject"in e.HTMLMediaElement.prototype||Object.defineProperty(e.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(e){var n=this;this._srcObject=e,this.src&&t.revokeObjectURL(this.src),e?(this.src=t.createObjectURL(e),e.addEventListener("addtrack",function(){n.src&&t.revokeObjectURL(n.src),n.src=t.createObjectURL(e)}),e.addEventListener("removetrack",function(){n.src&&t.revokeObjectURL(n.src),n.src=t.createObjectURL(e)})):this.src=""}}))},shimAddTrackRemoveTrackWithNative:function(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(t){return e._shimmedLocalStreams[t][0]})};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(function(e){if(t.getSenders().find(function(t){return t.track===e}))throw new DOMException("Track already exists.","InvalidAccessError")});var r=t.getSenders();n.apply(this,arguments);var o=t.getSenders().filter(function(e){return-1===r.indexOf(e)});this._shimmedLocalStreams[e.id]=[e].concat(o)};var r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};var o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach(function(n){var r=t._shimmedLocalStreams[n].indexOf(e);-1!==r&&t._shimmedLocalStreams[n].splice(r,1),1===t._shimmedLocalStreams[n].length&&delete t._shimmedLocalStreams[n]}),o.apply(this,arguments)}},shimAddTrackRemoveTrack:function(e){if(e.RTCPeerConnection){var t=o.detectBrowser(e);if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return this.shimAddTrackRemoveTrackWithNative(e);var n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=n.apply(this);return e._reverseStreams=e._reverseStreams||{},t.map(function(t){return e._reverseStreams[t.id]})};var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var n=this;if(n._streams=n._streams||{},n._reverseStreams=n._reverseStreams||{},t.getTracks().forEach(function(e){if(n.getSenders().find(function(t){return t.track===e}))throw new DOMException("Track already exists.","InvalidAccessError")}),!n._reverseStreams[t.id]){var o=new e.MediaStream(t.getTracks());n._streams[t.id]=o,n._reverseStreams[o.id]=t,t=o}r.apply(n,[t])};var i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;t._streams=t._streams||{},t._reverseStreams=t._reverseStreams||{},i.apply(t,[t._streams[e.id]||e]),delete t._reverseStreams[t._streams[e.id]?t._streams[e.id].id:e.id],delete t._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){var r=this;if("closed"===r.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var o=[].slice.call(arguments,1);if(1!==o.length||!o[0].getTracks().find(function(e){return e===t}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(r.getSenders().find(function(e){return e.track===t}))throw new DOMException("Track already exists.","InvalidAccessError");r._streams=r._streams||{},r._reverseStreams=r._reverseStreams||{};var i=r._streams[n.id];if(i)i.addTrack(t),Promise.resolve().then(function(){r.dispatchEvent(new Event("negotiationneeded"))});else{var a=new e.MediaStream([t]);r._streams[n.id]=a,r._reverseStreams[a.id]=n,r.addStream(a)}return r.getSenders().find(function(e){return e.track===t})},["createOffer","createAnswer"].forEach(function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=this,t=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(e,[function(n){var r=u(e,n);t[0].apply(null,[r])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):n.apply(e,arguments).then(function(t){return u(e,t)})}});var a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(function(t){var r=e._reverseStreams[t],o=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),o.id)}),new RTCSessionDescription({type:t.type,sdp:n})}(this,arguments[0]),a.apply(this,arguments)):a.apply(this,arguments)};var s=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=s.get.apply(this);return""===e.type?e:u(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t,n=this;if("closed"===n.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(e._pc===n))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");n._streams=n._streams||{},Object.keys(n._streams).forEach(function(r){n._streams[r].getTracks().find(function(t){return e.track===t})&&(t=n._streams[r])}),t&&(1===t.getTracks().length?n.removeStream(n._reverseStreams[t.id]):t.removeTrack(e.track),n.dispatchEvent(new Event("negotiationneeded")))}}function u(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(function(t){var r=e._reverseStreams[t],o=e._streams[r.id];n=n.replace(new RegExp(o.id,"g"),r.id)}),new RTCSessionDescription({type:t.type,sdp:n})}},shimPeerConnection:function(e){var t=o.detectBrowser(e);if(!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=function(t,n){return i("PeerConnection"),t&&t.iceTransportPolicy&&(t.iceTransports=t.iceTransportPolicy),new e.webkitRTCPeerConnection(t,n)},e.RTCPeerConnection.prototype=e.webkitRTCPeerConnection.prototype,e.webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return e.webkitRTCPeerConnection.generateCertificate}})),e.RTCPeerConnection){var n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,t,r){var o=this,i=arguments;if(arguments.length>0&&"function"==typeof e)return n.apply(this,arguments);if(0===n.length&&(0===arguments.length||"function"!=typeof arguments[0]))return n.apply(this,[]);var a=function(e){var t={};return e.result().forEach(function(e){var n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(function(t){n[t]=e.stat(t)}),t[n.id]=n}),t},s=function(e){return new Map(Object.keys(e).map(function(t){return[t,e[t]]}))};if(arguments.length>=2){return n.apply(this,[function(e){i[1](s(a(e)))},arguments[0]])}return new Promise(function(e,t){n.apply(o,[function(t){e(s(a(t)))},t])}).then(t,r)},t.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=arguments,t=this,r=new Promise(function(r,o){n.apply(t,[e[0],r,o])});return e.length<2?r:r.then(function(){e[1].apply(null,[])},function(t){e.length>=3&&e[2].apply(null,[t])})}}),t.version<52&&["createOffer","createAnswer"].forEach(function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=this;if(arguments.length<1||1===arguments.length&&"object"===r(arguments[0])){var t=1===arguments.length?arguments[0]:void 0;return new Promise(function(r,o){n.apply(e,[r,o,t])})}return n.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}});var a=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?a.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}},fixNegotiationNeeded:function(e){o.wrapPeerConnectionEvent(e,"negotiationneeded",function(e){if("stable"===e.target.signalingState)return e})},shimGetDisplayMedia:function(e,t){!e.navigator||!e.navigator.mediaDevices||"getDisplayMedia"in e.navigator.mediaDevices||("function"==typeof t?(e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then(function(t){var r=n.video&&n.video.width,o=n.video&&n.video.height,i=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:i||3}},r&&(n.video.mandatory.maxWidth=r),o&&(n.video.mandatory.maxHeight=o),e.navigator.mediaDevices.getUserMedia(n)})},e.navigator.getDisplayMedia=function(t){return o.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),e.navigator.mediaDevices.getDisplayMedia(t)}):console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(20),i=o.log;e.exports=function(e){var t=o.detectBrowser(e),n=e&&e.navigator,a=function(e){if("object"!==r(e)||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var o="object"===r(e[n])?e[n]:{ideal:e[n]};void 0!==o.exact&&"number"==typeof o.exact&&(o.min=o.max=o.exact);var i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==o.ideal){t.optional=t.optional||[];var a={};"number"==typeof o.ideal?(a[i("min",n)]=o.ideal,t.optional.push(a),(a={})[i("max",n)]=o.ideal,t.optional.push(a)):(a[i("",n)]=o.ideal,t.optional.push(a))}void 0!==o.exact&&"number"!=typeof o.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=o.exact):["min","max"].forEach(function(e){void 0!==o[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=o[e])})}}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},s=function(e,o){if(t.version>=61)return o(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"===r(e.audio)){var s=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};s((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),s(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=a(e.audio)}if(e&&"object"===r(e.video)){var u=e.video.facingMode;u=u&&("object"===r(u)?u:{ideal:u});var c,l=t.version<66;if(u&&("user"===u.exact||"environment"===u.exact||"user"===u.ideal||"environment"===u.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||l))if(delete e.video.facingMode,"environment"===u.exact||"environment"===u.ideal?c=["back","rear"]:"user"!==u.exact&&"user"!==u.ideal||(c=["front"]),c)return n.mediaDevices.enumerateDevices().then(function(t){var n=(t=t.filter(function(e){return"videoinput"===e.kind})).find(function(e){return c.some(function(t){return-1!==e.label.toLowerCase().indexOf(t)})});return!n&&t.length&&-1!==c.indexOf("back")&&(n=t[t.length-1]),n&&(e.video.deviceId=u.exact?{exact:n.deviceId}:{ideal:n.deviceId}),e.video=a(e.video),i("chrome: "+JSON.stringify(e)),o(e)});e.video=a(e.video)}return i("chrome: "+JSON.stringify(e)),o(e)},u=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};n.getUserMedia=function(e,t,r){s(e,function(e){n.webkitGetUserMedia(e,t,function(e){r&&r(u(e))})})};var c=function(e){return new Promise(function(t,r){n.getUserMedia(e,t,r)})};if(n.mediaDevices||(n.mediaDevices={getUserMedia:c,enumerateDevices:function(){return new Promise(function(t){var n={audio:"audioinput",video:"videoinput"};return e.MediaStreamTrack.getSources(function(e){t(e.map(function(e){return{label:e.label,kind:n[e.kind],deviceId:e.id,groupId:""}}))})})},getSupportedConstraints:function(){return{deviceId:!0,echoCancellation:!0,facingMode:!0,frameRate:!0,height:!0,width:!0}}}),n.mediaDevices.getUserMedia){var l=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(e){return s(e,function(e){return l(e).then(function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(function(e){e.stop()}),new DOMException("","NotFoundError");return t},function(e){return Promise.reject(u(e))})})}}else n.mediaDevices.getUserMedia=function(e){return c(e)};void 0===n.mediaDevices.addEventListener&&(n.mediaDevices.addEventListener=function(){i("Dummy mediaDevices.addEventListener called.")}),void 0===n.mediaDevices.removeEventListener&&(n.mediaDevices.removeEventListener=function(){i("Dummy mediaDevices.removeEventListener called.")})}},function(e,t,n){"use strict";var r=n(20),o=n(136),i=n(137);e.exports={shimGetUserMedia:n(138),shimPeerConnection:function(e){var t=r.detectBrowser(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var n=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set:function(e){n.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}!e.RTCRtpSender||"dtmf"in e.RTCRtpSender.prototype||Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);var a=i(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=o(e.iceServers)),new a(e)},e.RTCPeerConnection.prototype=a.prototype},shimReplaceTrack:function(e){!e.RTCRtpSender||"replaceTrack"in e.RTCRtpSender.prototype||(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)},shimGetDisplayMedia:function(e,t){if("getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&!("getDisplayMedia"in e.navigator.mediaDevices)){var n=e.navigator.getDisplayMedia;e.navigator.mediaDevices.getDisplayMedia=function(t){return n.call(e.navigator,t)},e.navigator.getDisplayMedia=function(t){return r.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),n.call(e.navigator,t)}}}}},function(e,t,n){"use strict";var r=n(20);e.exports=function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter(function(e){if(e&&(e.urls||e.url)){var o=e.urls||e.url;e.url&&!e.urls&&r.deprecated("RTCIceServer.url","RTCIceServer.urls");var i="string"==typeof o;return i&&(o=[o]),o=o.filter(function(e){return 0===e.indexOf("turn:")&&-1!==e.indexOf("transport=udp")&&-1===e.indexOf("turn:[")&&!n?(n=!0,!0):0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp")}),delete e.url,e.urls=i?o[0]:o,!!o.length}})}},function(e,t,n){"use strict";var r=n(79);function o(e,t,n,o,i){var a=r.writeRtpDescription(e.kind,t);if(a+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),a+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":i||"active"),a+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?a+="a=sendrecv\r\n":e.rtpSender?a+="a=sendonly\r\n":e.rtpReceiver?a+="a=recvonly\r\n":a+="a=inactive\r\n",e.rtpSender){var s=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=s;var u="msid:"+(o?o.id:"-")+" "+s+"\r\n";a+="a="+u,a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+u,e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+u,a+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),a}function i(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},r=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]},o=function(e,t,n,o){var i=r(e.parameters.apt,n),a=r(t.parameters.apt,o);return i&&a&&i.name.toLowerCase()===a.name.toLowerCase()};return e.codecs.forEach(function(r){for(var i=0;i<t.codecs.length;i++){var a=t.codecs[i];if(r.name.toLowerCase()===a.name.toLowerCase()&&r.clockRate===a.clockRate){if("rtx"===r.name.toLowerCase()&&r.parameters&&a.parameters.apt&&!o(r,a,e.codecs,t.codecs))continue;(a=JSON.parse(JSON.stringify(a))).numChannels=Math.min(r.numChannels,a.numChannels),n.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter(function(e){for(var t=0;t<r.rtcpFeedback.length;t++)if(r.rtcpFeedback[t].type===e.type&&r.rtcpFeedback[t].parameter===e.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(e){for(var r=0;r<t.headerExtensions.length;r++){var o=t.headerExtensions[r];if(e.uri===o.uri){n.headerExtensions.push(o);break}}}),n}function a(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}function s(e,t){var n=e.getRemoteCandidates().find(function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type});return n||e.addRemoteCandidate(t),!n}function u(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}e.exports=function(e,t){function n(t,n){n.addTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function c(t,n,r,o){var i=new Event("track");i.track=n,i.receiver=r,i.transceiver={receiver:r},i.streams=o,e.setTimeout(function(){t._dispatchEvent("track",i)})}var l=function(n){var o=this,i=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(e){o[e]=i[e].bind(i)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",n=JSON.parse(JSON.stringify(n||{})),this.usingBundle="max-bundle"===n.bundlePolicy,"negotiate"===n.rtcpMuxPolicy)throw u("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(n.rtcpMuxPolicy||(n.rtcpMuxPolicy="require"),n.iceTransportPolicy){case"all":case"relay":break;default:n.iceTransportPolicy="all"}switch(n.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:n.bundlePolicy="balanced"}if(n.iceServers=function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter(function(e){if(e&&(e.urls||e.url)){var r=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var o="string"==typeof r;return o&&(r=[r]),r=r.filter(function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||n?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(n=!0,!0)}),delete e.url,e.urls=o?r[0]:r,!!r.length}})}(n.iceServers||[],t),this._iceGatherers=[],n.iceCandidatePoolSize)for(var a=n.iceCandidatePoolSize;a>0;a--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:n.iceServers,gatherPolicy:n.iceTransportPolicy}));else n.iceCandidatePoolSize=0;this._config=n,this.transceivers=[],this._sdpSessionId=r.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(l.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(l.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),l.prototype.onicecandidate=null,l.prototype.onaddstream=null,l.prototype.ontrack=null,l.prototype.onremovestream=null,l.prototype.onsignalingstatechange=null,l.prototype.oniceconnectionstatechange=null,l.prototype.onconnectionstatechange=null,l.prototype.onicegatheringstatechange=null,l.prototype.onnegotiationneeded=null,l.prototype.ondatachannel=null,l.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},l.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},l.prototype.getConfiguration=function(){return this._config},l.prototype.getLocalStreams=function(){return this.localStreams},l.prototype.getRemoteStreams=function(){return this.remoteStreams},l.prototype._createTransceiver=function(e,t){var n=this.transceivers.length>0,r={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&n)r.iceTransport=this.transceivers[0].iceTransport,r.dtlsTransport=this.transceivers[0].dtlsTransport;else{var o=this._createIceAndDtlsTransports();r.iceTransport=o.iceTransport,r.dtlsTransport=o.dtlsTransport}return t||this.transceivers.push(r),r},l.prototype.addTrack=function(t,n){if(this._isClosed)throw u("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var r;if(this.transceivers.find(function(e){return e.track===t}))throw u("InvalidAccessError","Track already exists.");for(var o=0;o<this.transceivers.length;o++)this.transceivers[o].track||this.transceivers[o].kind!==t.kind||(r=this.transceivers[o]);return r||(r=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),r.track=t,r.stream=n,r.rtpSender=new e.RTCRtpSender(t,r.dtlsTransport),r.rtpSender},l.prototype.addStream=function(e){var n=this;if(t>=15025)e.getTracks().forEach(function(t){n.addTrack(t,e)});else{var r=e.clone();e.getTracks().forEach(function(e,t){var n=r.getTracks()[t];e.addEventListener("enabled",function(e){n.enabled=e.enabled})}),r.getTracks().forEach(function(e){n.addTrack(e,r)})}},l.prototype.removeTrack=function(t){if(this._isClosed)throw u("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find(function(e){return e.rtpSender===t});if(!n)throw u("InvalidAccessError","Sender was not created by this connection.");var r=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null,-1===this.transceivers.map(function(e){return e.stream}).indexOf(r)&&this.localStreams.indexOf(r)>-1&&this.localStreams.splice(this.localStreams.indexOf(r),1),this._maybeFireNegotiationNeeded()},l.prototype.removeStream=function(e){var t=this;e.getTracks().forEach(function(e){var n=t.getSenders().find(function(t){return t.track===e});n&&t.removeTrack(n)})},l.prototype.getSenders=function(){return this.transceivers.filter(function(e){return!!e.rtpSender}).map(function(e){return e.rtpSender})},l.prototype.getReceivers=function(){return this.transceivers.filter(function(e){return!!e.rtpReceiver}).map(function(e){return e.rtpReceiver})},l.prototype._createIceGatherer=function(t,n){var r=this;if(n&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var o=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(o,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var n=!e.candidate||0===Object.keys(e.candidate).length;o.state=n?"completed":"gathering",null!==r.transceivers[t].bufferedCandidateEvents&&r.transceivers[t].bufferedCandidateEvents.push(e)},o.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),o},l.prototype._gather=function(t,n){var o=this,i=this.transceivers[n].iceGatherer;if(!i.onlocalcandidate){var a=this.transceivers[n].bufferedCandidateEvents;this.transceivers[n].bufferedCandidateEvents=null,i.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),i.onlocalcandidate=function(e){if(!(o.usingBundle&&n>0)){var a=new Event("icecandidate");a.candidate={sdpMid:t,sdpMLineIndex:n};var s=e.candidate,u=!s||0===Object.keys(s).length;if(u)"new"!==i.state&&"gathering"!==i.state||(i.state="completed");else{"new"===i.state&&(i.state="gathering"),s.component=1,s.ufrag=i.getLocalParameters().usernameFragment;var c=r.writeCandidate(s);a.candidate=Object.assign(a.candidate,r.parseCandidate(c)),a.candidate.candidate=c,a.candidate.toJSON=function(){return{candidate:a.candidate.candidate,sdpMid:a.candidate.sdpMid,sdpMLineIndex:a.candidate.sdpMLineIndex,usernameFragment:a.candidate.usernameFragment}}}var l=r.getMediaSections(o._localDescription.sdp);l[a.candidate.sdpMLineIndex]+=u?"a=end-of-candidates\r\n":"a="+a.candidate.candidate+"\r\n",o._localDescription.sdp=r.getDescription(o._localDescription.sdp)+l.join("");var f=o.transceivers.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state});"gathering"!==o.iceGatheringState&&(o.iceGatheringState="gathering",o._emitGatheringStateChange()),u||o._dispatchEvent("icecandidate",a),f&&(o._dispatchEvent("icecandidate",new Event("icecandidate")),o.iceGatheringState="complete",o._emitGatheringStateChange())}},e.setTimeout(function(){a.forEach(function(e){i.onlocalcandidate(e)})},0)}},l.prototype._createIceAndDtlsTransports=function(){var t=this,n=new e.RTCIceTransport(null);n.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var r=new e.RTCDtlsTransport(n);return r.ondtlsstatechange=function(){t._updateConnectionState()},r.onerror=function(){Object.defineProperty(r,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:n,dtlsTransport:r}},l.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var n=this.transceivers[e].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[e].iceTransport);var r=this.transceivers[e].dtlsTransport;r&&(delete r.ondtlsstatechange,delete r.onerror,delete this.transceivers[e].dtlsTransport)},l.prototype._transceive=function(e,n,o){var a=i(e.localCapabilities,e.remoteCapabilities);n&&e.rtpSender&&(a.encodings=e.sendEncodingParameters,a.rtcp={cname:r.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(a.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(a)),o&&e.rtpReceiver&&a.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach(function(e){delete e.rtx}),e.recvEncodingParameters.length?a.encodings=e.recvEncodingParameters:a.encodings=[{}],a.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(a.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(a.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(a))},l.prototype.setLocalDescription=function(e){var t,n,o=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(u("TypeError",'Unsupported type "'+e.type+'"'));if(!a("setLocalDescription",e.type,o.signalingState)||o._isClosed)return Promise.reject(u("InvalidStateError","Can not set local "+e.type+" in state "+o.signalingState));if("offer"===e.type)t=r.splitSections(e.sdp),n=t.shift(),t.forEach(function(e,t){var n=r.parseRtpParameters(e);o.transceivers[t].localCapabilities=n}),o.transceivers.forEach(function(e,t){o._gather(e.mid,t)});else if("answer"===e.type){t=r.splitSections(o._remoteDescription.sdp),n=t.shift();var s=r.matchPrefix(n,"a=ice-lite").length>0;t.forEach(function(e,t){var a=o.transceivers[t],u=a.iceGatherer,c=a.iceTransport,l=a.dtlsTransport,f=a.localCapabilities,p=a.remoteCapabilities;if(!(r.isRejected(e)&&0===r.matchPrefix(e,"a=bundle-only").length)&&!a.rejected){var d=r.getIceParameters(e,n),h=r.getDtlsParameters(e,n);s&&(h.role="server"),o.usingBundle&&0!==t||(o._gather(a.mid,t),"new"===c.state&&c.start(u,d,s?"controlling":"controlled"),"new"===l.state&&l.start(h));var v=i(f,p);o._transceive(a,v.codecs.length>0,!1)}})}return o._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?o._updateSignalingState("have-local-offer"):o._updateSignalingState("stable"),Promise.resolve()},l.prototype.setRemoteDescription=function(o){var l=this;if(-1===["offer","answer"].indexOf(o.type))return Promise.reject(u("TypeError",'Unsupported type "'+o.type+'"'));if(!a("setRemoteDescription",o.type,l.signalingState)||l._isClosed)return Promise.reject(u("InvalidStateError","Can not set remote "+o.type+" in state "+l.signalingState));var f={};l.remoteStreams.forEach(function(e){f[e.id]=e});var p=[],d=r.splitSections(o.sdp),h=d.shift(),v=r.matchPrefix(h,"a=ice-lite").length>0,m=r.matchPrefix(h,"a=group:BUNDLE ").length>0;l.usingBundle=m;var g=r.matchPrefix(h,"a=ice-options:")[0];return l.canTrickleIceCandidates=!!g&&g.substr(14).split(" ").indexOf("trickle")>=0,d.forEach(function(a,u){var c=r.splitLines(a),d=r.getKind(a),g=r.isRejected(a)&&0===r.matchPrefix(a,"a=bundle-only").length,y=c[0].substr(2).split(" ")[2],_=r.getDirection(a,h),b=r.parseMsid(a),C=r.getMid(a)||r.generateIdentifier();if(g||"application"===d&&("DTLS/SCTP"===y||"UDP/DTLS/SCTP"===y))l.transceivers[u]={mid:C,kind:d,protocol:y,rejected:!0};else{var A,E,S,T,w,k,R,O,x;!g&&l.transceivers[u]&&l.transceivers[u].rejected&&(l.transceivers[u]=l._createTransceiver(d,!0));var I,P,N=r.parseRtpParameters(a);g||(I=r.getIceParameters(a,h),(P=r.getDtlsParameters(a,h)).role="client"),R=r.parseRtpEncodingParameters(a);var D=r.parseRtcpParameters(a),M=r.matchPrefix(a,"a=end-of-candidates",h).length>0,U=r.matchPrefix(a,"a=candidate:").map(function(e){return r.parseCandidate(e)}).filter(function(e){return 1===e.component});if(("offer"===o.type||"answer"===o.type)&&!g&&m&&u>0&&l.transceivers[u]&&(l._disposeIceAndDtlsTransports(u),l.transceivers[u].iceGatherer=l.transceivers[0].iceGatherer,l.transceivers[u].iceTransport=l.transceivers[0].iceTransport,l.transceivers[u].dtlsTransport=l.transceivers[0].dtlsTransport,l.transceivers[u].rtpSender&&l.transceivers[u].rtpSender.setTransport(l.transceivers[0].dtlsTransport),l.transceivers[u].rtpReceiver&&l.transceivers[u].rtpReceiver.setTransport(l.transceivers[0].dtlsTransport)),"offer"!==o.type||g){if("answer"===o.type&&!g){E=(A=l.transceivers[u]).iceGatherer,S=A.iceTransport,T=A.dtlsTransport,w=A.rtpReceiver,k=A.sendEncodingParameters,O=A.localCapabilities,l.transceivers[u].recvEncodingParameters=R,l.transceivers[u].remoteCapabilities=N,l.transceivers[u].rtcpParameters=D,U.length&&"new"===S.state&&(!v&&!M||m&&0!==u?U.forEach(function(e){s(A.iceTransport,e)}):S.setRemoteCandidates(U)),m&&0!==u||("new"===S.state&&S.start(E,I,"controlling"),"new"===T.state&&T.start(P)),!i(A.localCapabilities,A.remoteCapabilities).codecs.filter(function(e){return"rtx"===e.name.toLowerCase()}).length&&A.sendEncodingParameters[0].rtx&&delete A.sendEncodingParameters[0].rtx,l._transceive(A,"sendrecv"===_||"recvonly"===_,"sendrecv"===_||"sendonly"===_),!w||"sendrecv"!==_&&"sendonly"!==_?delete A.rtpReceiver:(x=w.track,b?(f[b.stream]||(f[b.stream]=new e.MediaStream),n(x,f[b.stream]),p.push([x,w,f[b.stream]])):(f.default||(f.default=new e.MediaStream),n(x,f.default),p.push([x,w,f.default])))}}else{(A=l.transceivers[u]||l._createTransceiver(d)).mid=C,A.iceGatherer||(A.iceGatherer=l._createIceGatherer(u,m)),U.length&&"new"===A.iceTransport.state&&(!M||m&&0!==u?U.forEach(function(e){s(A.iceTransport,e)}):A.iceTransport.setRemoteCandidates(U)),O=e.RTCRtpReceiver.getCapabilities(d),t<15019&&(O.codecs=O.codecs.filter(function(e){return"rtx"!==e.name})),k=A.sendEncodingParameters||[{ssrc:1001*(2*u+2)}];var j,L=!1;if("sendrecv"===_||"sendonly"===_){if(L=!A.rtpReceiver,w=A.rtpReceiver||new e.RTCRtpReceiver(A.dtlsTransport,d),L)x=w.track,b&&"-"===b.stream||(b?(f[b.stream]||(f[b.stream]=new e.MediaStream,Object.defineProperty(f[b.stream],"id",{get:function(){return b.stream}})),Object.defineProperty(x,"id",{get:function(){return b.track}}),j=f[b.stream]):(f.default||(f.default=new e.MediaStream),j=f.default)),j&&(n(x,j),A.associatedRemoteMediaStreams.push(j)),p.push([x,w,j])}else A.rtpReceiver&&A.rtpReceiver.track&&(A.associatedRemoteMediaStreams.forEach(function(t){var n,r,o=t.getTracks().find(function(e){return e.id===A.rtpReceiver.track.id});o&&(n=o,(r=t).removeTrack(n),r.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:n})))}),A.associatedRemoteMediaStreams=[]);A.localCapabilities=O,A.remoteCapabilities=N,A.rtpReceiver=w,A.rtcpParameters=D,A.sendEncodingParameters=k,A.recvEncodingParameters=R,l._transceive(l.transceivers[u],!1,L)}}}),void 0===l._dtlsRole&&(l._dtlsRole="offer"===o.type?"active":"passive"),l._remoteDescription={type:o.type,sdp:o.sdp},"offer"===o.type?l._updateSignalingState("have-remote-offer"):l._updateSignalingState("stable"),Object.keys(f).forEach(function(t){var n=f[t];if(n.getTracks().length){if(-1===l.remoteStreams.indexOf(n)){l.remoteStreams.push(n);var r=new Event("addstream");r.stream=n,e.setTimeout(function(){l._dispatchEvent("addstream",r)})}p.forEach(function(e){var t=e[0],r=e[1];n.id===e[2].id&&c(l,t,r,[n])})}}),p.forEach(function(e){e[2]||c(l,e[0],e[1],[])}),e.setTimeout(function(){l&&l.transceivers&&l.transceivers.forEach(function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},l.prototype.close=function(){this.transceivers.forEach(function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},l.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},l.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout(function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}},0))},l.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++}),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",n)}},l.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)}),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var n=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",n)}},l.prototype.createOffer=function(){var n=this;if(n._isClosed)return Promise.reject(u("InvalidStateError","Can not call createOffer after close"));var i=n.transceivers.filter(function(e){return"audio"===e.kind}).length,a=n.transceivers.filter(function(e){return"video"===e.kind}).length,s=arguments[0];if(s){if(s.mandatory||s.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==s.offerToReceiveAudio&&(i=!0===s.offerToReceiveAudio?1:!1===s.offerToReceiveAudio?0:s.offerToReceiveAudio),void 0!==s.offerToReceiveVideo&&(a=!0===s.offerToReceiveVideo?1:!1===s.offerToReceiveVideo?0:s.offerToReceiveVideo)}for(n.transceivers.forEach(function(e){"audio"===e.kind?--i<0&&(e.wantReceive=!1):"video"===e.kind&&--a<0&&(e.wantReceive=!1)});i>0||a>0;)i>0&&(n._createTransceiver("audio"),i--),a>0&&(n._createTransceiver("video"),a--);var c=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.transceivers.forEach(function(o,i){var a=o.track,s=o.kind,u=o.mid||r.generateIdentifier();o.mid=u,o.iceGatherer||(o.iceGatherer=n._createIceGatherer(i,n.usingBundle));var c=e.RTCRtpSender.getCapabilities(s);t<15019&&(c.codecs=c.codecs.filter(function(e){return"rtx"!==e.name})),c.codecs.forEach(function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),o.remoteCapabilities&&o.remoteCapabilities.codecs&&o.remoteCapabilities.codecs.forEach(function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)})}),c.headerExtensions.forEach(function(e){(o.remoteCapabilities&&o.remoteCapabilities.headerExtensions||[]).forEach(function(t){e.uri===t.uri&&(e.id=t.id)})});var l=o.sendEncodingParameters||[{ssrc:1001*(2*i+1)}];a&&t>=15019&&"video"===s&&!l[0].rtx&&(l[0].rtx={ssrc:l[0].ssrc+1}),o.wantReceive&&(o.rtpReceiver=new e.RTCRtpReceiver(o.dtlsTransport,s)),o.localCapabilities=c,o.sendEncodingParameters=l}),"max-compat"!==n._config.bundlePolicy&&(c+="a=group:BUNDLE "+n.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),c+="a=ice-options:trickle\r\n",n.transceivers.forEach(function(e,t){c+=o(e,e.localCapabilities,"offer",e.stream,n._dtlsRole),c+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===n.iceGatheringState||0!==t&&n.usingBundle||(e.iceGatherer.getLocalCandidates().forEach(function(e){e.component=1,c+="a="+r.writeCandidate(e)+"\r\n"}),"completed"===e.iceGatherer.state&&(c+="a=end-of-candidates\r\n"))});var l=new e.RTCSessionDescription({type:"offer",sdp:c});return Promise.resolve(l)},l.prototype.createAnswer=function(){var n=this;if(n._isClosed)return Promise.reject(u("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==n.signalingState&&"have-local-pranswer"!==n.signalingState)return Promise.reject(u("InvalidStateError","Can not call createAnswer in signalingState "+n.signalingState));var a=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.usingBundle&&(a+="a=group:BUNDLE "+n.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),a+="a=ice-options:trickle\r\n";var s=r.getMediaSections(n._remoteDescription.sdp).length;n.transceivers.forEach(function(e,r){if(!(r+1>s)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?a+="m=application 0 DTLS/SCTP 5000\r\n":a+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?a+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(a+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(a+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var u;if(e.stream)"audio"===e.kind?u=e.stream.getAudioTracks()[0]:"video"===e.kind&&(u=e.stream.getVideoTracks()[0]),u&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1});var c=i(e.localCapabilities,e.remoteCapabilities);!c.codecs.filter(function(e){return"rtx"===e.name.toLowerCase()}).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,a+=o(e,c,"answer",e.stream,n._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(a+="a=rtcp-rsize\r\n")}});var c=new e.RTCSessionDescription({type:"answer",sdp:a});return Promise.resolve(c)},l.prototype.addIceCandidate=function(e){var t,n=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(o,i){if(!n._remoteDescription)return i(u("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var a=e.sdpMLineIndex;if(e.sdpMid)for(var c=0;c<n.transceivers.length;c++)if(n.transceivers[c].mid===e.sdpMid){a=c;break}var l=n.transceivers[a];if(!l)return i(u("OperationError","Can not add ICE candidate"));if(l.rejected)return o();var f=Object.keys(e.candidate).length>0?r.parseCandidate(e.candidate):{};if("tcp"===f.protocol&&(0===f.port||9===f.port))return o();if(f.component&&1!==f.component)return o();if((0===a||a>0&&l.iceTransport!==n.transceivers[0].iceTransport)&&!s(l.iceTransport,f))return i(u("OperationError","Can not add ICE candidate"));var p=e.candidate.trim();0===p.indexOf("a=")&&(p=p.substr(2)),(t=r.getMediaSections(n._remoteDescription.sdp))[a]+="a="+(f.type?p:"end-of-candidates")+"\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+t.join("")}else for(var d=0;d<n.transceivers.length&&(n.transceivers[d].rejected||(n.transceivers[d].iceTransport.addRemoteCandidate({}),(t=r.getMediaSections(n._remoteDescription.sdp))[d]+="a=end-of-candidates\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+t.join(""),!n.usingBundle));d++);o()})},l.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var n=null;if(this.transceivers.forEach(function(e){e.rtpSender&&e.rtpSender.track===t?n=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(n=e.rtpReceiver)}),!n)throw u("InvalidAccessError","Invalid selector.");return n.getStats()}var r=[];return this.transceivers.forEach(function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(t){e[t]&&r.push(e[t].getStats())})}),Promise.all(r).then(function(e){var t=new Map;return e.forEach(function(e){e.forEach(function(e){t.set(e.id,e)})}),t})};["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(t){var n=e[t];if(n&&n.prototype&&n.prototype.getStats){var r=n.prototype.getStats;n.prototype.getStats=function(){return r.apply(this).then(function(e){var t=new Map;return Object.keys(e).forEach(function(n){var r;e[n].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(r=e[n]).type]||r.type,t.set(n,e[n])}),t})}}});var f=["createOffer","createAnswer"];return f.forEach(function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then(function(t){"function"==typeof e[0]&&e[0].apply(null,[t])},function(t){"function"==typeof e[1]&&e[1].apply(null,[t])}):t.apply(this,arguments)}}),(f=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then(function(){"function"==typeof e[1]&&e[1].apply(null)},function(t){"function"==typeof e[2]&&e[2].apply(null,[t])}):t.apply(this,arguments)}}),["getStats"].forEach(function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then(function(){"function"==typeof e[1]&&e[1].apply(null)}):t.apply(this,arguments)}}),l}},function(e,t,n){"use strict";e.exports=function(e){var t=e&&e.navigator,n=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return n(e).catch(function(e){return Promise.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}}(e))})}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(20);e.exports={shimGetUserMedia:n(140),shimOnTrack:function(e){"object"!==r(e)||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.getTracks().forEach(function(t){var n=new Event("track");n.track=t,n.receiver={track:t},n.transceiver={receiver:n.receiver},n.streams=[e.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))},enumerable:!0,configurable:!0}),"object"===r(e)&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimSourceObject:function(e){"object"===r(e)&&(!e.HTMLMediaElement||"srcObject"in e.HTMLMediaElement.prototype||Object.defineProperty(e.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(e){this.mozSrcObject=e}}))},shimPeerConnection:function(e){var t=o.detectBrowser(e);if("object"===r(e)&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){e.RTCPeerConnection||(e.RTCPeerConnection=function(n,r){if(t.version<38&&n&&n.iceServers){for(var o=[],i=0;i<n.iceServers.length;i++){var a=n.iceServers[i];if(a.hasOwnProperty("urls"))for(var s=0;s<a.urls.length;s++){var u={url:a.urls[s]};0===a.urls[s].indexOf("turn")&&(u.username=a.username,u.credential=a.credential),o.push(u)}else o.push(n.iceServers[i])}n.iceServers=o}return new e.mozRTCPeerConnection(n,r)},e.RTCPeerConnection.prototype=e.mozRTCPeerConnection.prototype,e.mozRTCPeerConnection.generateCertificate&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return e.mozRTCPeerConnection.generateCertificate}}),e.RTCSessionDescription=e.mozRTCSessionDescription,e.RTCIceCandidate=e.mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}});var n=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var i={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},a=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,n,r){return a.apply(this,[e||null]).then(function(e){if(t.version<48&&(e=function(e){var t=new Map;return Object.keys(e).forEach(function(n){t.set(n,e[n]),t[n]=e[n]}),t}(e)),t.version<53&&!n)try{e.forEach(function(e){e.type=i[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach(function(t,n){e.set(n,Object.assign({},t,{type:i[t.type]||t.type}))})}return e}).then(n,r)}}},shimSenderGetStats:function(e){if("object"===r(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&!(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(e,[]);return n.forEach(function(t){t._pc=e}),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}},shimReceiverGetStats:function(e){if("object"===r(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&!(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,n=t.apply(e,[]);return n.forEach(function(t){t._pc=e}),n}),o.wrapPeerConnectionEvent(e,"track",function(e){return e.receiver._pc=e.srcElement,e}),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}},shimRemoveStream:function(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;o.deprecated("removeStream","removeTrack"),this.getSenders().forEach(function(n){n.track&&-1!==e.getTracks().indexOf(n.track)&&t.removeTrack(n)})})},shimRTCDataChannel:function(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)},shimGetDisplayMedia:function(e,t){!e.navigator||!e.navigator.mediaDevices||"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){var r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,Promise.reject(r)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)},e.navigator.getDisplayMedia=function(t){return o.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),e.navigator.mediaDevices.getDisplayMedia(t)})}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(20),i=o.log;e.exports=function(e){var t=o.detectBrowser(e),n=e&&e.navigator,a=e&&e.MediaStreamTrack,s=function(e){return{name:{InternalError:"NotReadableError",NotSupportedError:"TypeError",PermissionDeniedError:"NotAllowedError",SecurityError:"NotAllowedError"}[e.name]||e.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[e.message]||e.message,constraint:e.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},u=function(e,o,a){var u=function(e){if("object"!==r(e)||e.require)return e;var t=[];return Object.keys(e).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var o=e[n]="object"===r(e[n])?e[n]:{ideal:e[n]};if(void 0===o.min&&void 0===o.max&&void 0===o.exact||t.push(n),void 0!==o.exact&&("number"==typeof o.exact?o.min=o.max=o.exact:e[n]=o.exact,delete o.exact),void 0!==o.ideal){e.advanced=e.advanced||[];var i={};"number"==typeof o.ideal?i[n]={min:o.ideal,max:o.ideal}:i[n]=o.ideal,e.advanced.push(i),delete o.ideal,Object.keys(o).length||delete e[n]}}}),t.length&&(e.require=t),e};return e=JSON.parse(JSON.stringify(e)),t.version<38&&(i("spec: "+JSON.stringify(e)),e.audio&&(e.audio=u(e.audio)),e.video&&(e.video=u(e.video)),i("ff37: "+JSON.stringify(e))),n.mozGetUserMedia(e,o,function(e){a(s(e))})};if(n.mediaDevices||(n.mediaDevices={getUserMedia:function(e){return new Promise(function(t,n){u(e,t,n)})},addEventListener:function(){},removeEventListener:function(){}}),n.mediaDevices.enumerateDevices=n.mediaDevices.enumerateDevices||function(){return new Promise(function(e){e([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])})},t.version<41){var c=n.mediaDevices.enumerateDevices.bind(n.mediaDevices);n.mediaDevices.enumerateDevices=function(){return c().then(void 0,function(e){if("NotFoundError"===e.name)return[];throw e})}}if(t.version<49){var l=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(e){return l(e).then(function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(function(e){e.stop()}),new DOMException("The object can not be found here.","NotFoundError");return t},function(e){return Promise.reject(s(e))})}}if(!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var f=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},p=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(e){return"object"===r(e)&&"object"===r(e.audio)&&(e=JSON.parse(JSON.stringify(e)),f(e.audio,"autoGainControl","mozAutoGainControl"),f(e.audio,"noiseSuppression","mozNoiseSuppression")),p(e)},a&&a.prototype.getSettings){var d=a.prototype.getSettings;a.prototype.getSettings=function(){var e=d.apply(this,arguments);return f(e,"mozAutoGainControl","autoGainControl"),f(e,"mozNoiseSuppression","noiseSuppression"),e}}if(a&&a.prototype.applyConstraints){var h=a.prototype.applyConstraints;a.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===r(e)&&(e=JSON.parse(JSON.stringify(e)),f(e,"autoGainControl","mozAutoGainControl"),f(e,"noiseSuppression","mozNoiseSuppression")),h.apply(this,[e])}}}n.getUserMedia=function(e,r,i){if(t.version<44)return u(e,r,i);o.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(r,i)}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(20);e.exports={shimLocalStreamsAPI:function(e){if("object"===r(e)&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),"getStreamById"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getStreamById=function(e){var t=null;return this._localStreams&&this._localStreams.forEach(function(n){n.id===e&&(t=n)}),this._remoteStreams&&this._remoteStreams.forEach(function(n){n.id===e&&(t=n)}),t}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),-1===this._localStreams.indexOf(e)&&this._localStreams.push(e);var n=this;e.getTracks().forEach(function(r){t.call(n,r,e)})},e.RTCPeerConnection.prototype.addTrack=function(e,n){return n&&(this._localStreams?-1===this._localStreams.indexOf(n)&&this._localStreams.push(n):this._localStreams=[n]),t.call(this,e,n)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);var t=this._localStreams.indexOf(e);if(-1!==t){this._localStreams.splice(t,1);var n=this,r=e.getTracks();this.getSenders().forEach(function(e){-1!==r.indexOf(e.track)&&n.removeTrack(e)})}})}},shimRemoteStreamsAPI:function(e){if("object"===r(e)&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){this._onaddstream&&this.removeEventListener("addstream",this._onaddstream),this.addEventListener("addstream",this._onaddstream=e)}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}})}),t.apply(e,arguments)}}},shimCallbacksAPI:function(e){if("object"===r(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,n=t.createOffer,o=t.createAnswer,i=t.setLocalDescription,a=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],o=n.apply(this,[r]);return t?(o.then(e,t),Promise.resolve()):o},t.createAnswer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],r=o.apply(this,[n]);return t?(r.then(e,t),Promise.resolve()):r};var u=function(e,t,n){var r=i.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r};t.setLocalDescription=u,u=function(e,t,n){var r=a.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.setRemoteDescription=u,u=function(e,t,n){var r=s.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.addIceCandidate=u}},shimGetUserMedia:function(e){var t=e&&e.navigator;t.getUserMedia||(t.webkitGetUserMedia?t.getUserMedia=t.webkitGetUserMedia.bind(t):t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t)))},shimRTCIceServerUrls:function(e){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){for(var r=[],i=0;i<e.iceServers.length;i++){var a=e.iceServers[i];!a.hasOwnProperty("urls")&&a.hasOwnProperty("url")?(o.deprecated("RTCIceServer.url","RTCIceServer.urls"),(a=JSON.parse(JSON.stringify(a))).urls=a.url,delete a.url,r.push(a)):r.push(e.iceServers[i])}e.iceServers=r}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in e.RTCPeerConnection&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})},shimTrackEventTransceiver:function(e){"object"===r(e)&&e.RTCPeerConnection&&"receiver"in e.RTCTrackEvent.prototype&&!e.RTCTransceiver&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimCreateOfferLegacy:function(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){var n=this;if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var r=n.getTransceivers().find(function(e){return e.sender.track&&"audio"===e.sender.track.kind});!1===e.offerToReceiveAudio&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveAudio||r||n.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var o=n.getTransceivers().find(function(e){return e.sender.track&&"video"===e.sender.track.kind});!1===e.offerToReceiveVideo&&o?"sendrecv"===o.direction?o.setDirection("sendonly"):"recvonly"===o.direction&&o.setDirection("inactive"):!0!==e.offerToReceiveVideo||o||n.addTransceiver("video")}return t.apply(n,arguments)}}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(79),i=n(20);e.exports={shimRTCIceCandidate:function(e){if(e.RTCIceCandidate&&!(e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===r(e)&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var n=new t(e),i=o.parseCandidate(e.candidate),a=Object.assign(n,i);return a.toJSON=function(){return{candidate:a.candidate,sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex,usernameFragment:a.usernameFragment}},a}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,i.wrapPeerConnectionEvent(e,"icecandidate",function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t})}},shimCreateObjectURL:function(e){var t=e&&e.URL;if("object"===r(e)&&e.HTMLMediaElement&&"srcObject"in e.HTMLMediaElement.prototype&&t.createObjectURL&&t.revokeObjectURL){var n=t.createObjectURL.bind(t),o=t.revokeObjectURL.bind(t),a=new Map,s=0;t.createObjectURL=function(e){if("getTracks"in e){var t="polyblob:"+ ++s;return a.set(t,e),i.deprecated("URL.createObjectURL(stream)","elem.srcObject = stream"),t}return n(e)},t.revokeObjectURL=function(e){o(e),a.delete(e)};var u=Object.getOwnPropertyDescriptor(e.HTMLMediaElement.prototype,"src");Object.defineProperty(e.HTMLMediaElement.prototype,"src",{get:function(){return u.get.apply(this)},set:function(e){return this.srcObject=a.get(e)||null,u.set.apply(this,[e])}});var c=e.HTMLMediaElement.prototype.setAttribute;e.HTMLMediaElement.prototype.setAttribute=function(){return 2===arguments.length&&"src"===(""+arguments[0]).toLowerCase()&&(this.srcObject=a.get(arguments[1])||null),c.apply(this,arguments)}}},shimMaxMessageSize:function(e){if(!e.RTCSctpTransport&&e.RTCPeerConnection){var t=i.detectBrowser(e);"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e,r,i,a;if(this._sctp=null,i=arguments[0],(a=o.splitSections(i.sdp)).shift(),a.some(function(e){var t=o.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")})){var s,u=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var n=parseInt(t[1],10);return n!=n?-1:n}(arguments[0]),c=(e=u,r=65536,"firefox"===t.browser&&(r=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),r),l=function(e,n){var r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);var i=o.matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?r=parseInt(i[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r}(arguments[0],u);s=0===c&&0===l?Number.POSITIVE_INFINITY:0===c||0===l?Math.max(c,l):Math.min(c,l);var f={};Object.defineProperty(f,"maxMessageSize",{get:function(){return s}}),this._sctp=f}return n.apply(this,arguments)}}},shimSendThrowTypeError:function(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return n(e,this),e},i.wrapPeerConnectionEvent(e,"datachannel",function(e){return n(e.channel,e.target),e})}function n(e,t){var n=e.send;e.send=function(){var r=arguments[0],o=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&o>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}}}},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";var r=n(145),o=n(28),i=n(17),a=n(146),s=r.twoArgumentPooler,u=r.fourArgumentPooler,c=/\/+/g;function l(e){return(""+e).replace(c,"$&/")}function f(e,t){this.func=e,this.context=t,this.count=0}function p(e,t,n){var r=e.func,o=e.context;r.call(o,t,e.count++)}function d(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function h(e,t,n){var r=e.result,a=e.keyPrefix,s=e.func,u=e.context,c=s.call(u,t,e.count++);Array.isArray(c)?v(c,r,n,i.thatReturnsArgument):null!=c&&(o.isValidElement(c)&&(c=o.cloneAndReplaceKey(c,a+(!c.key||t&&t.key===c.key?"":l(c.key)+"/")+n)),r.push(c))}function v(e,t,n,r,o){var i="";null!=n&&(i=l(n)+"/");var s=d.getPooled(t,i,r,o);a(e,h,s),d.release(s)}function m(e,t,n){return null}f.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},r.addPoolingTo(f,s),d.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},r.addPoolingTo(d,u);var g={forEach:function(e,t,n){if(null==e)return e;var r=f.getPooled(t,n);a(e,p,r),f.release(r)},map:function(e,t,n){if(null==e)return e;var r=[];return v(e,r,null,t,n),r},mapIntoWithKeyPrefixInternal:v,count:function(e,t){return a(e,m,null)},toArray:function(e){var t=[];return v(e,t,null,i.thatReturnsArgument),t}};e.exports=g},function(e,t,n){"use strict";var r=n(34),o=(n(4),function(e){if(this.instancePool.length){var t=this.instancePool.pop();return this.call(t,e),t}return new this(e)}),i=function(e){e instanceof this||r("25"),e.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(e)},a=o,s={addPoolingTo:function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||a,n.poolSize||(n.poolSize=10),n.release=i,n},oneArgumentPooler:o,twoArgumentPooler:function(e,t){if(this.instancePool.length){var n=this.instancePool.pop();return this.call(n,e,t),n}return new this(e,t)},threeArgumentPooler:function(e,t,n){if(this.instancePool.length){var r=this.instancePool.pop();return this.call(r,e,t,n),r}return new this(e,t,n)},fourArgumentPooler:function(e,t,n,r){if(this.instancePool.length){var o=this.instancePool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)}};e.exports=s},function(e,t,n){"use strict";var r=n(34),o=(n(21),n(83)),i=n(147),a=(n(4),n(148)),s=(n(8),"."),u=":";function c(e,t){return e&&"object"==typeof e&&null!=e.key?a.escape(e.key):t.toString(36)}e.exports=function(e,t,n){return null==e?0:function e(t,n,l,f){var p,d=typeof t;if("undefined"!==d&&"boolean"!==d||(t=null),null===t||"string"===d||"number"===d||"object"===d&&t.$$typeof===o)return l(f,t,""===n?s+c(t,0):n),1;var h=0,v=""===n?s:n+u;if(Array.isArray(t))for(var m=0;m<t.length;m++)h+=e(p=t[m],v+c(p,m),l,f);else{var g=i(t);if(g){var y,_=g.call(t);if(g!==t.entries)for(var b=0;!(y=_.next()).done;)h+=e(p=y.value,v+c(p,b++),l,f);else for(;!(y=_.next()).done;){var C=y.value;C&&(h+=e(p=C[1],v+a.escape(C[0])+u+c(p,0),l,f))}}else if("object"===d){var A=String(t);r("31","[object Object]"===A?"object with keys {"+Object.keys(t).join(", ")+"}":A,"")}}return h}(e,"",t,n)}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.iterator,o="@@iterator";e.exports=function(e){var t=e&&(r&&e[r]||e[o]);if("function"==typeof t)return t}},function(e,t,n){"use strict";var r={escape:function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})},unescape:function(e){var t={"=0":"=","=2":":"};return(""+("."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1))).replace(/(=0|=2)/g,function(e){return t[e]})}};e.exports=r},function(e,t,n){"use strict";var r=n(28).createFactory,o={a:r("a"),abbr:r("abbr"),address:r("address"),area:r("area"),article:r("article"),aside:r("aside"),audio:r("audio"),b:r("b"),base:r("base"),bdi:r("bdi"),bdo:r("bdo"),big:r("big"),blockquote:r("blockquote"),body:r("body"),br:r("br"),button:r("button"),canvas:r("canvas"),caption:r("caption"),cite:r("cite"),code:r("code"),col:r("col"),colgroup:r("colgroup"),data:r("data"),datalist:r("datalist"),dd:r("dd"),del:r("del"),details:r("details"),dfn:r("dfn"),dialog:r("dialog"),div:r("div"),dl:r("dl"),dt:r("dt"),em:r("em"),embed:r("embed"),fieldset:r("fieldset"),figcaption:r("figcaption"),figure:r("figure"),footer:r("footer"),form:r("form"),h1:r("h1"),h2:r("h2"),h3:r("h3"),h4:r("h4"),h5:r("h5"),h6:r("h6"),head:r("head"),header:r("header"),hgroup:r("hgroup"),hr:r("hr"),html:r("html"),i:r("i"),iframe:r("iframe"),img:r("img"),input:r("input"),ins:r("ins"),kbd:r("kbd"),keygen:r("keygen"),label:r("label"),legend:r("legend"),li:r("li"),link:r("link"),main:r("main"),map:r("map"),mark:r("mark"),menu:r("menu"),menuitem:r("menuitem"),meta:r("meta"),meter:r("meter"),nav:r("nav"),noscript:r("noscript"),object:r("object"),ol:r("ol"),optgroup:r("optgroup"),option:r("option"),output:r("output"),p:r("p"),param:r("param"),picture:r("picture"),pre:r("pre"),progress:r("progress"),q:r("q"),rp:r("rp"),rt:r("rt"),ruby:r("ruby"),s:r("s"),samp:r("samp"),script:r("script"),section:r("section"),select:r("select"),small:r("small"),source:r("source"),span:r("span"),strong:r("strong"),style:r("style"),sub:r("sub"),summary:r("summary"),sup:r("sup"),table:r("table"),tbody:r("tbody"),td:r("td"),textarea:r("textarea"),tfoot:r("tfoot"),th:r("th"),thead:r("thead"),time:r("time"),title:r("title"),tr:r("tr"),track:r("track"),u:r("u"),ul:r("ul"),var:r("var"),video:r("video"),wbr:r("wbr"),circle:r("circle"),clipPath:r("clipPath"),defs:r("defs"),ellipse:r("ellipse"),g:r("g"),image:r("image"),line:r("line"),linearGradient:r("linearGradient"),mask:r("mask"),path:r("path"),pattern:r("pattern"),polygon:r("polygon"),polyline:r("polyline"),radialGradient:r("radialGradient"),rect:r("rect"),stop:r("stop"),svg:r("svg"),text:r("text"),tspan:r("tspan")};e.exports=o},function(e,t,n){"use strict";var r=n(28).isValidElement,o=n(84);e.exports=o(r)},function(e,t,n){"use strict";var r=n(9),o=n(152),i=n(153),a=function(){};function s(){return null}e.exports=function(e,t){var n="function"==typeof Symbol&&Symbol.iterator,u="@@iterator";var c="<<anonymous>>",l={array:h("array"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),string:h("string"),symbol:h("symbol"),any:d(s),arrayOf:function(e){return d(function(t,n,r,i,a){if("function"!=typeof e)return new p("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s)){var u=m(s);return new p("Invalid "+i+" `"+a+"` of type `"+u+"` supplied to `"+r+"`, expected an array.")}for(var c=0;c<s.length;c++){var l=e(s,c,r,i,a+"["+c+"]",o);if(l instanceof Error)return l}return null})},element:function(){return d(function(t,n,r,o,i){var a=t[n];if(!e(a)){var s=m(a);return new p("Invalid "+o+" `"+i+"` of type `"+s+"` supplied to `"+r+"`, expected a single ReactElement.")}return null})}(),instanceOf:function(e){return d(function(t,n,r,o,i){if(!(t[n]instanceof e)){var a=e.name||c,s=function(e){if(!e.constructor||!e.constructor.name)return c;return e.constructor.name}(t[n]);return new p("Invalid "+o+" `"+i+"` of type `"+s+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null})},node:function(){return d(function(e,t,n,r,o){if(!v(e[t]))return new p("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.");return null})}(),objectOf:function(e){return d(function(t,n,r,i,a){if("function"!=typeof e)return new p("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],u=m(s);if("object"!==u)return new p("Invalid "+i+" `"+a+"` of type `"+u+"` supplied to `"+r+"`, expected an object.");for(var c in s)if(s.hasOwnProperty(c)){var l=e(s,c,r,i,a+"."+c,o);if(l instanceof Error)return l}return null})},oneOf:function(e){if(!Array.isArray(e))return s;return d(function(t,n,r,o,i){for(var a=t[n],s=0;s<e.length;s++)if(f(a,e[s]))return null;var u=JSON.stringify(e);return new p("Invalid "+o+" `"+i+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+u+".")})},oneOfType:function(e){if(!Array.isArray(e))return s;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return a("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+y(n)+" at index "+t+"."),s}return d(function(t,n,r,i,a){for(var s=0;s<e.length;s++){var u=e[s];if(null==u(t,n,r,i,a,o))return null}return new p("Invalid "+i+" `"+a+"` supplied to `"+r+"`.")})},shape:function(e){return d(function(t,n,r,i,a){var s=t[n],u=m(s);if("object"!==u)return new p("Invalid "+i+" `"+a+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var c in e){var l=e[c];if(l){var f=l(s,c,r,i,a+"."+c,o);if(f)return f}}return null})},exact:function(e){return d(function(t,n,i,a,s){var u=t[n],c=m(u);if("object"!==c)return new p("Invalid "+a+" `"+s+"` of type `"+c+"` supplied to `"+i+"`, expected `object`.");var l=r({},t[n],e);for(var f in l){var d=e[f];if(!d)return new p("Invalid "+a+" `"+s+"` key `"+f+"` supplied to `"+i+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var h=d(u,f,i,a,s+"."+f,o);if(h)return h}return null})}};function f(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function p(e){this.message=e,this.stack=""}function d(e){function n(n,r,i,a,s,u,l){if((a=a||c,u=u||i,l!==o)&&t){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}return null==r[i]?n?null===r[i]?new p("The "+s+" `"+u+"` is marked as required in `"+a+"`, but its value is `null`."):new p("The "+s+" `"+u+"` is marked as required in `"+a+"`, but its value is `undefined`."):null:e(r,i,a,s,u)}var r=n.bind(null,!1);return r.isRequired=n.bind(null,!0),r}function h(e){return d(function(t,n,r,o,i,a){var s=t[n];return m(s)!==e?new p("Invalid "+o+" `"+i+"` of type `"+g(s)+"` supplied to `"+r+"`, expected `"+e+"`."):null})}function v(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(v);if(null===t||e(t))return!0;var r=function(e){var t=e&&(n&&e[n]||e[u]);if("function"==typeof t)return t}(t);if(!r)return!1;var o,i=r.call(t);if(r!==t.entries){for(;!(o=i.next()).done;)if(!v(o.value))return!1}else for(;!(o=i.next()).done;){var a=o.value;if(a&&!v(a[1]))return!1}return!0;default:return!1}}function m(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function g(e){if(null==e)return""+e;var t=m(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function y(e){var t=g(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return p.prototype=Error.prototype,l.checkPropTypes=i,l.PropTypes=l,l}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){}},function(e,t,n){"use strict";e.exports="15.6.2"},function(e,t,n){"use strict";var r=n(80).Component,o=n(28).isValidElement,i=n(81),a=n(156);e.exports=a(r,o,i)},function(e,t,n){"use strict";var r=n(9),o=n(42),i=n(4),a="mixins";e.exports=function(e,t,n){var s=[],u={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},c={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},l={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)p(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=r({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=r({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=h(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=r({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var o=n in l;i(!o,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var a=n in e;if(a){var s=c.hasOwnProperty(n)?c[n]:null;return i("DEFINE_MANY_MERGED"===s,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=h(e[n],r))}e[n]=r}}}(e,t)},autobind:function(){}};function f(e,t){var n=u.hasOwnProperty(t)?u[t]:null;_.hasOwnProperty(t)&&i("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&i("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function p(e,n){if(n){i("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),i(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,o=r.__reactAutoBindPairs;for(var s in n.hasOwnProperty(a)&&l.mixins(e,n.mixins),n)if(n.hasOwnProperty(s)&&s!==a){var c=n[s],p=r.hasOwnProperty(s);if(f(p,s),l.hasOwnProperty(s))l[s](e,c);else{var d=u.hasOwnProperty(s);if("function"!=typeof c||d||p||!1===n.autobind)if(p){var m=u[s];i(d&&("DEFINE_MANY_MERGED"===m||"DEFINE_MANY"===m),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",m,s),"DEFINE_MANY_MERGED"===m?r[s]=h(r[s],c):"DEFINE_MANY"===m&&(r[s]=v(r[s],c))}else r[s]=c;else o.push(s,c),r[s]=c}}}}function d(e,t){for(var n in i(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(i(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function h(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return d(o,n),d(o,r),o}}function v(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function m(e,t){return t.bind(e)}var g={componentDidMount:function(){this.__isMounted=!0}},y={componentWillUnmount:function(){this.__isMounted=!1}},_={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},b=function(){};return r(b.prototype,e.prototype,_),function(e){var t=function(e,r,a){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],o=t[n+1];e[r]=m(e,o)}}(this),this.props=e,this.context=r,this.refs=o,this.updater=a||n,this.state=null;var s=this.getInitialState?this.getInitialState():null;i("object"==typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=s};for(var r in t.prototype=new b,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],s.forEach(p.bind(null,t)),p(t,g),p(t,e),p(t,y),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),i(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),u)t.prototype[r]||(t.prototype[r]=null);return t}}},function(e,t,n){"use strict";var r=n(34),o=n(28);n(4);e.exports=function(e){return o.isValidElement(e)||r("143"),e}},function(e,t,n){"use strict";var r=n(10),o=n(159),i=n(108),a=n(30),s=n(18),u=n(231),c=n(232),l=n(109),f=n(233);n(8);o.inject();var p={findDOMNode:c,render:i.render,unmountComponentAtNode:i.unmountComponentAtNode,version:u,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:f};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=l(e)),e?r.getNodeFromInstance(e):null}},Mount:i,Reconciler:a}),e.exports=p},function(e,t,n){"use strict";var r=n(160),o=n(161),i=n(165),a=n(168),s=n(169),u=n(170),c=n(171),l=n(177),f=n(10),p=n(202),d=n(203),h=n(204),v=n(205),m=n(206),g=n(208),y=n(209),_=n(215),b=n(216),C=n(217),A=!1;e.exports={inject:function(){A||(A=!0,g.EventEmitter.injectReactEventListener(m),g.EventPluginHub.injectEventPluginOrder(a),g.EventPluginUtils.injectComponentTree(f),g.EventPluginUtils.injectTreeTraversal(d),g.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:C,EnterLeaveEventPlugin:s,ChangeEventPlugin:i,SelectEventPlugin:b,BeforeInputEventPlugin:o}),g.HostComponent.injectGenericComponentClass(l),g.HostComponent.injectTextComponentClass(h),g.DOMProperty.injectDOMPropertyConfig(r),g.DOMProperty.injectDOMPropertyConfig(u),g.DOMProperty.injectDOMPropertyConfig(_),g.EmptyComponent.injectEmptyComponentFactory(function(e){return new p(e)}),g.Updates.injectReconcileTransaction(y),g.Updates.injectBatchingStrategy(v),g.Component.injectEnvironment(c))}}},function(e,t,n){"use strict";e.exports={Properties:{"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},DOMAttributeNames:{},DOMPropertyNames:{}}},function(e,t,n){"use strict";var r=n(35),o=n(14),i=n(162),a=n(163),s=n(164),u=[9,13,27,32],c=229,l=o.canUseDOM&&"CompositionEvent"in window,f=null;o.canUseDOM&&"documentMode"in document&&(f=document.documentMode);var p,d=o.canUseDOM&&"TextEvent"in window&&!f&&!("object"==typeof(p=window.opera)&&"function"==typeof p.version&&parseInt(p.version(),10)<=12),h=o.canUseDOM&&(!l||f&&f>8&&f<=11);var v=32,m=String.fromCharCode(v),g={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:["topBlur","topCompositionEnd","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:["topBlur","topCompositionStart","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:["topBlur","topCompositionUpdate","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]}},y=!1;function _(e,t){switch(e){case"topKeyUp":return-1!==u.indexOf(t.keyCode);case"topKeyDown":return t.keyCode!==c;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function b(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}var C=null;function A(e,t,n,o){var s,u;if(l?s=function(e){switch(e){case"topCompositionStart":return g.compositionStart;case"topCompositionEnd":return g.compositionEnd;case"topCompositionUpdate":return g.compositionUpdate}}(e):C?_(e,n)&&(s=g.compositionEnd):function(e,t){return"topKeyDown"===e&&t.keyCode===c}(e,n)&&(s=g.compositionStart),!s)return null;h&&(C||s!==g.compositionStart?s===g.compositionEnd&&C&&(u=C.getData()):C=i.getPooled(o));var f=a.getPooled(s,t,n,o);if(u)f.data=u;else{var p=b(n);null!==p&&(f.data=p)}return r.accumulateTwoPhaseDispatches(f),f}function E(e,t,n,o){var a;if(!(a=d?function(e,t){switch(e){case"topCompositionEnd":return b(t);case"topKeyPress":return t.which!==v?null:(y=!0,m);case"topTextInput":var n=t.data;return n===m&&y?null:n;default:return null}}(e,n):function(e,t){if(C){if("topCompositionEnd"===e||!l&&_(e,t)){var n=C.getData();return i.release(C),C=null,n}return null}switch(e){case"topPaste":return null;case"topKeyPress":return t.which&&!function(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}(t)?String.fromCharCode(t.which):null;case"topCompositionEnd":return h?null:t.data;default:return null}}(e,n)))return null;var u=s.getPooled(g.beforeInput,t,n,o);return u.data=a,r.accumulateTwoPhaseDispatches(u),u}var S={eventTypes:g,extractEvents:function(e,t,n,r){return[A(e,t,n,r),E(e,t,n,r)]}};e.exports=S},function(e,t,n){"use strict";var r=n(9),o=n(24),i=n(88);function a(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}r(a.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[i()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,o=this.getText(),i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=o.slice(e,s),this._fallbackText}}),o.addPoolingTo(a),e.exports=a},function(e,t,n){"use strict";var r=n(22);function o(e,t,n,o){return r.call(this,e,t,n,o)}r.augmentClass(o,{data:null}),e.exports=o},function(e,t,n){"use strict";var r=n(22);function o(e,t,n,o){return r.call(this,e,t,n,o)}r.augmentClass(o,{data:null}),e.exports=o},function(e,t,n){"use strict";var r=n(36),o=n(35),i=n(14),a=n(10),s=n(18),u=n(22),c=n(91),l=n(56),f=n(57),p=n(92),d={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:["topBlur","topChange","topClick","topFocus","topInput","topKeyDown","topKeyUp","topSelectionChange"]}};function h(e,t,n){var r=u.getPooled(d.change,e,t,n);return r.type="change",o.accumulateTwoPhaseDispatches(r),r}var v=null,m=null;var g=!1;function y(e){var t=h(m,e,l(e));s.batchedUpdates(_,t)}function _(e){r.enqueueEvents(e),r.processEventQueue(!1)}function b(){v&&(v.detachEvent("onchange",y),v=null,m=null)}function C(e,t){var n=c.updateValueIfChanged(e),r=!0===t.simulated&&I._allowSimulatedPassThrough;if(n||r)return e}function A(e,t){if("topChange"===e)return t}function E(e,t,n){"topFocus"===e?(b(),function(e,t){m=t,(v=e).attachEvent("onchange",y)}(t,n)):"topBlur"===e&&b()}i.canUseDOM&&(g=f("change")&&(!document.documentMode||document.documentMode>8));var S=!1;function T(){v&&(v.detachEvent("onpropertychange",w),v=null,m=null)}function w(e){"value"===e.propertyName&&C(m,e)&&y(e)}function k(e,t,n){"topFocus"===e?(T(),function(e,t){m=t,(v=e).attachEvent("onpropertychange",w)}(t,n)):"topBlur"===e&&T()}function R(e,t,n){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return C(m,n)}function O(e,t,n){if("topClick"===e)return C(t,n)}function x(e,t,n){if("topInput"===e||"topChange"===e)return C(t,n)}i.canUseDOM&&(S=f("input")&&(!document.documentMode||document.documentMode>9));var I={eventTypes:d,_allowSimulatedPassThrough:!0,_isInputEventSupported:S,extractEvents:function(e,t,n,r){var o,i,s,u,c=t?a.getNodeFromInstance(t):window;if("select"===(u=(s=c).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type?g?o=A:i=E:p(c)?S?o=x:(o=R,i=k):function(e){var t=e.nodeName;return t&&"input"===t.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}(c)&&(o=O),o){var l=o(e,t,n);if(l)return h(l,n,r)}i&&i(e,c,t),"topBlur"===e&&function(e,t){if(null!=e){var n=e._wrapperState||t._wrapperState;if(n&&n.controlled&&"number"===t.type){var r=""+t.value;t.getAttribute("value")!==r&&t.setAttribute("value",r)}}}(t,c)}};e.exports=I},function(e,t,n){"use strict";var r=n(167),o={};o.attachRefs=function(e,t){if(null!==t&&"object"==typeof t){var n=t.ref;null!=n&&function(e,t,n){"function"==typeof e?e(t.getPublicInstance()):r.addComponentAsRefTo(t,e,n)}(n,e,t._owner)}},o.shouldUpdateRefs=function(e,t){var n=null,r=null;null!==e&&"object"==typeof e&&(n=e.ref,r=e._owner);var o=null,i=null;return null!==t&&"object"==typeof t&&(o=t.ref,i=t._owner),n!==o||"string"==typeof o&&i!==r},o.detachRefs=function(e,t){if(null!==t&&"object"==typeof t){var n=t.ref;null!=n&&function(e,t,n){"function"==typeof e?e(null):r.removeComponentAsRefFrom(t,e,n)}(n,e,t._owner)}},e.exports=o},function(e,t,n){"use strict";var r=n(7);n(4);function o(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)}var i={addComponentAsRefTo:function(e,t,n){o(n)||r("119"),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){o(n)||r("120");var i=n.getPublicInstance();i&&i.refs[t]===e.getPublicInstance()&&n.detachRef(t)}};e.exports=i},function(e,t,n){"use strict";e.exports=["ResponderEventPlugin","SimpleEventPlugin","TapEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin"]},function(e,t,n){"use strict";var r=n(35),o=n(10),i=n(44),a={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},s={eventTypes:a,extractEvents:function(e,t,n,s){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement))return null;if("topMouseOut"!==e&&"topMouseOver"!==e)return null;var u,c,l;if(s.window===s)u=s;else{var f=s.ownerDocument;u=f?f.defaultView||f.parentWindow:window}if("topMouseOut"===e){c=t;var p=n.relatedTarget||n.toElement;l=p?o.getClosestInstanceFromNode(p):null}else c=null,l=t;if(c===l)return null;var d=null==c?u:o.getNodeFromInstance(c),h=null==l?u:o.getNodeFromInstance(l),v=i.getPooled(a.mouseLeave,c,n,s);v.type="mouseleave",v.target=d,v.relatedTarget=h;var m=i.getPooled(a.mouseEnter,l,n,s);return m.type="mouseenter",m.target=h,m.relatedTarget=d,r.accumulateEnterLeaveDispatches(v,m,c,l),[v,m]}};e.exports=s},function(e,t,n){"use strict";var r=n(29),o=r.injection.MUST_USE_PROPERTY,i=r.injection.HAS_BOOLEAN_VALUE,a=r.injection.HAS_NUMERIC_VALUE,s=r.injection.HAS_POSITIVE_NUMERIC_VALUE,u=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,c={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:i,allowTransparency:0,alt:0,as:0,async:i,autoComplete:0,autoPlay:i,capture:i,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:o|i,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:i,controlsList:0,coords:0,crossOrigin:0,data:0,dateTime:0,default:i,defer:i,dir:0,disabled:i,download:u,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:i,formTarget:0,frameBorder:0,headers:0,height:0,hidden:i,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:i,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:o|i,muted:o|i,name:0,nonce:0,noValidate:i,open:i,optimum:0,pattern:0,placeholder:0,playsInline:i,poster:0,preload:0,profile:0,radioGroup:0,readOnly:i,referrerPolicy:0,rel:0,required:i,reversed:i,role:0,rows:s,rowSpan:a,sandbox:0,scope:0,scoped:i,scrolling:0,seamless:i,selected:o|i,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:a,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:i,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{},DOMMutationMethods:{value:function(e,t){if(null==t)return e.removeAttribute("value");"number"!==e.type||!1===e.hasAttribute("value")?e.setAttribute("value",""+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute("value",""+t)}}};e.exports=c},function(e,t,n){"use strict";var r=n(59),o={processChildrenUpdates:n(176).dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup};e.exports=o},function(e,t,n){"use strict";var r=n(7),o=n(31),i=n(14),a=n(173),s=n(17),u=(n(4),{dangerouslyReplaceNodeWithMarkup:function(e,t){if(i.canUseDOM||r("56"),t||r("57"),"HTML"===e.nodeName&&r("58"),"string"==typeof t){var n=a(t,s)[0];e.parentNode.replaceChild(n,e)}else o.replaceChildWithTree(e,t)}});e.exports=u},function(e,t,n){"use strict";var r=n(14),o=n(174),i=n(175),a=n(4),s=r.canUseDOM?document.createElement("div"):null,u=/^\s*<(\w+)/;e.exports=function(e,t){var n=s;s||a(!1);var r=function(e){var t=e.match(u);return t&&t[1].toLowerCase()}(e),c=r&&i(r);if(c){n.innerHTML=c[1]+e+c[2];for(var l=c[0];l--;)n=n.lastChild}else n.innerHTML=e;var f=n.getElementsByTagName("script");f.length&&(t||a(!1),o(f).forEach(t));for(var p=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return p}},function(e,t,n){"use strict";var r=n(4);e.exports=function(e){return function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}(e)?Array.isArray(e)?e.slice():function(e){var t=e.length;if((Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e)&&r(!1),"number"!=typeof t&&r(!1),0===t||t-1 in e||r(!1),"function"==typeof e.callee&&r(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),o=0;o<t;o++)n[o]=e[o];return n}(e):[e]}},function(e,t,n){"use strict";var r=n(14),o=n(4),i=r.canUseDOM?document.createElement("div"):null,a={},s=[1,'<select multiple="true">',"</select>"],u=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],l=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],f={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:s,option:s,caption:u,colgroup:u,tbody:u,tfoot:u,thead:u,td:c,th:c};["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"].forEach(function(e){f[e]=l,a[e]=!0}),e.exports=function(e){return i||o(!1),f.hasOwnProperty(e)||(e="*"),a.hasOwnProperty(e)||(i.innerHTML="*"===e?"<link />":"<"+e+"></"+e+">",a[e]=!i.firstChild),a[e]?f[e]:null}},function(e,t,n){"use strict";var r=n(59),o=n(10),i={dangerouslyProcessChildrenUpdates:function(e,t){var n=o.getNodeFromInstance(e);r.processUpdates(n,t)}};e.exports=i},function(e,t,n){"use strict";var r=n(7),o=n(9),i=n(178),a=n(179),s=n(31),u=n(60),c=n(29),l=n(97),f=n(36),p=n(53),d=n(47),h=n(85),v=n(10),m=n(189),g=n(191),y=n(98),_=n(192),b=(n(15),n(193)),C=n(200),A=(n(17),n(46)),E=(n(4),n(57),n(64),n(91)),S=(n(68),n(8),h),T=f.deleteListener,w=v.getNodeFromInstance,k=d.listenTo,R=p.registrationNameModules,O={string:!0,number:!0},x="__html",I={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},P=11;function N(e,t){t&&(G[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&r("137",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&r("60"),"object"==typeof t.dangerouslySetInnerHTML&&x in t.dangerouslySetInnerHTML||r("61")),null!=t.style&&"object"!=typeof t.style&&r("62",function(e){if(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}(e)))}function D(e,t,n,r){if(!(r instanceof C)){0;var o=e._hostContainerInfo,i=o._node&&o._node.nodeType===P?o._node:o._ownerDocument;k(t,i),r.getReactMountReady().enqueue(M,{inst:e,registrationName:t,listener:n})}}function M(){f.putListener(this.inst,this.registrationName,this.listener)}function U(){m.postMountWrapper(this)}function j(){_.postMountWrapper(this)}function L(){g.postMountWrapper(this)}var F={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"};function B(){E.track(this)}function H(){this._rootNodeID||r("63");var e=w(this);switch(e||r("64"),this._tag){case"iframe":case"object":this._wrapperState.listeners=[d.trapBubbledEvent("topLoad","load",e)];break;case"video":case"audio":for(var t in this._wrapperState.listeners=[],F)F.hasOwnProperty(t)&&this._wrapperState.listeners.push(d.trapBubbledEvent(t,F[t],e));break;case"source":this._wrapperState.listeners=[d.trapBubbledEvent("topError","error",e)];break;case"img":this._wrapperState.listeners=[d.trapBubbledEvent("topError","error",e),d.trapBubbledEvent("topLoad","load",e)];break;case"form":this._wrapperState.listeners=[d.trapBubbledEvent("topReset","reset",e),d.trapBubbledEvent("topSubmit","submit",e)];break;case"input":case"select":case"textarea":this._wrapperState.listeners=[d.trapBubbledEvent("topInvalid","invalid",e)]}}function q(){y.postUpdateWrapper(this)}var W={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},V={listing:!0,pre:!0,textarea:!0},G=o({menuitem:!0},W),z=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Y={},K={}.hasOwnProperty;function Q(e,t){return e.indexOf("-")>=0||null!=t.is}var J=1;function Z(e){var t=e.type;!function(e){K.call(Y,e)||(z.test(e)||r("65",e),Y[e]=!0)}(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}Z.displayName="ReactDOMComponent",Z.Mixin={mountComponent:function(e,t,n,r){this._rootNodeID=J++,this._domID=n._idCounter++,this._hostParent=t,this._hostContainerInfo=n;var o,a,c,f=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(H,this);break;case"input":m.mountWrapper(this,f,t),f=m.getHostProps(this,f),e.getReactMountReady().enqueue(B,this),e.getReactMountReady().enqueue(H,this);break;case"option":g.mountWrapper(this,f,t),f=g.getHostProps(this,f);break;case"select":y.mountWrapper(this,f,t),f=y.getHostProps(this,f),e.getReactMountReady().enqueue(H,this);break;case"textarea":_.mountWrapper(this,f,t),f=_.getHostProps(this,f),e.getReactMountReady().enqueue(B,this),e.getReactMountReady().enqueue(H,this)}if(N(this,f),null!=t?(o=t._namespaceURI,a=t._tag):n._tag&&(o=n._namespaceURI,a=n._tag),(null==o||o===u.svg&&"foreignobject"===a)&&(o=u.html),o===u.html&&("svg"===this._tag?o=u.svg:"math"===this._tag&&(o=u.mathml)),this._namespaceURI=o,e.useCreateElement){var p,d=n._ownerDocument;if(o===u.html)if("script"===this._tag){var h=d.createElement("div"),b=this._currentElement.type;h.innerHTML="<"+b+"></"+b+">",p=h.removeChild(h.firstChild)}else p=f.is?d.createElement(this._currentElement.type,f.is):d.createElement(this._currentElement.type);else p=d.createElementNS(o,this._currentElement.type);v.precacheNode(this,p),this._flags|=S.hasCachedChildNodes,this._hostParent||l.setAttributeForRoot(p),this._updateDOMProperties(null,f,e);var C=s(p);this._createInitialChildren(e,f,r,C),c=C}else{var A=this._createOpenTagMarkupAndPutListeners(e,f),E=this._createContentMarkup(e,f,r);c=!E&&W[this._tag]?A+"/>":A+">"+E+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(U,this),f.autoFocus&&e.getReactMountReady().enqueue(i.focusDOMComponent,this);break;case"textarea":e.getReactMountReady().enqueue(j,this),f.autoFocus&&e.getReactMountReady().enqueue(i.focusDOMComponent,this);break;case"select":case"button":f.autoFocus&&e.getReactMountReady().enqueue(i.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(L,this)}return c},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];if(null!=i)if(R.hasOwnProperty(r))i&&D(this,r,i,e);else{"style"===r&&(i&&(i=this._previousStyleCopy=o({},t.style)),i=a.createMarkupForStyles(i,this));var s=null;null!=this._tag&&Q(this._tag,t)?I.hasOwnProperty(r)||(s=l.createMarkupForCustomAttribute(r,i)):s=l.createMarkupForProperty(r,i),s&&(n+=" "+s)}}return e.renderToStaticMarkup?n:(this._hostParent||(n+=" "+l.createMarkupForRoot()),n+=" "+l.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,n){var r="",o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&(r=o.__html);else{var i=O[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)r=A(i);else if(null!=a){r=this.mountChildren(a,e,n).join("")}}return V[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&s.queueHTML(r,o.__html);else{var i=O[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)""!==i&&s.queueText(r,i);else if(null!=a)for(var u=this.mountChildren(a,e,n),c=0;c<u.length;c++)s.queueChild(r,u[c])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var o=t.props,i=this._currentElement.props;switch(this._tag){case"input":o=m.getHostProps(this,o),i=m.getHostProps(this,i);break;case"option":o=g.getHostProps(this,o),i=g.getHostProps(this,i);break;case"select":o=y.getHostProps(this,o),i=y.getHostProps(this,i);break;case"textarea":o=_.getHostProps(this,o),i=_.getHostProps(this,i)}switch(N(this,i),this._updateDOMProperties(o,i,e),this._updateDOMChildren(o,i,e,r),this._tag){case"input":m.updateWrapper(this),E.updateValueIfChanged(this);break;case"textarea":_.updateWrapper(this);break;case"select":e.getReactMountReady().enqueue(q,this)}},_updateDOMProperties:function(e,t,n){var r,i,s;for(r in e)if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&null!=e[r])if("style"===r){var u=this._previousStyleCopy;for(i in u)u.hasOwnProperty(i)&&((s=s||{})[i]="");this._previousStyleCopy=null}else R.hasOwnProperty(r)?e[r]&&T(this,r):Q(this._tag,e)?I.hasOwnProperty(r)||l.deleteValueForAttribute(w(this),r):(c.properties[r]||c.isCustomAttribute(r))&&l.deleteValueForProperty(w(this),r);for(r in t){var f=t[r],p="style"===r?this._previousStyleCopy:null!=e?e[r]:void 0;if(t.hasOwnProperty(r)&&f!==p&&(null!=f||null!=p))if("style"===r)if(f?f=this._previousStyleCopy=o({},f):this._previousStyleCopy=null,p){for(i in p)!p.hasOwnProperty(i)||f&&f.hasOwnProperty(i)||((s=s||{})[i]="");for(i in f)f.hasOwnProperty(i)&&p[i]!==f[i]&&((s=s||{})[i]=f[i])}else s=f;else if(R.hasOwnProperty(r))f?D(this,r,f,n):p&&T(this,r);else if(Q(this._tag,t))I.hasOwnProperty(r)||l.setValueForAttribute(w(this),r,f);else if(c.properties[r]||c.isCustomAttribute(r)){var d=w(this);null!=f?l.setValueForProperty(d,r,f):l.deleteValueForProperty(d,r)}}s&&a.setValueForStyles(w(this),s,this)},_updateDOMChildren:function(e,t,n,r){var o=O[typeof e.children]?e.children:null,i=O[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,u=null!=o?null:e.children,c=null!=i?null:t.children,l=null!=o||null!=a,f=null!=i||null!=s;null!=u&&null==c?this.updateChildren(null,n,r):l&&!f&&this.updateTextContent(""),null!=i?o!==i&&this.updateTextContent(""+i):null!=s?a!==s&&this.updateMarkup(""+s):null!=c&&this.updateChildren(c,n,r)},getHostNode:function(){return w(this)},unmountComponent:function(e){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var t=this._wrapperState.listeners;if(t)for(var n=0;n<t.length;n++)t[n].remove();break;case"input":case"textarea":E.stopTracking(this);break;case"html":case"head":case"body":r("66",this._tag)}this.unmountChildren(e),v.uncacheNode(this),f.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return w(this)}},o(Z.prototype,Z.Mixin,b.Mixin),e.exports=Z},function(e,t,n){"use strict";var r=n(10),o=n(95),i={focusDOMComponent:function(){o(r.getNodeFromInstance(this))}};e.exports=i},function(e,t,n){"use strict";var r=n(96),o=n(14),i=(n(15),n(180),n(182)),a=n(183),s=n(185),u=(n(8),s(function(e){return a(e)})),c=!1,l="cssFloat";if(o.canUseDOM){var f=document.createElement("div").style;try{f.font=""}catch(e){c=!0}void 0===document.documentElement.style.cssFloat&&(l="styleFloat")}var p={createMarkupForStyles:function(e,t){var n="";for(var r in e)if(e.hasOwnProperty(r)){var o=0===r.indexOf("--"),a=e[r];0,null!=a&&(n+=u(r)+":",n+=i(r,a,t,o)+";")}return n||null},setValueForStyles:function(e,t,n){var o=e.style;for(var a in t)if(t.hasOwnProperty(a)){var s=0===a.indexOf("--");0;var u=i(a,t[a],n,s);if("float"!==a&&"cssFloat"!==a||(a=l),s)o.setProperty(a,u);else if(u)o[a]=u;else{var f=c&&r.shorthandPropertyExpansions[a];if(f)for(var p in f)o[p]="";else o[a]=""}}}};e.exports=p},function(e,t,n){"use strict";var r=n(181),o=/^-ms-/;e.exports=function(e){return r(e.replace(o,"ms-"))}},function(e,t,n){"use strict";var r=/-(.)/g;e.exports=function(e){return e.replace(r,function(e,t){return t.toUpperCase()})}},function(e,t,n){"use strict";var r=n(96),o=(n(8),r.isUnitlessNumber);e.exports=function(e,t,n,r){if(null==t||"boolean"==typeof t||""===t)return"";var i=isNaN(t);return r||i||0===t||o.hasOwnProperty(e)&&o[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}},function(e,t,n){"use strict";var r=n(184),o=/^ms-/;e.exports=function(e){return r(e).replace(o,"-ms-")}},function(e,t,n){"use strict";var r=/([A-Z])/g;e.exports=function(e){return e.replace(r,"-$1").toLowerCase()}},function(e,t,n){"use strict";e.exports=function(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}},function(e,t,n){"use strict";var r=n(46);e.exports=function(e){return'"'+r(e)+'"'}},function(e,t,n){"use strict";var r=n(36);var o={handleTopLevel:function(e,t,n,o){!function(e){r.enqueueEvents(e),r.processEventQueue(!1)}(r.extractEvents(e,t,n,o))}};e.exports=o},function(e,t,n){"use strict";var r=n(14);function o(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}var i={animationend:o("Animation","AnimationEnd"),animationiteration:o("Animation","AnimationIteration"),animationstart:o("Animation","AnimationStart"),transitionend:o("Transition","TransitionEnd")},a={},s={};r.canUseDOM&&(s=document.createElement("div").style,"AnimationEvent"in window||(delete i.animationend.animation,delete i.animationiteration.animation,delete i.animationstart.animation),"TransitionEvent"in window||delete i.transitionend.transition),e.exports=function(e){if(a[e])return a[e];if(!i[e])return e;var t=i[e];for(var n in t)if(t.hasOwnProperty(n)&&n in s)return a[e]=t[n];return""}},function(e,t,n){"use strict";var r=n(7),o=n(9),i=n(97),a=n(62),s=n(10),u=n(18);n(4),n(8);function c(){this._rootNodeID&&f.updateWrapper(this)}function l(e){return"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}var f={getHostProps:function(e,t){var n=a.getValue(t),r=a.getChecked(t);return o({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:n,listeners:null,onChange:p.bind(e),controlled:l(t)}},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&i.setValueForProperty(s.getNodeFromInstance(e),"checked",n||!1);var r=s.getNodeFromInstance(e),o=a.getValue(t);if(null!=o)if(0===o&&""===r.value)r.value="0";else if("number"===t.type){var u=parseFloat(r.value,10)||0;(o!=u||o==u&&r.value!=o)&&(r.value=""+o)}else r.value!==""+o&&(r.value=""+o);else null==t.value&&null!=t.defaultValue&&r.defaultValue!==""+t.defaultValue&&(r.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(r.defaultChecked=!!t.defaultChecked)},postMountWrapper:function(e){var t=e._currentElement.props,n=s.getNodeFromInstance(e);switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":n.value="",n.value=n.defaultValue;break;default:n.value=n.value}var r=n.name;""!==r&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==r&&(n.name=r)}};function p(e){var t=this._currentElement.props,n=a.executeOnChange(t,e);u.asap(c,this);var o=t.name;if("radio"===t.type&&null!=o){for(var i=s.getNodeFromInstance(this),l=i;l.parentNode;)l=l.parentNode;for(var f=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),p=0;p<f.length;p++){var d=f[p];if(d!==i&&d.form===i.form){var h=s.getInstanceFromNode(d);h||r("90"),u.asap(c,h)}}}return n}e.exports=f},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=n(9),o=n(27),i=n(10),a=n(98),s=(n(8),!1);function u(e){var t="";return o.Children.forEach(e,function(e){null!=e&&("string"==typeof e||"number"==typeof e?t+=e:s||(s=!0))}),t}var c={mountWrapper:function(e,t,n){var r=null;if(null!=n){var o=n;"optgroup"===o._tag&&(o=o._hostParent),null!=o&&"select"===o._tag&&(r=a.getSelectValueContext(o))}var i,s=null;if(null!=r)if(i=null!=t.value?t.value+"":u(t.children),s=!1,Array.isArray(r)){for(var c=0;c<r.length;c++)if(""+r[c]===i){s=!0;break}}else s=""+r===i;e._wrapperState={selected:s}},postMountWrapper:function(e){var t=e._currentElement.props;null!=t.value&&i.getNodeFromInstance(e).setAttribute("value",t.value)},getHostProps:function(e,t){var n=r({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(n.selected=e._wrapperState.selected);var o=u(t.children);return o&&(n.children=o),n}};e.exports=c},function(e,t,n){"use strict";var r=n(7),o=n(9),i=n(62),a=n(10),s=n(18);n(4),n(8);function u(){this._rootNodeID&&c.updateWrapper(this)}var c={getHostProps:function(e,t){return null!=t.dangerouslySetInnerHTML&&r("91"),o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){var n=i.getValue(t),o=n;if(null==n){var a=t.defaultValue,s=t.children;null!=s&&(null!=a&&r("92"),Array.isArray(s)&&(s.length<=1||r("93"),s=s[0]),a=""+s),null==a&&(a=""),o=a}e._wrapperState={initialValue:""+o,listeners:null,onChange:l.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=a.getNodeFromInstance(e),r=i.getValue(t);if(null!=r){var o=""+r;o!==n.value&&(n.value=o),null==t.defaultValue&&(n.defaultValue=o)}null!=t.defaultValue&&(n.defaultValue=t.defaultValue)},postMountWrapper:function(e){var t=a.getNodeFromInstance(e),n=t.textContent;n===e._wrapperState.initialValue&&(t.value=n)}};function l(e){var t=this._currentElement.props,n=i.executeOnChange(t,e);return s.asap(u,this),n}e.exports=c},function(e,t,n){"use strict";var r=n(7),o=n(63),i=(n(38),n(15),n(21),n(30)),a=n(194),s=(n(17),n(199));n(4);function u(e,t){return t&&(e=e||[]).push(t),e}function c(e,t){o.processChildrenUpdates(e,t)}var l={Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return a.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r,o,i){var u;return u=s(t,0),a.updateChildren(e,u,n,r,o,this,this._hostContainerInfo,i,0),u},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var o=[],a=0;for(var s in r)if(r.hasOwnProperty(s)){var u=r[s];0;var c=i.mountComponent(u,t,this,this._hostContainerInfo,n,0);u._mountIndex=a++,o.push(c)}return o},updateTextContent:function(e){var t,n=this._renderedChildren;for(var o in a.unmountChildren(n,!1),n)n.hasOwnProperty(o)&&r("118");c(this,[(t=e,{type:"TEXT_CONTENT",content:t,fromIndex:null,fromNode:null,toIndex:null,afterNode:null})])},updateMarkup:function(e){var t,n=this._renderedChildren;for(var o in a.unmountChildren(n,!1),n)n.hasOwnProperty(o)&&r("118");c(this,[(t=e,{type:"SET_MARKUP",content:t,fromIndex:null,fromNode:null,toIndex:null,afterNode:null})])},updateChildren:function(e,t,n){this._updateChildren(e,t,n)},_updateChildren:function(e,t,n){var r=this._renderedChildren,o={},a=[],s=this._reconcilerUpdateChildren(r,e,a,o,t,n);if(s||r){var l,f=null,p=0,d=0,h=0,v=null;for(l in s)if(s.hasOwnProperty(l)){var m=r&&r[l],g=s[l];m===g?(f=u(f,this.moveChild(m,v,p,d)),d=Math.max(m._mountIndex,d),m._mountIndex=p):(m&&(d=Math.max(m._mountIndex,d)),f=u(f,this._mountChildAtIndex(g,a[h],v,p,t,n)),h++),p++,v=i.getHostNode(g)}for(l in o)o.hasOwnProperty(l)&&(f=u(f,this._unmountChild(r[l],o[l])));f&&c(this,f),this._renderedChildren=s}},unmountChildren:function(e){var t=this._renderedChildren;a.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,n,r){if(e._mountIndex<r)return function(e,t,n){return{type:"MOVE_EXISTING",content:null,fromIndex:e._mountIndex,fromNode:i.getHostNode(e),toIndex:n,afterNode:t}}(e,t,n)},createChild:function(e,t,n){return function(e,t,n){return{type:"INSERT_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:n,afterNode:t}}(n,t,e._mountIndex)},removeChild:function(e,t){return function(e,t){return{type:"REMOVE_NODE",content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}(e,t)},_mountChildAtIndex:function(e,t,n,r,o,i){return e._mountIndex=r,this.createChild(e,n,t)},_unmountChild:function(e,t){var n=this.removeChild(e,t);return e._mountIndex=null,n}}};e.exports=l},function(e,t,n){"use strict";(function(t){var r=n(30),o=n(99),i=(n(66),n(65)),a=n(103);n(8);function s(e,t,n,r){var i=void 0===e[n];null!=t&&i&&(e[n]=o(t,!0))}void 0!==t&&Object({NODE_ENV:"production"});var u={instantiateChildren:function(e,t,n,r){if(null==e)return null;var o={};return a(e,s,o),o},updateChildren:function(e,t,n,a,s,u,c,l,f){if(t||e){var p,d;for(p in t)if(t.hasOwnProperty(p)){var h=(d=e&&e[p])&&d._currentElement,v=t[p];if(null!=d&&i(h,v))r.receiveComponent(d,v,s,l),t[p]=d;else{d&&(a[p]=r.getHostNode(d),r.unmountComponent(d,!1));var m=o(v,!0);t[p]=m;var g=r.mountComponent(m,s,u,c,l,f);n.push(g)}}for(p in e)!e.hasOwnProperty(p)||t&&t.hasOwnProperty(p)||(d=e[p],a[p]=r.getHostNode(d),r.unmountComponent(d,!1))}},unmountChildren:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];r.unmountComponent(o,t)}}};e.exports=u}).call(this,n(39))},function(e,t,n){"use strict";var r=n(7),o=n(9),i=n(27),a=n(63),s=n(21),u=n(55),c=n(38),l=(n(15),n(100)),f=n(30),p=n(42),d=(n(4),n(64)),h=n(65),v=(n(8),0),m=1,g=2;function y(e){}function _(e,t){0}y.prototype.render=function(){var e=c.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return _(e,t),t};var b=1,C={construct:function(e){this._currentElement=e,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(e,t,n,o){this._context=o,this._mountOrder=b++,this._hostParent=t,this._hostContainerInfo=n;var a,s=this._currentElement.props,u=this._processContext(o),l=this._currentElement.type,f=e.getUpdateQueue(),d=function(e){return!(!e.prototype||!e.prototype.isReactComponent)}(l),h=this._constructComponent(d,s,u,f);d||null!=h&&null!=h.render?!function(e){return!(!e.prototype||!e.prototype.isPureReactComponent)}(l)?this._compositeType=v:this._compositeType=m:(a=h,_(),null===h||!1===h||i.isValidElement(h)||r("105",l.displayName||l.name||"Component"),h=new y(l),this._compositeType=g),h.props=s,h.context=u,h.refs=p,h.updater=f,this._instance=h,c.set(h,this);var C,A=h.state;return void 0===A&&(h.state=A=null),("object"!=typeof A||Array.isArray(A))&&r("106",this.getName()||"ReactCompositeComponent"),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,C=h.unstable_handleError?this.performInitialMountWithErrorHandling(a,t,n,e,o):this.performInitialMount(a,t,n,e,o),h.componentDidMount&&e.getReactMountReady().enqueue(h.componentDidMount,h),C},_constructComponent:function(e,t,n,r){return this._constructComponentWithoutOwner(e,t,n,r)},_constructComponentWithoutOwner:function(e,t,n,r){var o=this._currentElement.type;return e?new o(t,n,r):o(t,n,r)},performInitialMountWithErrorHandling:function(e,t,n,r,o){var i,a=r.checkpoint();try{i=this.performInitialMount(e,t,n,r,o)}catch(s){r.rollback(a),this._instance.unstable_handleError(s),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(a),i=this.performInitialMount(e,t,n,r,o)}return i},performInitialMount:function(e,t,n,r,o){var i=this._instance;i.componentWillMount&&(i.componentWillMount(),this._pendingStateQueue&&(i.state=this._processPendingState(i.props,i.context))),void 0===e&&(e=this._renderValidatedComponent());var a=l.getType(e);this._renderedNodeType=a;var s=this._instantiateReactComponent(e,a!==l.EMPTY);return this._renderedComponent=s,f.mountComponent(s,r,t,n,this._processChildContext(o),0)},getHostNode:function(){return f.getHostNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var n=this.getName()+".componentWillUnmount()";u.invokeGuardedCallback(n,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(f.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,c.remove(t)}},_maskContext:function(e){var t=this._currentElement.type.contextTypes;if(!t)return p;var n={};for(var r in t)n[r]=e[r];return n},_processContext:function(e){return this._maskContext(e)},_processChildContext:function(e){var t,n=this._currentElement.type,i=this._instance;if(i.getChildContext&&(t=i.getChildContext()),t){for(var a in"object"!=typeof n.childContextTypes&&r("107",this.getName()||"ReactCompositeComponent"),t)a in n.childContextTypes||r("108",this.getName()||"ReactCompositeComponent",a);return o({},e,t)}return e},_checkContextTypes:function(e,t,n){0},receiveComponent:function(e,t,n){var r=this._currentElement,o=this._context;this._pendingElement=null,this.updateComponent(t,r,e,o,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement?f.receiveComponent(this,this._pendingElement,e,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(e,t,n,o,i){var a=this._instance;null==a&&r("136",this.getName()||"ReactCompositeComponent");var s,u=!1;this._context===i?s=a.context:(s=this._processContext(i),u=!0);var c=t.props,l=n.props;t!==n&&(u=!0),u&&a.componentWillReceiveProps&&a.componentWillReceiveProps(l,s);var f=this._processPendingState(l,s),p=!0;this._pendingForceUpdate||(a.shouldComponentUpdate?p=a.shouldComponentUpdate(l,f,s):this._compositeType===m&&(p=!d(c,l)||!d(a.state,f))),this._updateBatchNumber=null,p?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,l,f,s,e,i)):(this._currentElement=n,this._context=i,a.props=l,a.state=f,a.context=s)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,i=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(i&&1===r.length)return r[0];for(var a=o({},i?r[0]:n.state),s=i?1:0;s<r.length;s++){var u=r[s];o(a,"function"==typeof u?u.call(n,a,e,t):u)}return a},_performComponentUpdate:function(e,t,n,r,o,i){var a,s,u,c=this._instance,l=Boolean(c.componentDidUpdate);l&&(a=c.props,s=c.state,u=c.context),c.componentWillUpdate&&c.componentWillUpdate(t,n,r),this._currentElement=e,this._context=i,c.props=t,c.state=n,c.context=r,this._updateRenderedComponent(o,i),l&&o.getReactMountReady().enqueue(c.componentDidUpdate.bind(c,a,s,u),c)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,o=this._renderValidatedComponent();if(h(r,o))f.receiveComponent(n,o,e,this._processChildContext(t));else{var i=f.getHostNode(n);f.unmountComponent(n,!1);var a=l.getType(o);this._renderedNodeType=a;var s=this._instantiateReactComponent(o,a!==l.EMPTY);this._renderedComponent=s;var u=f.mountComponent(s,e,this._hostParent,this._hostContainerInfo,this._processChildContext(t),0);this._replaceNodeWithMarkup(i,u,n)}},_replaceNodeWithMarkup:function(e,t,n){a.replaceNodeWithMarkup(e,t,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){return this._instance.render()},_renderValidatedComponent:function(){var e;if(this._compositeType!==g){s.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{s.current=null}}else e=this._renderValidatedComponentWithoutOwnerOrContext();return null===e||!1===e||i.isValidElement(e)||r("109",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n&&r("110");var o=t.getPublicInstance();(n.refs===p?n.refs={}:n.refs)[e]=o},detachRef:function(e){delete this.getPublicInstance().refs[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return this._compositeType===g?null:e},_instantiateReactComponent:null};e.exports=C},function(e,t,n){"use strict";var r=1;e.exports=function(){return r++}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=r},function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.iterator,o="@@iterator";e.exports=function(e){var t=e&&(r&&e[r]||e[o]);if("function"==typeof t)return t}},function(e,t,n){"use strict";(function(t){n(66);var r=n(103);n(8);function o(e,t,n,r){if(e&&"object"==typeof e){var o=e;0,void 0===o[n]&&null!=t&&(o[n]=t)}}void 0!==t&&Object({NODE_ENV:"production"}),e.exports=function(e,t){if(null==e)return e;var n={};return r(e,o,n),n}}).call(this,n(39))},function(e,t,n){"use strict";var r=n(9),o=n(24),i=n(43),a=(n(15),n(201)),s=[];var u={enqueue:function(){}};function c(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1,this.updateQueue=new a(this)}var l={getTransactionWrappers:function(){return s},getReactMountReady:function(){return u},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};r(c.prototype,i,l),o.addPoolingTo(c),e.exports=c},function(e,t,n){"use strict";var r=n(67);n(8);var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.transaction=t}return e.prototype.isMounted=function(e){return!1},e.prototype.enqueueCallback=function(e,t,n){this.transaction.isInTransaction()&&r.enqueueCallback(e,t,n)},e.prototype.enqueueForceUpdate=function(e){this.transaction.isInTransaction()&&r.enqueueForceUpdate(e)},e.prototype.enqueueReplaceState=function(e,t){this.transaction.isInTransaction()&&r.enqueueReplaceState(e,t)},e.prototype.enqueueSetState=function(e,t){this.transaction.isInTransaction()&&r.enqueueSetState(e,t)},e}();e.exports=o},function(e,t,n){"use strict";var r=n(9),o=n(31),i=n(10),a=function(e){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};r(a.prototype,{mountComponent:function(e,t,n,r){var a=n._idCounter++;this._domID=a,this._hostParent=t,this._hostContainerInfo=n;var s=" react-empty: "+this._domID+" ";if(e.useCreateElement){var u=n._ownerDocument.createComment(s);return i.precacheNode(this,u),o(u)}return e.renderToStaticMarkup?"":"\x3c!--"+s+"--\x3e"},receiveComponent:function(){},getHostNode:function(){return i.getNodeFromInstance(this)},unmountComponent:function(){i.uncacheNode(this)}}),e.exports=a},function(e,t,n){"use strict";var r=n(7);n(4);function o(e,t){"_hostNode"in e||r("33"),"_hostNode"in t||r("33");for(var n=0,o=e;o;o=o._hostParent)n++;for(var i=0,a=t;a;a=a._hostParent)i++;for(;n-i>0;)e=e._hostParent,n--;for(;i-n>0;)t=t._hostParent,i--;for(var s=n;s--;){if(e===t)return e;e=e._hostParent,t=t._hostParent}return null}e.exports={isAncestor:function(e,t){"_hostNode"in e||r("35"),"_hostNode"in t||r("35");for(;t;){if(t===e)return!0;t=t._hostParent}return!1},getLowestCommonAncestor:o,getParentInstance:function(e){return"_hostNode"in e||r("36"),e._hostParent},traverseTwoPhase:function(e,t,n){for(var r,o=[];e;)o.push(e),e=e._hostParent;for(r=o.length;r-- >0;)t(o[r],"captured",n);for(r=0;r<o.length;r++)t(o[r],"bubbled",n)},traverseEnterLeave:function(e,t,n,r,i){for(var a=e&&t?o(e,t):null,s=[];e&&e!==a;)s.push(e),e=e._hostParent;for(var u,c=[];t&&t!==a;)c.push(t),t=t._hostParent;for(u=0;u<s.length;u++)n(s[u],"bubbled",r);for(u=c.length;u-- >0;)n(c[u],"captured",i)}}},function(e,t,n){"use strict";var r=n(7),o=n(9),i=n(59),a=n(31),s=n(10),u=n(46),c=(n(4),n(68),function(e){this._currentElement=e,this._stringText=""+e,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});o(c.prototype,{mountComponent:function(e,t,n,r){var o=n._idCounter++,i=" react-text: "+o+" ";if(this._domID=o,this._hostParent=t,e.useCreateElement){var c=n._ownerDocument,l=c.createComment(i),f=c.createComment(" /react-text "),p=a(c.createDocumentFragment());return a.queueChild(p,a(l)),this._stringText&&a.queueChild(p,a(c.createTextNode(this._stringText))),a.queueChild(p,a(f)),s.precacheNode(this,l),this._closingComment=f,p}var d=u(this._stringText);return e.renderToStaticMarkup?d:"\x3c!--"+i+"--\x3e"+d+"\x3c!-- /react-text --\x3e"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var r=this.getHostNode();i.replaceDelimitedText(r[0],r[1],n)}}},getHostNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=s.getNodeFromInstance(this).nextSibling;;){if(null==t&&r("67",this._domID),8===t.nodeType&&" /react-text "===t.nodeValue){this._closingComment=t;break}t=t.nextSibling}return e=[this._hostNode,this._closingComment],this._commentNodes=e,e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,s.uncacheNode(this)}}),e.exports=c},function(e,t,n){"use strict";var r=n(9),o=n(18),i=n(43),a=n(17),s={initialize:a,close:function(){f.isBatchingUpdates=!1}},u=[{initialize:a,close:o.flushBatchedUpdates.bind(o)},s];function c(){this.reinitializeTransaction()}r(c.prototype,i,{getTransactionWrappers:function(){return u}});var l=new c,f={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,o,i){var a=f.isBatchingUpdates;return f.isBatchingUpdates=!0,a?e(t,n,r,o,i):l.perform(e,null,t,n,r,o,i)}};e.exports=f},function(e,t,n){"use strict";var r=n(9),o=n(105),i=n(14),a=n(24),s=n(10),u=n(18),c=n(56),l=n(207);function f(e){for(;e._hostParent;)e=e._hostParent;var t=s.getNodeFromInstance(e).parentNode;return s.getClosestInstanceFromNode(t)}function p(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function d(e){var t=c(e.nativeEvent),n=s.getClosestInstanceFromNode(t),r=n;do{e.ancestors.push(r),r=r&&f(r)}while(r);for(var o=0;o<e.ancestors.length;o++)n=e.ancestors[o],h._handleTopLevel(e.topLevelType,n,e.nativeEvent,c(e.nativeEvent))}r(p.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),a.addPoolingTo(p,a.twoArgumentPooler);var h={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:i.canUseDOM?window:null,setHandleTopLevel:function(e){h._handleTopLevel=e},setEnabled:function(e){h._enabled=!!e},isEnabled:function(){return h._enabled},trapBubbledEvent:function(e,t,n){return n?o.listen(n,t,h.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){return n?o.capture(n,t,h.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=function(e){e(l(window))}.bind(null,e);o.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(h._enabled){var n=p.getPooled(e,t);try{u.batchedUpdates(d,n)}finally{p.release(n)}}}};e.exports=h},function(e,t,n){"use strict";e.exports=function(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}},function(e,t,n){"use strict";var r=n(29),o=n(36),i=n(54),a=n(63),s=n(101),u=n(47),c=n(102),l=n(18),f={Component:a.injection,DOMProperty:r.injection,EmptyComponent:s.injection,EventPluginHub:o.injection,EventPluginUtils:i.injection,EventEmitter:u.injection,HostComponent:c.injection,Updates:l.injection};e.exports=f},function(e,t,n){"use strict";var r=n(9),o=n(89),i=n(24),a=n(47),s=n(106),u=(n(15),n(43)),c=n(67),l=[{initialize:s.getSelectionInformation,close:s.restoreSelection},{initialize:function(){var e=a.isEnabled();return a.setEnabled(!1),e},close:function(e){a.setEnabled(e)}},{initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}}];function f(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=o.getPooled(null),this.useCreateElement=e}var p={getTransactionWrappers:function(){return l},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return c},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};r(f.prototype,u,p),i.addPoolingTo(f),e.exports=f},function(e,t,n){"use strict";var r=n(14),o=n(211),i=n(88);function a(e,t,n,r){return e===n&&t===r}var s=r.canUseDOM&&"selection"in document&&!("getSelection"in window),u={getOffsets:s?function(e){var t=document.selection.createRange(),n=t.text.length,r=t.duplicate();r.moveToElementText(e),r.setEndPoint("EndToStart",t);var o=r.text.length;return{start:o,end:o+n}}:function(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,r=t.anchorOffset,o=t.focusNode,i=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(e){return null}var u=a(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)?0:s.toString().length,c=s.cloneRange();c.selectNodeContents(e),c.setEnd(s.startContainer,s.startOffset);var l=a(c.startContainer,c.startOffset,c.endContainer,c.endOffset)?0:c.toString().length,f=l+u,p=document.createRange();p.setStart(n,r),p.setEnd(o,i);var d=p.collapsed;return{start:d?f:l,end:d?l:f}},setOffsets:s?function(e,t){var n,r,o=document.selection.createRange().duplicate();void 0===t.end?r=n=t.start:t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),o.moveToElementText(e),o.moveStart("character",n),o.setEndPoint("EndToStart",o),o.moveEnd("character",r-n),o.select()}:function(e,t){if(window.getSelection){var n=window.getSelection(),r=e[i()].length,a=Math.min(t.start,r),s=void 0===t.end?a:Math.min(t.end,r);if(!n.extend&&a>s){var u=s;s=a,a=u}var c=o(e,a),l=o(e,s);if(c&&l){var f=document.createRange();f.setStart(c.node,c.offset),n.removeAllRanges(),a>s?(n.addRange(f),n.extend(l.node,l.offset)):(f.setEnd(l.node,l.offset),n.addRange(f))}}}};e.exports=u},function(e,t,n){"use strict";function r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function o(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}e.exports=function(e,t){for(var n=r(e),i=0,a=0;n;){if(3===n.nodeType){if(a=i+n.textContent.length,i<=t&&a>=t)return{node:n,offset:t-i};i=a}n=r(o(n))}}},function(e,t,n){"use strict";var r=n(213);e.exports=function e(t,n){return!(!t||!n)&&(t===n||!r(t)&&(r(n)?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}},function(e,t,n){"use strict";var r=n(214);e.exports=function(e){return r(e)&&3==e.nodeType}},function(e,t,n){"use strict";e.exports=function(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"==typeof t.Node?e instanceof t.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}},function(e,t,n){"use strict";var r="http://www.w3.org/1999/xlink",o="http://www.w3.org/XML/1998/namespace",i={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},a={Properties:{},DOMAttributeNamespaces:{xlinkActuate:r,xlinkArcrole:r,xlinkHref:r,xlinkRole:r,xlinkShow:r,xlinkTitle:r,xlinkType:r,xmlBase:o,xmlLang:o,xmlSpace:o},DOMAttributeNames:{}};Object.keys(i).forEach(function(e){a.Properties[e]=0,i[e]&&(a.DOMAttributeNames[e]=i[e])}),e.exports=a},function(e,t,n){"use strict";var r=n(35),o=n(14),i=n(10),a=n(106),s=n(22),u=n(107),c=n(92),l=n(64),f=o.canUseDOM&&"documentMode"in document&&document.documentMode<=11,p={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:["topBlur","topContextMenu","topFocus","topKeyDown","topKeyUp","topMouseDown","topMouseUp","topSelectionChange"]}},d=null,h=null,v=null,m=!1,g=!1;function y(e,t){if(m||null==d||d!==u())return null;var n=function(e){if("selectionStart"in e&&a.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}(d);if(!v||!l(v,n)){v=n;var o=s.getPooled(p.select,h,e,t);return o.type="select",o.target=d,r.accumulateTwoPhaseDispatches(o),o}return null}var _={eventTypes:p,extractEvents:function(e,t,n,r){if(!g)return null;var o=t?i.getNodeFromInstance(t):window;switch(e){case"topFocus":(c(o)||"true"===o.contentEditable)&&(d=o,h=t,v=null);break;case"topBlur":d=null,h=null,v=null;break;case"topMouseDown":m=!0;break;case"topContextMenu":case"topMouseUp":return m=!1,y(n,r);case"topSelectionChange":if(f)break;case"topKeyDown":case"topKeyUp":return y(n,r)}return null},didPutListener:function(e,t,n){"onSelect"===t&&(g=!0)}};e.exports=_},function(e,t,n){"use strict";var r=n(7),o=n(105),i=n(35),a=n(10),s=n(218),u=n(219),c=n(22),l=n(220),f=n(221),p=n(44),d=n(223),h=n(224),v=n(225),m=n(37),g=n(226),y=n(17),_=n(69),b=(n(4),{}),C={};["abort","animationEnd","animationIteration","animationStart","blur","canPlay","canPlayThrough","click","contextMenu","copy","cut","doubleClick","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","focus","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","progress","rateChange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchMove","touchStart","transitionEnd","volumeChange","waiting","wheel"].forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),n="on"+t,r="top"+t,o={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[r]};b[e]=o,C[r]=o});var A={};function E(e){return"."+e._rootNodeID}function S(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}var T={eventTypes:b,extractEvents:function(e,t,n,o){var a,y=C[e];if(!y)return null;switch(e){case"topAbort":case"topCanPlay":case"topCanPlayThrough":case"topDurationChange":case"topEmptied":case"topEncrypted":case"topEnded":case"topError":case"topInput":case"topInvalid":case"topLoad":case"topLoadedData":case"topLoadedMetadata":case"topLoadStart":case"topPause":case"topPlay":case"topPlaying":case"topProgress":case"topRateChange":case"topReset":case"topSeeked":case"topSeeking":case"topStalled":case"topSubmit":case"topSuspend":case"topTimeUpdate":case"topVolumeChange":case"topWaiting":a=c;break;case"topKeyPress":if(0===_(n))return null;case"topKeyDown":case"topKeyUp":a=f;break;case"topBlur":case"topFocus":a=l;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":a=p;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":a=d;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":a=h;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":a=s;break;case"topTransitionEnd":a=v;break;case"topScroll":a=m;break;case"topWheel":a=g;break;case"topCopy":case"topCut":case"topPaste":a=u}a||r("86",e);var b=a.getPooled(y,t,n,o);return i.accumulateTwoPhaseDispatches(b),b},didPutListener:function(e,t,n){if("onClick"===t&&!S(e._tag)){var r=E(e),i=a.getNodeFromInstance(e);A[r]||(A[r]=o.listen(i,"click",y))}},willDeleteListener:function(e,t){if("onClick"===t&&!S(e._tag)){var n=E(e);A[n].remove(),delete A[n]}}};e.exports=T},function(e,t,n){"use strict";var r=n(22);function o(e,t,n,o){return r.call(this,e,t,n,o)}r.augmentClass(o,{animationName:null,elapsedTime:null,pseudoElement:null}),e.exports=o},function(e,t,n){"use strict";var r=n(22),o={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};function i(e,t,n,o){return r.call(this,e,t,n,o)}r.augmentClass(i,o),e.exports=i},function(e,t,n){"use strict";var r=n(37);function o(e,t,n,o){return r.call(this,e,t,n,o)}r.augmentClass(o,{relatedTarget:null}),e.exports=o},function(e,t,n){"use strict";var r=n(37),o=n(69),i={key:n(222),location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:n(58),charCode:function(e){return"keypress"===e.type?o(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?o(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};function a(e,t,n,o){return r.call(this,e,t,n,o)}r.augmentClass(a,i),e.exports=a},function(e,t,n){"use strict";var r=n(69),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=function(e){if(e.key){var t=o[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=r(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?i[e.keyCode]||"Unidentified":""}},function(e,t,n){"use strict";var r=n(44);function o(e,t,n,o){return r.call(this,e,t,n,o)}r.augmentClass(o,{dataTransfer:null}),e.exports=o},function(e,t,n){"use strict";var r=n(37),o={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:n(58)};function i(e,t,n,o){return r.call(this,e,t,n,o)}r.augmentClass(i,o),e.exports=i},function(e,t,n){"use strict";var r=n(22);function o(e,t,n,o){return r.call(this,e,t,n,o)}r.augmentClass(o,{propertyName:null,elapsedTime:null,pseudoElement:null}),e.exports=o},function(e,t,n){"use strict";var r=n(44);function o(e,t,n,o){return r.call(this,e,t,n,o)}r.augmentClass(o,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),e.exports=o},function(e,t,n){"use strict";n(68);var r=9;e.exports=function(e,t){return{_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===r?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null}}},function(e,t,n){"use strict";e.exports={useCreateElement:!0,useFiber:!1}},function(e,t,n){"use strict";var r=n(230),o=/\/?>/,i=/^<\!\-\-/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return i.test(e)?e:e.replace(o," "+a.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(a.CHECKSUM_ATTR_NAME);return n=n&&parseInt(n,10),r(e)===n}};e.exports=a},function(e,t,n){"use strict";var r=65521;e.exports=function(e){for(var t=1,n=0,o=0,i=e.length,a=-4&i;o<a;){for(var s=Math.min(o+4096,a);o<s;o+=4)n+=(t+=e.charCodeAt(o))+(t+=e.charCodeAt(o+1))+(t+=e.charCodeAt(o+2))+(t+=e.charCodeAt(o+3));t%=r,n%=r}for(;o<i;o++)n+=t+=e.charCodeAt(o);return(t%=r)|(n%=r)<<16}},function(e,t,n){"use strict";e.exports="15.6.2"},function(e,t,n){"use strict";var r=n(7),o=(n(21),n(10)),i=n(38),a=n(109);n(4),n(8);e.exports=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=i.get(e);if(t)return(t=a(t))?o.getNodeFromInstance(t):null;"function"==typeof e.render?r("44"):r("45",Object.keys(e))}},function(e,t,n){"use strict";var r=n(108);e.exports=r.renderSubtreeIntoContainer},function(e,t,n){},function(e,t,n){var r,o,i;e.exports=(r=n(19),i=(o=r).lib.WordArray,o.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var o=[],i=0;i<n;i+=3)for(var a=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;s<4&&i+.75*s<n;s++)o.push(r.charAt(a>>>6*(3-s)&63));var u=r.charAt(64);if(u)for(;o.length%4;)o.push(u);return o.join("")},parse:function(e){var t=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var o=0;o<n.length;o++)r[n.charCodeAt(o)]=o}var a=n.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return function(e,t,n){for(var r=[],o=0,a=0;a<t;a++)if(a%4){var s=n[e.charCodeAt(a-1)]<<a%4*2,u=n[e.charCodeAt(a)]>>>6-a%4*2;r[o>>>2]|=(s|u)<<24-o%4*8,o++}return i.create(r,o)}(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},r.enc.Base64)},function(e,t,n){var r;e.exports=(r=n(19),function(e){var t=r,n=t.lib,o=n.WordArray,i=n.Hasher,a=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var u=a.MD5=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,o=e[r];e[r]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i=this._hash.words,a=e[t+0],u=e[t+1],d=e[t+2],h=e[t+3],v=e[t+4],m=e[t+5],g=e[t+6],y=e[t+7],_=e[t+8],b=e[t+9],C=e[t+10],A=e[t+11],E=e[t+12],S=e[t+13],T=e[t+14],w=e[t+15],k=i[0],R=i[1],O=i[2],x=i[3];k=c(k,R,O,x,a,7,s[0]),x=c(x,k,R,O,u,12,s[1]),O=c(O,x,k,R,d,17,s[2]),R=c(R,O,x,k,h,22,s[3]),k=c(k,R,O,x,v,7,s[4]),x=c(x,k,R,O,m,12,s[5]),O=c(O,x,k,R,g,17,s[6]),R=c(R,O,x,k,y,22,s[7]),k=c(k,R,O,x,_,7,s[8]),x=c(x,k,R,O,b,12,s[9]),O=c(O,x,k,R,C,17,s[10]),R=c(R,O,x,k,A,22,s[11]),k=c(k,R,O,x,E,7,s[12]),x=c(x,k,R,O,S,12,s[13]),O=c(O,x,k,R,T,17,s[14]),k=l(k,R=c(R,O,x,k,w,22,s[15]),O,x,u,5,s[16]),x=l(x,k,R,O,g,9,s[17]),O=l(O,x,k,R,A,14,s[18]),R=l(R,O,x,k,a,20,s[19]),k=l(k,R,O,x,m,5,s[20]),x=l(x,k,R,O,C,9,s[21]),O=l(O,x,k,R,w,14,s[22]),R=l(R,O,x,k,v,20,s[23]),k=l(k,R,O,x,b,5,s[24]),x=l(x,k,R,O,T,9,s[25]),O=l(O,x,k,R,h,14,s[26]),R=l(R,O,x,k,_,20,s[27]),k=l(k,R,O,x,S,5,s[28]),x=l(x,k,R,O,d,9,s[29]),O=l(O,x,k,R,y,14,s[30]),k=f(k,R=l(R,O,x,k,E,20,s[31]),O,x,m,4,s[32]),x=f(x,k,R,O,_,11,s[33]),O=f(O,x,k,R,A,16,s[34]),R=f(R,O,x,k,T,23,s[35]),k=f(k,R,O,x,u,4,s[36]),x=f(x,k,R,O,v,11,s[37]),O=f(O,x,k,R,y,16,s[38]),R=f(R,O,x,k,C,23,s[39]),k=f(k,R,O,x,S,4,s[40]),x=f(x,k,R,O,a,11,s[41]),O=f(O,x,k,R,h,16,s[42]),R=f(R,O,x,k,g,23,s[43]),k=f(k,R,O,x,b,4,s[44]),x=f(x,k,R,O,E,11,s[45]),O=f(O,x,k,R,w,16,s[46]),k=p(k,R=f(R,O,x,k,d,23,s[47]),O,x,a,6,s[48]),x=p(x,k,R,O,y,10,s[49]),O=p(O,x,k,R,T,15,s[50]),R=p(R,O,x,k,m,21,s[51]),k=p(k,R,O,x,E,6,s[52]),x=p(x,k,R,O,h,10,s[53]),O=p(O,x,k,R,C,15,s[54]),R=p(R,O,x,k,u,21,s[55]),k=p(k,R,O,x,_,6,s[56]),x=p(x,k,R,O,w,10,s[57]),O=p(O,x,k,R,g,15,s[58]),R=p(R,O,x,k,S,21,s[59]),k=p(k,R,O,x,v,6,s[60]),x=p(x,k,R,O,A,10,s[61]),O=p(O,x,k,R,d,15,s[62]),R=p(R,O,x,k,b,21,s[63]),i[0]=i[0]+k|0,i[1]=i[1]+R|0,i[2]=i[2]+O|0,i[3]=i[3]+x|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,o=8*t.sigBytes;n[o>>>5]|=128<<24-o%32;var i=e.floor(r/4294967296),a=r;n[15+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),n[14+(o+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,u=s.words,c=0;c<4;c++){var l=u[c];u[c]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,n,r,o,i,a){var s=e+(t&n|~t&r)+o+a;return(s<<i|s>>>32-i)+t}function l(e,t,n,r,o,i,a){var s=e+(t&r|n&~r)+o+a;return(s<<i|s>>>32-i)+t}function f(e,t,n,r,o,i,a){var s=e+(t^n^r)+o+a;return(s<<i|s>>>32-i)+t}function p(e,t,n,r,o,i,a){var s=e+(n^(t|~r))+o+a;return(s<<i|s>>>32-i)+t}t.MD5=i._createHelper(u),t.HmacMD5=i._createHmacHelper(u)}(Math),r.MD5)},function(e,t,n){var r,o,i,a,s,u,c,l;e.exports=(r=n(19),i=(o=r).lib,a=i.WordArray,s=i.Hasher,u=o.algo,c=[],l=u.SHA1=s.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],a=n[3],s=n[4],u=0;u<80;u++){if(u<16)c[u]=0|e[t+u];else{var l=c[u-3]^c[u-8]^c[u-14]^c[u-16];c[u]=l<<1|l>>>31}var f=(r<<5|r>>>27)+s+c[u];f+=u<20?1518500249+(o&i|~o&a):u<40?1859775393+(o^i^a):u<60?(o&i|o&a|i&a)-1894007588:(o^i^a)-899497514,s=a,a=i,i=o<<30|o>>>2,o=r,r=f}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}}),o.SHA1=s._createHelper(l),o.HmacSHA1=s._createHmacHelper(l),r.SHA1)},function(e,t,n){var r,o,i,a,s,u,c;e.exports=(r=n(19),i=(o=r).lib,a=i.Base,s=o.enc,u=s.Utf8,c=o.algo,void(c.HMAC=a.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=u.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),i=this._iKey=t.clone(),a=o.words,s=i.words,c=0;c<n;c++)a[c]^=1549556828,s[c]^=909522486;o.sigBytes=i.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);t.reset();var r=t.finalize(this._oKey.clone().concat(n));return r}})))},function(e,t,n){var r;e.exports=(r=n(19),n(110),void(r.lib.Cipher||function(e){var t=r,n=t.lib,o=n.Base,i=n.WordArray,a=n.BufferedBlockAlgorithm,s=t.enc,u=(s.Utf8,s.Base64),c=t.algo,l=c.EvpKDF,f=n.Cipher=a.extend({cfg:o.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?E:b}return function(t){return{encrypt:function(n,r,o){return e(r).encrypt(t,n,r,o)},decrypt:function(n,r,o){return e(r).decrypt(t,n,r,o)}}}}()}),p=(n.StreamCipher=f.extend({_doFinalize:function(){var e=this._process(!0);return e},blockSize:1}),t.mode={}),d=n.BlockCipherMode=o.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=p.CBC=function(){var t=d.extend();function n(t,n,r){var o=this._iv;if(o){var i=o;this._iv=e}else var i=this._prevBlock;for(var a=0;a<r;a++)t[n+a]^=i[a]}return t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,o=r.blockSize;n.call(this,e,t,o),r.encryptBlock(e,t),this._prevBlock=e.slice(t,t+o)}}),t.Decryptor=t.extend({processBlock:function(e,t){var r=this._cipher,o=r.blockSize,i=e.slice(t,t+o);r.decryptBlock(e,t),n.call(this,e,t,o),this._prevBlock=i}}),t}(),v=t.pad={},m=v.Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,o=r<<24|r<<16|r<<8|r,a=[],s=0;s<r;s+=4)a.push(o);var u=i.create(a,r);e.concat(u)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},g=(n.BlockCipher=f.extend({cfg:f.cfg.extend({mode:h,padding:m}),reset:function(){f.reset.call(this);var e=this.cfg,t=e.iv,n=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=n.createEncryptor;else{var r=n.createDecryptor;this._minBufferSize=1}this._mode&&this._mode.__creator==r?this._mode.init(this,t&&t.words):(this._mode=r.call(n,this,t&&t.words),this._mode.__creator=r)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else{var t=this._process(!0);e.unpad(t)}return t},blockSize:4}),n.CipherParams=o.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),y=t.format={},_=y.OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;if(n)var r=i.create([1398893684,1701076831]).concat(n).concat(t);else var r=t;return r.toString(u)},parse:function(e){var t=u.parse(e),n=t.words;if(1398893684==n[0]&&1701076831==n[1]){var r=i.create(n.slice(2,4));n.splice(0,4),t.sigBytes-=16}return g.create({ciphertext:t,salt:r})}},b=n.SerializableCipher=o.extend({cfg:o.extend({format:_}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var o=e.createEncryptor(n,r),i=o.finalize(t),a=o.cfg;return g.create({ciphertext:i,key:n,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var o=e.createDecryptor(n,r).finalize(t.ciphertext);return o},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),C=t.kdf={},A=C.OpenSSL={execute:function(e,t,n,r){r||(r=i.random(8));var o=l.create({keySize:t+n}).compute(e,r),a=i.create(o.words.slice(t),4*n);return o.sigBytes=4*t,g.create({key:o,iv:a,salt:r})}},E=n.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:A}),encrypt:function(e,t,n,r){var o=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize);r.iv=o.iv;var i=b.encrypt.call(this,e,t,o.key,r);return i.mixIn(o),i},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var o=r.kdf.execute(n,e.keySize,e.ivSize,t.salt);r.iv=o.iv;var i=b.decrypt.call(this,e,t,o.key,r);return i}})}()))},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=n(26).EventEmitter,l=n(11),f=n(241),p=n(115),d=n(253),h=n(40),v=n(254),m=n(13),g=n(25),y=n(32),_=n(16),b=n(255),C=n(23),A=n(256),E=n(257),S=n(6)("JsSIP:UA"),T=n(6)("JsSIP:ERROR:UA");T.log=console.warn.bind(console);var w={STATUS_INIT:0,STATUS_READY:1,STATUS_USER_CLOSED:2,STATUS_NOT_READY:3,CONFIGURATION_ERROR:1,NETWORK_ERROR:2};e.exports=function(e){function t(e){var n,a,s;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),S("new() [configuration:%o]",e),a=this,(n=!(s=o(t).call(this))||"object"!==r(s)&&"function"!=typeof s?i(a):s)._cache={credentials:{}},n._configuration=Object.assign({},E.settings),n._dynConfiguration={},n._dialogs={},n._applicants={},n._sessions={},n._transport=null,n._contact=null,n._status=w.STATUS_INIT,n._error=null,n._transactions={nist:{},nict:{},ist:{},ict:{}},n._data={},n._closeTimer=null,void 0===e)throw new TypeError("Not enough arguments");try{n._loadConfig(e)}catch(e){throw n._status=w.STATUS_NOT_READY,n._error=w.CONFIGURATION_ERROR,e}return n._registrator=new f(i(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,c),s(t,null,[{key:"C",get:function(){return w}}]),s(t,[{key:"start",value:function(){S("start()"),this._status===w.STATUS_INIT?this._transport.connect():this._status===w.STATUS_USER_CLOSED?(S("restarting UA"),null!==this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null,this._transport.disconnect()),this._status=w.STATUS_INIT,this._transport.connect()):this._status===w.STATUS_READY?S("UA is in READY status, not restarted"):S("ERROR: connection is down, Auto-Recovery system is trying to reconnect"),this._dynConfiguration.register=this._configuration.register}},{key:"register",value:function(){S("register()"),this._dynConfiguration.register=!0,this._registrator.register()}},{key:"unregister",value:function(e){S("unregister()"),this._dynConfiguration.register=!1,this._registrator.unregister(e)}},{key:"registrator",value:function(){return this._registrator}},{key:"isRegistered",value:function(){return this._registrator.registered}},{key:"isConnected",value:function(){return this._transport.isConnected()}},{key:"call",value:function(e,t){S("call()");var n=new p(this);return n.connect(e,t),n}},{key:"sendMessage",value:function(e,t,n){S("sendMessage()");var r=new d(this);return r.send(e,t,n),r}},{key:"terminateSessions",value:function(e){for(var t in S("terminateSessions()"),this._sessions)this._sessions[t].isEnded()||this._sessions[t].terminate(e)}},{key:"stop",value:function(){var e=this;if(S("stop()"),this._dynConfiguration={},this._status!==w.STATUS_USER_CLOSED){this._registrator.close();var t=Object.keys(this._sessions).length;for(var n in this._sessions)if(Object.prototype.hasOwnProperty.call(this._sessions,n)){S("closing session ".concat(n));try{this._sessions[n].terminate()}catch(e){}}for(var r in this._applicants)if(Object.prototype.hasOwnProperty.call(this._applicants,r))try{this._applicants[r].close()}catch(e){}this._status=w.STATUS_USER_CLOSED,0===Object.keys(this._transactions.nict).length+Object.keys(this._transactions.nist).length+Object.keys(this._transactions.ict).length+Object.keys(this._transactions.ist).length&&0===t?this._transport.disconnect():this._closeTimer=setTimeout(function(){e._closeTimer=null,e._transport.disconnect()},2e3)}else S("UA already closed")}},{key:"normalizeTarget",value:function(e){return m.normalizeTarget(e,this._configuration.hostport_params)}},{key:"get",value:function(e){switch(e){case"realm":return this._configuration.realm;case"ha1":return this._configuration.ha1;default:return void T('get() | cannot get "%s" parameter in runtime',e)}}},{key:"set",value:function(e,t){switch(e){case"password":this._configuration.password=String(t);break;case"realm":this._configuration.realm=String(t);break;case"ha1":this._configuration.ha1=String(t),this._configuration.password=null;break;case"display_name":if(-1===_.parse('"'.concat(t,'"'),"display_name"))return T('set() | wrong "display_name"'),!1;this._configuration.display_name=t;break;default:return T('set() | cannot set "%s" parameter in runtime',e),!1}return!0}},{key:"newTransaction",value:function(e){this._transactions[e.type][e.id]=e,this.emit("newTransaction",{transaction:e})}},{key:"destroyTransaction",value:function(e){delete this._transactions[e.type][e.id],this.emit("transactionDestroyed",{transaction:e})}},{key:"newDialog",value:function(e){this._dialogs[e.id]=e}},{key:"destroyDialog",value:function(e){delete this._dialogs[e.id]}},{key:"newMessage",value:function(e,t){this._applicants[e]=e,this.emit("newMessage",t)}},{key:"destroyMessage",value:function(e){delete this._applicants[e]}},{key:"newRTCSession",value:function(e,t){this._sessions[e.id]=e,this.emit("newRTCSession",t)}},{key:"destroyRTCSession",value:function(e){delete this._sessions[e.id]}},{key:"registered",value:function(e){this.emit("registered",e)}},{key:"unregistered",value:function(e){this.emit("unregistered",e)}},{key:"registrationFailed",value:function(e){this.emit("registrationFailed",e)}},{key:"receiveRequest",value:function(e){var t=e.method;if(e.ruri.user!==this._configuration.uri.user&&e.ruri.user!==this._contact.uri.user)return S("Request-URI does not point to us"),void(e.method!==l.ACK&&e.reply_sl(404));if(e.ruri.scheme!==l.SIPS){if(!h.checkTransaction(this,e)){if(t===l.INVITE?new h.InviteServerTransaction(this,this._transport,e):t!==l.ACK&&t!==l.CANCEL&&new h.NonInviteServerTransaction(this,this._transport,e),t===l.OPTIONS)e.reply(200);else if(t===l.MESSAGE){if(0===this.listeners("newMessage").length)return void e.reply(405);new d(this).init_incoming(e)}else if(t===l.INVITE&&!e.to_tag&&0===this.listeners("newRTCSession").length)return void e.reply(405);var n,r;if(e.to_tag)(n=this._findDialog(e.call_id,e.from_tag,e.to_tag))?n.receiveRequest(e):t===l.NOTIFY?(r=this._findSession(e))?r.receiveRequest(e):(S("received NOTIFY request for a non existent subscription"),e.reply(481,"Subscription does not exist")):t!==l.ACK&&e.reply(481);else switch(t){case l.INVITE:if(window.RTCPeerConnection)if(e.hasHeader("replaces")){var o=e.replaces;(n=this._findDialog(o.call_id,o.from_tag,o.to_tag))?(r=n.owner).isEnded()?e.reply(603):r.receiveRequest(e):e.reply(481)}else(r=new p(this)).init_incoming(e);else T("INVITE received but WebRTC is not supported"),e.reply(488);break;case l.BYE:e.reply(481);break;case l.CANCEL:(r=this._findSession(e))?r.receiveRequest(e):S("received CANCEL request for a non existent session");break;case l.ACK:break;case l.NOTIFY:this.emit("sipEvent",{event:e.event,request:e}),e.reply(200);break;default:e.reply(405)}}}else e.reply_sl(416)}},{key:"_findSession",value:function(e){var t=e.call_id,n=e.from_tag,r=e.to_tag,o=t+n,i=this._sessions[o],a=t+r,s=this._sessions[a];return i||(s||null)}},{key:"_findDialog",value:function(e,t,n){var r=e+t+n,o=this._dialogs[r];return o||(r=e+n+t,(o=this._dialogs[r])||null)}},{key:"_loadConfig",value:function(e){try{E.load(this._configuration,e)}catch(e){throw e}0===this._configuration.display_name&&(this._configuration.display_name="0"),this._configuration.instance_id||(this._configuration.instance_id=m.newUUID()),this._configuration.jssip_id=m.createRandomToken(5);var t=this._configuration.uri.clone();t.user=null,this._configuration.hostport_params=t.toString().replace(/^sip:/i,"");try{this._transport=new v(this._configuration.sockets,{max_interval:this._configuration.connection_recovery_max_interval,min_interval:this._configuration.connection_recovery_min_interval}),this._transport.onconnecting=function(e){this.emit("connecting",e)}.bind(this),this._transport.onconnect=function(e){if(this._status===w.STATUS_USER_CLOSED)return;this._status=w.STATUS_READY,this._error=null,this.emit("connected",e),this._dynConfiguration.register&&this._registrator.register()}.bind(this),this._transport.ondisconnect=function(e){for(var t=["nict","ict","nist","ist"],n=0;n<t.length;n++){var r=t[n];for(var o in this._transactions[r])Object.prototype.hasOwnProperty.call(this._transactions[r],o)&&this._transactions[r][o].onTransportError()}this.emit("disconnected",e),this._registrator.onTransportClosed(),this._status!==w.STATUS_USER_CLOSED&&(this._status=w.STATUS_NOT_READY,this._error=w.NETWORK_ERROR)}.bind(this),this._transport.ondata=function(e){var t=e.transport,n=e.message;if(!(n=b.parseMessage(n,this)))return;if(this._status===w.STATUS_USER_CLOSED&&n instanceof C.IncomingRequest)return;if(!A(n,this,t))return;if(n instanceof C.IncomingRequest)n.transport=t,this.receiveRequest(n);else if(n instanceof C.IncomingResponse){var r;switch(n.method){case l.INVITE:(r=this._transactions.ict[n.via_branch])&&r.receiveResponse(n);break;case l.ACK:break;default:(r=this._transactions.nict[n.via_branch])&&r.receiveResponse(n)}}}.bind(this)}catch(e){throw T(e),new g.ConfigurationError("sockets",this._configuration.sockets)}if(delete this._configuration.sockets,this._configuration.authorization_user||(this._configuration.authorization_user=this._configuration.uri.user),!this._configuration.registrar_server){var n=this._configuration.uri.clone();n.user=null,n.clearParams(),n.clearHeaders(),this._configuration.registrar_server=n}this._configuration.no_answer_timeout*=1e3,this._configuration.contact_uri?this._configuration.via_host=this._configuration.contact_uri.host:this._configuration.contact_uri=new y("sip",m.createRandomToken(8),this._configuration.via_host,null,{transport:"ws"}),this._contact={pub_gruu:null,temp_gruu:null,uri:this._configuration.contact_uri,toString:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.anonymous||null,n=e.outbound||null,r="<";return r+=t?this.temp_gruu||"sip:anonymous@anonymous.invalid;transport=ws":this.pub_gruu||this.uri.toString(),!n||(t?this.temp_gruu:this.pub_gruu)||(r+=";ob"),r+=">"}};var r=["password","realm","ha1","display_name","register"];for(var o in this._configuration)Object.prototype.hasOwnProperty.call(this._configuration,o)&&(-1!==r.indexOf(o)?Object.defineProperty(this._configuration,o,{writable:!0,configurable:!1}):Object.defineProperty(this._configuration,o,{writable:!1,configurable:!1}));for(var i in S("configuration parameters after validation:"),this._configuration)if(Object.prototype.hasOwnProperty.call(E.settings,i))switch(i){case"uri":case"registrar_server":S("- ".concat(i,": ").concat(this._configuration[i]));break;case"password":case"ha1":S("- ".concat(i,": NOT SHOWN"));break;default:S("- ".concat(i,": ").concat(JSON.stringify(this._configuration[i])))}}},{key:"C",get:function(){return w}},{key:"status",get:function(){return this._status}},{key:"contact",get:function(){return this._contact}},{key:"configuration",get:function(){return this._configuration}},{key:"transport",get:function(){return this._transport}}]),t}()},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(13),i=n(11),a=n(23),s=n(48),u=n(6)("JsSIP:Registrator");e.exports=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this._ua=t,this._transport=n,this._registrar=t.configuration.registrar_server,this._expires=t.configuration.register_expires,this._call_id=o.createRandomToken(22),this._cseq=0,this._to_uri=t.configuration.uri,this._registrationTimer=null,this._registering=!1,this._registered=!1,this._contact=this._ua.contact.toString(),this._contact+=";+sip.ice",this._extraHeaders=[],this._extraContactParams="",this._contact+=";reg-id=".concat(1),this._contact+=';+sip.instance="<urn:uuid:'.concat(this._ua.configuration.instance_id,'>"')}var t,n,c;return t=e,(n=[{key:"setExtraHeaders",value:function(e){Array.isArray(e)||(e=[]),this._extraHeaders=e.slice()}},{key:"setExtraContactParams",value:function(e){for(var t in e instanceof Object||(e={}),this._extraContactParams="",e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=e[t];this._extraContactParams+=";".concat(t),n&&(this._extraContactParams+="=".concat(n))}}},{key:"register",value:function(){var e=this;if(this._registering)u("Register request in progress...");else{var t=this._extraHeaders.slice();t.push("Contact: ".concat(this._contact,";expires=").concat(this._expires).concat(this._extraContactParams)),t.push("Expires: ".concat(this._expires));var n=new a.OutgoingRequest(i.REGISTER,this._registrar,this._ua,{to_uri:this._to_uri,call_id:this._call_id,cseq:this._cseq+=1},t),r=new s(this._ua,n,{onRequestTimeout:function(){e._registrationFailure(null,i.causes.REQUEST_TIMEOUT)},onTransportError:function(){e._registrationFailure(null,i.causes.CONNECTION_ERROR)},onAuthenticated:function(){e._cseq+=1},onReceiveResponse:function(t){if(t.cseq===e._cseq)switch(null!==e._registrationTimer&&(clearTimeout(e._registrationTimer),e._registrationTimer=null),!0){case/^1[0-9]{2}$/.test(t.status_code):break;case/^2[0-9]{2}$/.test(t.status_code):if(e._registering=!1,!t.hasHeader("Contact")){u("no Contact header in response to REGISTER, response ignored");break}var n=t.headers.Contact.reduce(function(e,t){return e.concat(t.parsed)},[]).find(function(t){return t.uri.user===e._ua.contact.uri.user});if(!n){u("no Contact header pointing to us, response ignored");break}var r=n.getParam("expires");!r&&t.hasHeader("expires")&&(r=t.getHeader("expires")),r||(r=e._expires),(r=Number(r))<10&&(r=10),e._registrationTimer=setTimeout(function(){e._registrationTimer=null,0===e._ua.listeners("registrationExpiring").length?e.register():e._ua.emit("registrationExpiring")},1e3*r-5e3),n.hasParam("temp-gruu")&&(e._ua.contact.temp_gruu=n.getParam("temp-gruu").replace(/"/g,"")),n.hasParam("pub-gruu")&&(e._ua.contact.pub_gruu=n.getParam("pub-gruu").replace(/"/g,"")),e._registered||(e._registered=!0,e._ua.registered({response:t}));break;case/^423$/.test(t.status_code):t.hasHeader("min-expires")?(e._expires=Number(t.getHeader("min-expires")),e._expires<10&&(e._expires=10),e.register()):(u("423 response received for REGISTER without Min-Expires"),e._registrationFailure(t,i.causes.SIP_FAILURE_CODE));break;default:var a=o.sipErrorCause(t.status_code);e._registrationFailure(t,a)}}});this._registering=!0,r.send()}}},{key:"unregister",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._registered){this._registered=!1,null!==this._registrationTimer&&(clearTimeout(this._registrationTimer),this._registrationTimer=null);var n=this._extraHeaders.slice();t.all?n.push("Contact: *".concat(this._extraContactParams)):n.push("Contact: ".concat(this._contact,";expires=0").concat(this._extraContactParams)),n.push("Expires: 0");var r=new a.OutgoingRequest(i.REGISTER,this._registrar,this._ua,{to_uri:this._to_uri,call_id:this._call_id,cseq:this._cseq+=1},n);new s(this._ua,r,{onRequestTimeout:function(){e._unregistered(null,i.causes.REQUEST_TIMEOUT)},onTransportError:function(){e._unregistered(null,i.causes.CONNECTION_ERROR)},onAuthenticated:function(){e._cseq+=1},onReceiveResponse:function(t){switch(!0){case/^1[0-9]{2}$/.test(t.status_code):break;case/^2[0-9]{2}$/.test(t.status_code):e._unregistered(t);break;default:var n=o.sipErrorCause(t.status_code);e._unregistered(t,n)}}}).send()}else u("already unregistered")}},{key:"close",value:function(){this._registered&&this.unregister()}},{key:"onTransportClosed",value:function(){this._registering=!1,null!==this._registrationTimer&&(clearTimeout(this._registrationTimer),this._registrationTimer=null),this._registered&&(this._registered=!1,this._ua.unregistered({}))}},{key:"_registrationFailure",value:function(e,t){this._registering=!1,this._ua.registrationFailed({response:e||null,cause:t}),this._registered&&(this._registered=!1,this._ua.unregistered({response:e||null,cause:t}))}},{key:"_unregistered",value:function(e,t){this._registering=!1,this._registered=!1,this._ua.unregistered({response:e||null,cause:t||null})}},{key:"registered",get:function(){return this._registered}}])&&r(t.prototype,n),c&&r(t,c),e}()},function(e,t,n){var r=function(e){return String(Number(e))===e?Number(e):e},o=function(e,t,n){var o=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:o&&!t[e.name]&&(t[e.name]={});var i=e.push?{}:o?t[e.name]:t;!function(e,t,n,o){if(o&&!n)t[o]=r(e[1]);else for(var i=0;i<n.length;i+=1)null!=e[i+1]&&(t[n[i]]=r(e[i+1]))}(n.match(e.reg),i,e.names,e.name),e.push&&t[e.push].push(i)},i=n(113),a=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},n=[],r=t;return e.split(/(\r\n|\r|\n)/).filter(a).forEach(function(e){var t=e[0],a=e.slice(2);"m"===t&&(n.push({rtp:[],fmtp:[]}),r=n[n.length-1]);for(var s=0;s<(i[t]||[]).length;s+=1){var u=i[t][s];if(u.reg.test(a))return o(u,r,a)}}),t.media=n,t};var s=function(e,t){var n=t.split(/=(.+)/,2);return 2===n.length?e[n[0]]=r(n[1]):1===n.length&&t.length>1&&(e[n[0]]=void 0),e};t.parseParams=function(e){return e.split(/\;\s?/).reduce(s,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],n=e.split(" ").map(r),o=0;o<n.length;o+=3)t.push({component:n[o],ip:n[o+1],port:n[o+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map(function(e){return e.substring(1,e.length-1).split(",").reduce(s,{})})},t.parseSimulcastStreamList=function(e){return e.split(";").map(function(e){return e.split(",").map(function(e){var t,n=!1;return"~"!==e[0]?t=r(e):(t=r(e.substring(1,e.length)),n=!0),{scid:t,paused:n}})})}},function(e,t,n){var r=n(113),o=/%[sdv%]/g,i=function(e,t,n){var r=[e+"="+(t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format)];if(t.names)for(var i=0;i<t.names.length;i+=1){var a=t.names[i];t.name?r.push(n[t.name][a]):r.push(n[t.names[i]])}else r.push(n[t.name]);return function(e){var t=1,n=arguments,r=n.length;return e.replace(o,function(e){if(t>=r)return e;var o=n[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(o);case"%d":return Number(o);case"%v":return""}})}.apply(null,r)},a=["v","o","s","i","u","e","p","c","b","t","r","z","a"],s=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach(function(e){null==e.payloads&&(e.payloads="")});var n=t.outerOrder||a,o=t.innerOrder||s,u=[];return n.forEach(function(t){r[t].forEach(function(n){n.name in e&&null!=e[n.name]?u.push(i(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach(function(e){u.push(i(t,n,e))})})}),e.media.forEach(function(e){u.push(i("m",r.m[0],e)),o.forEach(function(t){r[t].forEach(function(n){n.name in e&&null!=e[n.name]?u.push(i(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach(function(e){u.push(i(t,n,e))})})})}),u.join("\r\n")+"\r\n"}},function(e,t,n){function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}e.exports=function(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return o.colors[Math.abs(t)%o.colors.length]}function o(e){var n;function r(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(r.enabled){var a=r,s=Number(new Date),u=s-(n||s);a.diff=u,a.prev=n,a.curr=s,n=s,t[0]=o.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(e,n){if("%%"===e)return e;c++;var r=o.formatters[n];if("function"==typeof r){var i=t[c];e=r.call(a,i),t.splice(c,1),c--}return e}),o.formatArgs.call(a,t),(a.log||o.log).apply(a,t)}}return r.namespace=e,r.enabled=o.enabled(e),r.useColors=o.useColors(),r.color=t(e),r.destroy=i,r.extend=a,"function"==typeof o.init&&o.init(r),o.instances.push(r),r}function i(){var e=o.instances.indexOf(this);return-1!==e&&(o.instances.splice(e,1),!0)}function a(e,t){var n=o(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return o.debug=o,o.default=o,o.coerce=function(e){return e instanceof Error?e.stack||e.message:e},o.disable=function(){var e=[].concat(r(o.names.map(s)),r(o.skips.map(s).map(function(e){return"-"+e}))).join(",");return o.enable(""),e},o.enable=function(e){var t;o.save(e),o.names=[],o.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length;for(t=0;t<r;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?o.skips.push(new RegExp("^"+e.substr(1)+"$")):o.names.push(new RegExp("^"+e+"$")));for(t=0;t<o.instances.length;t++){var i=o.instances[t];i.enabled=o.enabled(i.namespace)}},o.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=o.skips.length;t<n;t++)if(o.skips[t].test(e))return!1;for(t=0,n=o.names.length;t<n;t++)if(o.names[t].test(e))return!0;return!1},o.humanize=n(245),Object.keys(e).forEach(function(t){o[t]=e[t]}),o.instances=[],o.names=[],o.skips=[],o.formatters={},o.selectColor=t,o.enable(o.load()),o}},function(e,t){var n=1e3,r=60*n,o=60*r,i=24*o,a=7*i,s=365.25*i;function u(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,t){t=t||{};var c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var u=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return u*s;case"weeks":case"week":case"w":return u*a;case"days":case"day":case"d":return u*i;case"hours":case"hour":case"hrs":case"hr":case"h":return u*o;case"minutes":case"minute":case"mins":case"min":case"m":return u*r;case"seconds":case"second":case"secs":case"sec":case"s":return u*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}(e);if("number"===c&&!1===isNaN(e))return t.long?function(e){var t=Math.abs(e);if(t>=i)return u(e,t,i,"day");if(t>=o)return u(e,t,o,"hour");if(t>=r)return u(e,t,r,"minute");if(t>=n)return u(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=i)return Math.round(e/i)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(13),i=n(6)("JsSIP:DigestAuthentication"),a=n(6)("JsSIP:ERROR:DigestAuthentication");a.log=console.warn.bind(console),e.exports=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._credentials=t,this._cnonce=null,this._nc=0,this._ncHex="00000000",this._algorithm=null,this._realm=null,this._nonce=null,this._opaque=null,this._stale=null,this._qop=null,this._method=null,this._uri=null,this._ha1=null,this._response=null}var t,n,s;return t=e,(n=[{key:"get",value:function(e){switch(e){case"realm":return this._realm;case"ha1":return this._ha1;default:return void a('get() | cannot get "%s" parameter',e)}}},{key:"authenticate",value:function(e,t){var n=e.method,r=e.ruri,s=e.body,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this._algorithm=t.algorithm,this._realm=t.realm,this._nonce=t.nonce,this._opaque=t.opaque,this._stale=t.stale,this._algorithm){if("MD5"!==this._algorithm)return a('authenticate() | challenge with Digest algorithm different than "MD5", authentication aborted'),!1}else this._algorithm="MD5";if(!this._nonce)return a("authenticate() | challenge without Digest nonce, authentication aborted"),!1;if(!this._realm)return a("authenticate() | challenge without Digest realm, authentication aborted"),!1;if(!this._credentials.password){if(!this._credentials.ha1)return a("authenticate() | no plain SIP password nor ha1 provided, authentication aborted"),!1;if(this._credentials.realm!==this._realm)return a('authenticate() | no plain SIP password, and stored `realm` does not match the given `realm`, cannot authenticate [stored:"%s", given:"%s"]',this._credentials.realm,this._realm),!1}if(t.qop)if(t.qop.indexOf("auth-int")>-1)this._qop="auth-int";else{if(!(t.qop.indexOf("auth")>-1))return a('authenticate() | challenge without Digest qop different than "auth" or "auth-int", authentication aborted'),!1;this._qop="auth"}else this._qop=null;this._method=n,this._uri=r,this._cnonce=u||o.createRandomToken(12),this._nc+=1;var c,l,f=Number(this._nc).toString(16);return this._ncHex="00000000".substr(0,8-f.length)+f,4294967296===this._nc&&(this._nc=1,this._ncHex="00000001"),this._credentials.password?this._ha1=o.calculateMD5("".concat(this._credentials.username,":").concat(this._realm,":").concat(this._credentials.password)):this._ha1=this._credentials.ha1,"auth"===this._qop?(c="".concat(this._method,":").concat(this._uri),l=o.calculateMD5(c),i('authenticate() | using qop=auth [a2:"%s"]',c),this._response=o.calculateMD5("".concat(this._ha1,":").concat(this._nonce,":").concat(this._ncHex,":").concat(this._cnonce,":auth:").concat(l))):"auth-int"===this._qop?(c="".concat(this._method,":").concat(this._uri,":").concat(o.calculateMD5(s||"")),l=o.calculateMD5(c),i('authenticate() | using qop=auth-int [a2:"%s"]',c),this._response=o.calculateMD5("".concat(this._ha1,":").concat(this._nonce,":").concat(this._ncHex,":").concat(this._cnonce,":auth-int:").concat(l))):null===this._qop&&(c="".concat(this._method,":").concat(this._uri),l=o.calculateMD5(c),i('authenticate() | using qop=null [a2:"%s"]',c),this._response=o.calculateMD5("".concat(this._ha1,":").concat(this._nonce,":").concat(l))),i("authenticate() | response generated"),!0}},{key:"toString",value:function(){var e=[];if(!this._response)throw new Error("response field does not exist, cannot generate Authorization header");return e.push("algorithm=".concat(this._algorithm)),e.push('username="'.concat(this._credentials.username,'"')),e.push('realm="'.concat(this._realm,'"')),e.push('nonce="'.concat(this._nonce,'"')),e.push('uri="'.concat(this._uri,'"')),e.push('response="'.concat(this._response,'"')),this._opaque&&e.push('opaque="'.concat(this._opaque,'"')),this._qop&&(e.push("qop=".concat(this._qop)),e.push('cnonce="'.concat(this._cnonce,'"')),e.push("nc=".concat(this._ncHex))),"Digest ".concat(e.join(", "))}}])&&r(t.prototype,n),s&&r(t,s),e}()},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}var i=n(23),a=n(11),s=n(40),u=n(248),c=n(13),l=n(6)("JsSIP:Dialog"),f={STATUS_EARLY:1,STATUS_CONFIRMED:2};e.exports=function(){function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f.STATUS_CONFIRMED;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._owner=t,this._ua=t._ua,this._uac_pending_reply=!1,this._uas_pending_reply=!1,!n.hasHeader("contact"))return{error:"unable to create a Dialog without Contact header field"};n instanceof i.IncomingResponse&&(o=n.status_code<200?f.STATUS_EARLY:f.STATUS_CONFIRMED);var a=n.parseHeader("contact");"UAS"===r?(this._id={call_id:n.call_id,local_tag:n.to_tag,remote_tag:n.from_tag,toString:function(){return this.call_id+this.local_tag+this.remote_tag}},this._state=o,this._remote_seqnum=n.cseq,this._local_uri=n.parseHeader("to").uri,this._remote_uri=n.parseHeader("from").uri,this._remote_target=a.uri,this._route_set=n.getHeaders("record-route"),this._ack_seqnum=this._remote_seqnum):"UAC"===r&&(this._id={call_id:n.call_id,local_tag:n.from_tag,remote_tag:n.to_tag,toString:function(){return this.call_id+this.local_tag+this.remote_tag}},this._state=o,this._local_seqnum=n.cseq,this._local_uri=n.parseHeader("from").uri,this._remote_uri=n.parseHeader("to").uri,this._remote_target=a.uri,this._route_set=n.getHeaders("record-route").reverse(),this._ack_seqnum=null),this._ua.newDialog(this),l("new ".concat(r," dialog created with status ").concat(this._state===f.STATUS_EARLY?"EARLY":"CONFIRMED"))}return o(e,null,[{key:"C",get:function(){return f}}]),o(e,[{key:"update",value:function(e,t){this._state=f.STATUS_CONFIRMED,l("dialog ".concat(this._id.toString(),"  changed to CONFIRMED state")),"UAC"===t&&(this._route_set=e.getHeaders("record-route").reverse())}},{key:"terminate",value:function(){l("dialog ".concat(this._id.toString()," deleted")),this._ua.destroyDialog(this)}},{key:"sendRequest",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=c.cloneArray(n.extraHeaders),o=n.eventHandlers||{},i=n.body||null,a=this._createRequest(e,r,i);return o.onAuthenticated=function(){t._local_seqnum+=1},new u(this,a,o).send(),a}},{key:"receiveRequest",value:function(e){this._checkInDialogRequest(e)&&(e.method===a.ACK&&null!==this._ack_seqnum?this._ack_seqnum=null:e.method===a.INVITE&&(this._ack_seqnum=e.cseq),this._owner.receiveRequest(e))}},{key:"_createRequest",value:function(e,t,n){t=c.cloneArray(t),this._local_seqnum||(this._local_seqnum=Math.floor(1e4*Math.random()));var r=e===a.CANCEL||e===a.ACK?this._local_seqnum:this._local_seqnum+=1;return new i.OutgoingRequest(e,this._remote_target,this._ua,{cseq:r,call_id:this._id.call_id,from_uri:this._local_uri,from_tag:this._id.local_tag,to_uri:this._remote_uri,to_tag:this._id.remote_tag,route_set:this._route_set},t,n)}},{key:"_checkInDialogRequest",value:function(e){var t=this;if(this._remote_seqnum)if(e.cseq<this._remote_seqnum){if(e.method!==a.ACK)return e.reply(500),!1;if(null===this._ack_seqnum||e.cseq!==this._ack_seqnum)return!1}else e.cseq>this._remote_seqnum&&(this._remote_seqnum=e.cseq);else this._remote_seqnum=e.cseq;if(e.method===a.INVITE||e.method===a.UPDATE&&e.body){if(!0===this._uac_pending_reply)e.reply(491);else{if(!0===this._uas_pending_reply){var n=1+(10*Math.random()|0);return e.reply(500,null,["Retry-After:".concat(n)]),!1}this._uas_pending_reply=!0;e.server_transaction.on("stateChanged",function n(){e.server_transaction.state!==s.C.STATUS_ACCEPTED&&e.server_transaction.state!==s.C.STATUS_COMPLETED&&e.server_transaction.state!==s.C.STATUS_TERMINATED||(e.server_transaction.removeListener("stateChanged",n),t._uas_pending_reply=!1)})}e.hasHeader("contact")&&e.server_transaction.on("stateChanged",function(){e.server_transaction.state===s.C.STATUS_ACCEPTED&&(t._remote_target=e.parseHeader("contact").uri)})}else e.method===a.NOTIFY&&e.hasHeader("contact")&&e.server_transaction.on("stateChanged",function(){e.server_transaction.state===s.C.STATUS_COMPLETED&&(t._remote_target=e.parseHeader("contact").uri)});return!0}},{key:"id",get:function(){return this._id}},{key:"local_seqnum",get:function(){return this._local_seqnum},set:function(e){this._local_seqnum=e}},{key:"owner",get:function(){return this._owner}},{key:"uac_pending_reply",get:function(){return this._uac_pending_reply},set:function(e){this._uac_pending_reply=e}},{key:"uas_pending_reply",get:function(){return this._uas_pending_reply}}]),e}()},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(11),i=n(40),a=n(115),s=n(48),u={onRequestTimeout:function(){},onTransportError:function(){},onSuccessResponse:function(){},onErrorResponse:function(){},onAuthenticated:function(){},onDialogError:function(){}};e.exports=function(){function e(t,n,r){for(var o in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._dialog=t,this._ua=t._ua,this._request=n,this._eventHandlers=r,this._reattempt=!1,this._reattemptTimer=null,u)Object.prototype.hasOwnProperty.call(u,o)&&(this._eventHandlers[o]||(this._eventHandlers[o]=u[o]))}var t,n,c;return t=e,(n=[{key:"send",value:function(){var e=this,t=new s(this._ua,this._request,{onRequestTimeout:function(){e._eventHandlers.onRequestTimeout()},onTransportError:function(){e._eventHandlers.onTransportError()},onAuthenticated:function(t){e._eventHandlers.onAuthenticated(t)},onReceiveResponse:function(t){e._receiveResponse(t)}});if(t.send(),(this._request.method===o.INVITE||this._request.method===o.UPDATE&&this._request.body)&&t.clientTransaction.state!==i.C.STATUS_TERMINATED){this._dialog.uac_pending_reply=!0;t.clientTransaction.on("stateChanged",function n(){t.clientTransaction.state!==i.C.STATUS_ACCEPTED&&t.clientTransaction.state!==i.C.STATUS_COMPLETED&&t.clientTransaction.state!==i.C.STATUS_TERMINATED||(t.clientTransaction.removeListener("stateChanged",n),e._dialog.uac_pending_reply=!1)})}}},{key:"_receiveResponse",value:function(e){var t=this;408===e.status_code||481===e.status_code?this._eventHandlers.onDialogError(e):e.method===o.INVITE&&491===e.status_code?this._reattempt?e.status_code>=200&&e.status_code<300?this._eventHandlers.onSuccessResponse(e):e.status_code>=300&&this._eventHandlers.onErrorResponse(e):(this._request.cseq.value=this._dialog.local_seqnum+=1,this._reattemptTimer=setTimeout(function(){t._dialog.owner.status!==a.C.STATUS_TERMINATED&&(t._reattempt=!0,t._request_sender.send())},1e3)):e.status_code>=200&&e.status_code<300?this._eventHandlers.onSuccessResponse(e):e.status_code>=300&&this._eventHandlers.onErrorResponse(e)}},{key:"request",get:function(){return this._request}}])&&r(t.prototype,n),c&&r(t,c),e}()},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=n(26).EventEmitter,c=n(11),l=n(25),f=n(13),p=n(6)("JsSIP:RTCSession:DTMF");n(6)("JsSIP:ERROR:RTCSession:DTMF").log=console.warn.bind(console);var d={MIN_DURATION:70,MAX_DURATION:6e3,DEFAULT_DURATION:100,MIN_INTER_TONE_GAP:50,DEFAULT_INTER_TONE_GAP:500};e.exports=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=i(this,a(t).call(this)))._session=e,n._direction=null,n._tone=null,n._duration=null,n._request=null,n}var n,r,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,u),n=t,(r=[{key:"send",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e)throw new TypeError("Not enough arguments");if(this._direction="outgoing",this._session.status!==this._session.C.STATUS_CONFIRMED&&this._session.status!==this._session.C.STATUS_WAITING_FOR_ACK)throw new l.InvalidStateError(this._session.status);var r=f.cloneArray(n.extraHeaders);if(this.eventHandlers=n.eventHandlers||{},"string"==typeof e)e=e.toUpperCase();else{if("number"!=typeof e)throw new TypeError("Invalid tone: ".concat(e));e=e.toString()}if(!e.match(/^[0-9A-DR#*]$/))throw new TypeError("Invalid tone: ".concat(e));this._tone=e,this._duration=n.duration,r.push("Content-Type: application/dtmf-relay");var o="Signal=".concat(this._tone,"\r\n");o+="Duration=".concat(this._duration),this._session.newDTMF({originator:"local",dtmf:this,request:this._request}),this._session.sendRequest(c.INFO,{extraHeaders:r,eventHandlers:{onSuccessResponse:function(e){t.emit("succeeded",{originator:"remote",response:e})},onErrorResponse:function(e){t.eventHandlers.onFailed&&t.eventHandlers.onFailed(),t.emit("failed",{originator:"remote",response:e})},onRequestTimeout:function(){t._session.onRequestTimeout()},onTransportError:function(){t._session.onTransportError()},onDialogError:function(){t._session.onDialogError()}},body:o})}},{key:"init_incoming",value:function(e){var t=/^(Signal\s*?=\s*?)([0-9A-D#*]{1})(\s)?.*/,n=/^(Duration\s?=\s?)([0-9]{1,4})(\s)?.*/;if(this._direction="incoming",this._request=e,e.reply(200),e.body){var r=e.body.split("\n");r.length>=1&&t.test(r[0])&&(this._tone=r[0].replace(t,"$2")),r.length>=2&&n.test(r[1])&&(this._duration=parseInt(r[1].replace(n,"$2"),10))}this._duration||(this._duration=d.DEFAULT_DURATION),this._tone?this._session.newDTMF({originator:"remote",dtmf:this,request:e}):p("invalid INFO DTMF received, discarded")}},{key:"tone",get:function(){return this._tone}},{key:"duration",get:function(){return this._duration}}])&&o(n.prototype,r),h&&o(n,h),t}(),e.exports.C=d},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=n(26).EventEmitter;n(6)("JsSIP:ERROR:RTCSession:Info").log=console.warn.bind(console);var c=n(11),l=n(25),f=n(13);e.exports=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=i(this,a(t).call(this)))._session=e,n._direction=null,n._contentType=null,n._body=null,n}var n,r,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,u),n=t,(r=[{key:"send",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this._direction="outgoing",void 0===e)throw new TypeError("Not enough arguments");if(this._session.status!==this._session.C.STATUS_CONFIRMED&&this._session.status!==this._session.C.STATUS_WAITING_FOR_ACK)throw new l.InvalidStateError(this._session.status);this._contentType=e,this._body=t;var o=f.cloneArray(r.extraHeaders);o.push("Content-Type: ".concat(e)),this._session.newInfo({originator:"local",info:this,request:this.request}),this._session.sendRequest(c.INFO,{extraHeaders:o,eventHandlers:{onSuccessResponse:function(e){n.emit("succeeded",{originator:"remote",response:e})},onErrorResponse:function(e){n.emit("failed",{originator:"remote",response:e})},onTransportError:function(){n._session.onTransportError()},onRequestTimeout:function(){n._session.onRequestTimeout()},onDialogError:function(){n._session.onDialogError()}},body:t})}},{key:"init_incoming",value:function(e){this._direction="incoming",this.request=e,e.reply(200),this._contentType=e.getHeader("content-type"),this._body=e.body,this._session.newInfo({originator:"remote",info:this,request:e})}},{key:"contentType",get:function(){return this._contentType}},{key:"body",get:function(){return this._body}}])&&o(n.prototype,r),p&&o(n,p),t}()},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(11),i=n(6)("JsSIP:RTCSession:ReferNotifier"),a={event_type:"refer",body_type:"message/sipfrag;version=2.0",expires:300};e.exports=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._session=t,this._id=n,this._expires=r||a.expires,this._active=!0,this.notify(100)}var t,n,s;return t=e,(n=[{key:"notify",value:function(e,t){var n;(i("notify()"),!1!==this._active)&&(t=t||o.REASON_PHRASE[e]||"",n=e>=200?"terminated;reason=noresource":"active;expires=".concat(this._expires),this._session.sendRequest(o.NOTIFY,{extraHeaders:["Event: ".concat(a.event_type,";id=").concat(this._id),"Subscription-State: ".concat(n),"Content-Type: ".concat(a.body_type)],body:"SIP/2.0 ".concat(e," ").concat(t),eventHandlers:{onErrorResponse:function(){this._active=!1}}}))}}])&&r(t.prototype,n),s&&r(t,s),e}()},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=n(26).EventEmitter,c=n(11),l=n(16),f=n(13),p=n(6)("JsSIP:RTCSession:ReferSubscriber");e.exports=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=i(this,a(t).call(this)))._id=null,n._session=e,n}var n,r,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,u),n=t,(r=[{key:"sendRefer",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p("sendRefer()");var r=f.cloneArray(n.extraHeaders),o=n.eventHandlers||{};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&this.on(i,o[i]);var a=null;n.replaces&&(a=n.replaces._request.call_id,a+=";to-tag=".concat(n.replaces._to_tag),a+=";from-tag=".concat(n.replaces._from_tag),a=encodeURIComponent(a));var s="Refer-To: <".concat(e).concat(a?"?Replaces=".concat(a):"",">");r.push(s),r.push("Contact: ".concat(this._session.contact));var u=this._session.sendRequest(c.REFER,{extraHeaders:r,eventHandlers:{onSuccessResponse:function(e){t._requestSucceeded(e)},onErrorResponse:function(e){t._requestFailed(e,c.causes.REJECTED)},onTransportError:function(){t._requestFailed(null,c.causes.CONNECTION_ERROR)},onRequestTimeout:function(){t._requestFailed(null,c.causes.REQUEST_TIMEOUT)},onDialogError:function(){t._requestFailed(null,c.causes.DIALOG_ERROR)}}});this._id=u.cseq}},{key:"receiveNotify",value:function(e){if(p("receiveNotify()"),e.body){var t=l.parse(e.body.trim(),"Status_Line");if(-1!==t)switch(!0){case/^100$/.test(t.status_code):this.emit("trying",{request:e,status_line:t});break;case/^1[0-9]{2}$/.test(t.status_code):this.emit("progress",{request:e,status_line:t});break;case/^2[0-9]{2}$/.test(t.status_code):this.emit("accepted",{request:e,status_line:t});break;default:this.emit("failed",{request:e,status_line:t})}else p('receiveNotify() | error parsing NOTIFY body: "'.concat(e.body,'"'))}}},{key:"_requestSucceeded",value:function(e){p("REFER succeeded"),p('emit "requestSucceeded"'),this.emit("requestSucceeded",{response:e})}},{key:"_requestFailed",value:function(e,t){p("REFER failed"),p('emit "requestFailed"'),this.emit("requestFailed",{response:e||null,cause:t})}},{key:"id",get:function(){return this._id}}])&&o(n.prototype,r),d&&o(n,d),t}()},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=n(26).EventEmitter,c=n(11),l=n(23),f=n(13),p=n(48),d=n(25),h=n(6)("JsSIP:Message");e.exports=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=i(this,a(t).call(this)))._ua=e,n._request=null,n._closed=!1,n._direction=null,n._local_identity=null,n._remote_identity=null,n._is_replied=!1,n._data={},n}var n,r,v;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,u),n=t,(r=[{key:"send",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e;if(void 0===e||void 0===t)throw new TypeError("Not enough arguments");if(!(e=this._ua.normalizeTarget(e)))throw new TypeError("Invalid target: ".concat(o));var i=f.cloneArray(r.extraHeaders),a=r.eventHandlers||{},s=r.contentType||"text/plain";for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&this.on(u,a[u]);i.push("Content-Type: ".concat(s)),this._request=new l.OutgoingRequest(c.MESSAGE,e,this._ua,null,i),t&&(this._request.body=t);var d=new p(this._ua,this._request,{onRequestTimeout:function(){n._onRequestTimeout()},onTransportError:function(){n._onTransportError()},onReceiveResponse:function(e){n._receiveResponse(e)}});this._newMessage("local",this._request),d.send()}},{key:"init_incoming",value:function(e){this._request=e,this._newMessage("remote",e),this._is_replied||(this._is_replied=!0,e.reply(200)),this._close()}},{key:"accept",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=f.cloneArray(e.extraHeaders),n=e.body;if("incoming"!==this._direction)throw new d.NotSupportedError('"accept" not supported for outgoing Message');if(this._is_replied)throw new Error("incoming Message already replied");this._is_replied=!0,this._request.reply(200,null,t,n)}},{key:"reject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.status_code||480,n=e.reason_phrase,r=f.cloneArray(e.extraHeaders),o=e.body;if("incoming"!==this._direction)throw new d.NotSupportedError('"reject" not supported for outgoing Message');if(this._is_replied)throw new Error("incoming Message already replied");if(t<300||t>=700)throw new TypeError("Invalid status_code: ".concat(t));this._is_replied=!0,this._request.reply(t,n,r,o)}},{key:"_receiveResponse",value:function(e){if(!this._closed)switch(!0){case/^1[0-9]{2}$/.test(e.status_code):break;case/^2[0-9]{2}$/.test(e.status_code):this._succeeded("remote",e);break;default:var t=f.sipErrorCause(e.status_code);this._failed("remote",e,t)}}},{key:"_onRequestTimeout",value:function(){this._closed||this._failed("system",null,c.causes.REQUEST_TIMEOUT)}},{key:"_onTransportError",value:function(){this._closed||this._failed("system",null,c.causes.CONNECTION_ERROR)}},{key:"_close",value:function(){this._closed=!0,this._ua.destroyMessage(this)}},{key:"_newMessage",value:function(e,t){"remote"===e?(this._direction="incoming",this._local_identity=t.to,this._remote_identity=t.from):"local"===e&&(this._direction="outgoing",this._local_identity=t.from,this._remote_identity=t.to),this._ua.newMessage(this,{originator:e,message:this,request:t})}},{key:"_failed",value:function(e,t,n){h("MESSAGE failed"),this._close(),h('emit "failed"'),this.emit("failed",{originator:e,response:t||null,cause:n})}},{key:"_succeeded",value:function(e,t){h("MESSAGE succeeded"),this._close(),h('emit "succeeded"'),this.emit("succeeded",{originator:e,response:t})}},{key:"direction",get:function(){return this._direction}},{key:"local_identity",get:function(){return this._local_identity}},{key:"remote_identity",get:function(){return this._remote_identity}}])&&o(n.prototype,r),v&&o(n,v),t}()},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(116),i=n(6)("JsSIP:Transport"),a=n(6)("JsSIP:ERROR:Transport");a.log=console.warn.bind(console);var s={STATUS_CONNECTED:0,STATUS_CONNECTING:1,STATUS_DISCONNECTED:2,SOCKET_STATUS_READY:0,SOCKET_STATUS_ERROR:1,recovery_options:{min_interval:2,max_interval:30}};e.exports=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.recovery_options;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i("new()"),this.status=s.STATUS_DISCONNECTED,this.socket=null,this.sockets=[],this.recovery_options=n,this.recover_attempts=0,this.recovery_timer=null,this.close_requested=!1,void 0===t)throw new TypeError("Invalid argument. undefined 'sockets' argument");t instanceof Array||(t=[t]),t.forEach(function(e){if(!o.isSocket(e.socket))throw new TypeError("Invalid argument. invalid 'JsSIP.Socket' instance");if(e.weight&&!Number(e.weight))throw new TypeError("Invalid argument. 'weight' attribute is not a number");this.sockets.push({socket:e.socket,weight:e.weight||0,status:s.SOCKET_STATUS_READY})},this),this._getSocket()}var t,n,u;return t=e,(n=[{key:"connect",value:function(){i("connect()"),this.isConnected()?i("Transport is already connected"):this.isConnecting()?i("Transport is connecting"):(this.close_requested=!1,this.status=s.STATUS_CONNECTING,this.onconnecting({socket:this.socket,attempts:this.recover_attempts}),this.close_requested||(this.socket.onconnect=this._onConnect.bind(this),this.socket.ondisconnect=this._onDisconnect.bind(this),this.socket.ondata=this._onData.bind(this),this.socket.connect()))}},{key:"disconnect",value:function(){i("close()"),this.close_requested=!0,this.recover_attempts=0,this.status=s.STATUS_DISCONNECTED,null!==this.recovery_timer&&(clearTimeout(this.recovery_timer),this.recovery_timer=null),this.socket.onconnect=function(){},this.socket.ondisconnect=function(){},this.socket.ondata=function(){},this.socket.disconnect(),this.ondisconnect({socket:this.socket,error:!1})}},{key:"send",value:function(e){if(i("send()"),!this.isConnected())return a("unable to send message, transport is not connected"),!1;var t=e.toString();return i("sending message:\n\n".concat(t,"\n")),this.socket.send(t)}},{key:"isConnected",value:function(){return this.status===s.STATUS_CONNECTED}},{key:"isConnecting",value:function(){return this.status===s.STATUS_CONNECTING}},{key:"_reconnect",value:function(){var e=this;this.recover_attempts+=1;var t=Math.floor(Math.random()*Math.pow(2,this.recover_attempts)+1);t<this.recovery_options.min_interval?t=this.recovery_options.min_interval:t>this.recovery_options.max_interval&&(t=this.recovery_options.max_interval),i("reconnection attempt: ".concat(this.recover_attempts,". next connection attempt in ").concat(t," seconds")),this.recovery_timer=setTimeout(function(){e.close_requested||e.isConnected()||e.isConnecting()||(e._getSocket(),e.connect())},1e3*t)}},{key:"_getSocket",value:function(){var e=[];if(this.sockets.forEach(function(t){t.status!==s.SOCKET_STATUS_ERROR&&(0===e.length?e.push(t):t.weight>e[0].weight?e=[t]:t.weight===e[0].weight&&e.push(t))}),0===e.length)return this.sockets.forEach(function(e){e.status=s.SOCKET_STATUS_READY}),void this._getSocket();var t=Math.floor(Math.random()*e.length);this.socket=e[t].socket}},{key:"_onConnect",value:function(){this.recover_attempts=0,this.status=s.STATUS_CONNECTED,null!==this.recovery_timer&&(clearTimeout(this.recovery_timer),this.recovery_timer=null),this.onconnect({socket:this})}},{key:"_onDisconnect",value:function(e,t,n){this.status=s.STATUS_DISCONNECTED,this.ondisconnect({socket:this.socket,error:e,code:t,reason:n}),this.close_requested||(this.sockets.forEach(function(e){this.socket===e.socket&&(e.status=s.SOCKET_STATUS_ERROR)},this),this._reconnect(e))}},{key:"_onData",value:function(e){if("\r\n"!==e){if("string"!=typeof e){try{e=String.fromCharCode.apply(null,new Uint8Array(e))}catch(e){return void i("received binary message failed to be converted into string, message discarded")}i("received binary message:\n\n".concat(e,"\n"))}else i("received text message:\n\n".concat(e,"\n"));this.ondata({transport:this,message:e})}else i("received message with CRLF Keep Alive response")}},{key:"via_transport",get:function(){return this.socket.via_transport}},{key:"url",get:function(){return this.socket.url}},{key:"sip_uri",get:function(){return this.socket.sip_uri}}])&&r(t.prototype,n),u&&r(t,u),e}()},function(e,t,n){"use strict";var r=n(16),o=n(23),i=n(6)("JsSIP:ERROR:Parser");function a(e,t){var n=t,r=0,o=0;if(e.substring(n,n+2).match(/(^\r\n)/))return-2;for(;0===r;){if(-1===(o=e.indexOf("\r\n",n)))return o;!e.substring(o+2,o+4).match(/(^\r\n)/)&&e.charAt(o+2).match(/(^\s+)/)?n=o+2:r=o}return r}function s(e,t,n,i){var a,s=t.indexOf(":",n),u=t.substring(n,s).trim(),c=t.substring(s+1,i).trim();switch(u.toLowerCase()){case"via":case"v":e.addHeader("via",c),1===e.getHeaders("via").length?(a=e.parseHeader("Via"))&&(e.via=a,e.via_branch=a.branch):a=0;break;case"from":case"f":e.setHeader("from",c),(a=e.parseHeader("from"))&&(e.from=a,e.from_tag=a.getParam("tag"));break;case"to":case"t":e.setHeader("to",c),(a=e.parseHeader("to"))&&(e.to=a,e.to_tag=a.getParam("tag"));break;case"record-route":if(-1===(a=r.parse(c,"Record_Route")))a=void 0;else{var l=!0,f=!1,p=void 0;try{for(var d,h=a[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var v=d.value;e.addHeader("record-route",c.substring(v.possition,v.offset)),e.headers["Record-Route"][e.getHeaders("record-route").length-1].parsed=v.parsed}}catch(e){f=!0,p=e}finally{try{l||null==h.return||h.return()}finally{if(f)throw p}}}break;case"call-id":case"i":e.setHeader("call-id",c),(a=e.parseHeader("call-id"))&&(e.call_id=c);break;case"contact":case"m":if(-1===(a=r.parse(c,"Contact")))a=void 0;else{var m=!0,g=!1,y=void 0;try{for(var _,b=a[Symbol.iterator]();!(m=(_=b.next()).done);m=!0){var C=_.value;e.addHeader("contact",c.substring(C.possition,C.offset)),e.headers.Contact[e.getHeaders("contact").length-1].parsed=C.parsed}}catch(e){g=!0,y=e}finally{try{m||null==b.return||b.return()}finally{if(g)throw y}}}break;case"content-length":case"l":e.setHeader("content-length",c),a=e.parseHeader("content-length");break;case"content-type":case"c":e.setHeader("content-type",c),a=e.parseHeader("content-type");break;case"cseq":e.setHeader("cseq",c),(a=e.parseHeader("cseq"))&&(e.cseq=a.value),e instanceof o.IncomingResponse&&(e.method=a.method);break;case"max-forwards":e.setHeader("max-forwards",c),a=e.parseHeader("max-forwards");break;case"www-authenticate":e.setHeader("www-authenticate",c),a=e.parseHeader("www-authenticate");break;case"proxy-authenticate":e.setHeader("proxy-authenticate",c),a=e.parseHeader("proxy-authenticate");break;case"session-expires":case"x":e.setHeader("session-expires",c),(a=e.parseHeader("session-expires"))&&(e.session_expires=a.expires,e.session_expires_refresher=a.refresher);break;case"refer-to":case"r":e.setHeader("refer-to",c),(a=e.parseHeader("refer-to"))&&(e.refer_to=a);break;case"replaces":e.setHeader("replaces",c),(a=e.parseHeader("replaces"))&&(e.replaces=a);break;case"event":case"o":e.setHeader("event",c),(a=e.parseHeader("event"))&&(e.event=a);break;default:e.addHeader(u,c),a=0}return void 0!==a||{error:'error parsing header "'.concat(u,'"')}}i.log=console.warn.bind(console),t.parseMessage=function(e,t){var n,u,c=e.indexOf("\r\n");if(-1!==c){var l=e.substring(0,c),f=r.parse(l,"Request_Response");if(-1!==f){f.status_code?((n=new o.IncomingResponse).status_code=f.status_code,n.reason_phrase=f.reason_phrase):((n=new o.IncomingRequest(t)).method=f.method,n.ruri=f.uri),n.data=e;for(var p=c+2;;){if(-2===(c=a(e,p))){u=p+2;break}if(-1===c)return void i("parseMessage() | malformed message");if(!0!==(f=s(n,e,p,c)))return void i("parseMessage() |",f.error);p=c+2}if(n.hasHeader("content-length")){var d=n.getHeader("content-length");n.body=e.substr(u,d)}else n.body=e.substring(u);return n}i('parseMessage() | error parsing first line of SIP message: "'.concat(l,'"'))}else i("parseMessage() | no CRLF found, not a SIP message")}},function(e,t,n){"use strict";var r,o,i,a=n(11),s=n(23),u=n(13),c=n(6)("JsSIP:sanityCheck"),l=[function(){for(var e=["from","to","call_id","cseq","via"],t=0;t<e.length;t++){var n=e[t];if(!r.hasHeader(n))return c("missing mandatory header field : ".concat(n,", dropping the response")),!1}}],f=[function(){if("sip"!==r.s("to").uri.scheme)return d(416),!1},function(){if(!r.to_tag&&r.call_id.substr(0,5)===o.configuration.jssip_id)return d(482),!1},function(){var e=u.str_utf8_length(r.body),t=r.getHeader("content-length");if(e<t)return d(400),!1},function(){var e,t=r.from_tag,n=r.call_id,i=r.cseq;if(r.to_tag)return;if(r.method===a.INVITE){if(o._transactions.ist[r.via_branch])return!1;for(var s in o._transactions.ist)if(Object.prototype.hasOwnProperty.call(o._transactions.ist,s)&&(e=o._transactions.ist[s]).request.from_tag===t&&e.request.call_id===n&&e.request.cseq===i)return d(482),!1}else{if(o._transactions.nist[r.via_branch])return!1;for(var u in o._transactions.nist)if(Object.prototype.hasOwnProperty.call(o._transactions.nist,u)&&(e=o._transactions.nist[u]).request.from_tag===t&&e.request.call_id===n&&e.request.cseq===i)return d(482),!1}}],p=[function(){if(r.getHeaders("via").length>1)return c("more than one Via header field present in the response, dropping the response"),!1},function(){var e=u.str_utf8_length(r.body),t=r.getHeader("content-length");if(e<t)return c("message body length is lower than the value in Content-Length header field, dropping the response"),!1}];function d(e){var t,n=r.getHeaders("via"),o="SIP/2.0 ".concat(e," ").concat(a.REASON_PHRASE[e],"\r\n"),s=!0,c=!1,l=void 0;try{for(var f,p=n[Symbol.iterator]();!(s=(f=p.next()).done);s=!0){var d=f.value;o+="Via: ".concat(d,"\r\n")}}catch(e){c=!0,l=e}finally{try{s||null==p.return||p.return()}finally{if(c)throw l}}t=r.getHeader("To"),r.to_tag||(t+=";tag=".concat(u.newTag())),o+="To: ".concat(t,"\r\n"),o+="From: ".concat(r.getHeader("From"),"\r\n"),o+="Call-ID: ".concat(r.call_id,"\r\n"),o+="CSeq: ".concat(r.cseq," ").concat(r.method,"\r\n"),o+="\r\n",i.send(o)}e.exports=function(e,t,n){r=e,o=t,i=n;for(var a=0;a<l.length;a++){if(!1===(0,l[a])())return!1}if(r instanceof s.IncomingRequest)for(var u=0;u<f.length;u++){if(!1===(0,f[u])())return!1}else if(r instanceof s.IncomingResponse)for(var c=0;c<p.length;c++){if(!1===(0,p[c])())return!1}return!0}},function(e,t,n){"use strict";var r=n(13),o=n(11),i=n(16),a=n(32),s=n(116),u=n(25);t.settings={authorization_user:null,password:null,realm:null,ha1:null,display_name:null,uri:null,contact_uri:null,instance_id:null,use_preloaded_route:!1,session_timers:!0,session_timers_refresh_method:o.UPDATE,no_answer_timeout:60,register:!0,register_expires:600,registrar_server:null,sockets:null,connection_recovery_max_interval:null,connection_recovery_min_interval:null,via_host:"".concat(r.createRandomToken(12),".invalid")};var c={mandatory:{sockets:function(e){var t=[];if(s.isSocket(e))t.push({socket:e});else{if(!Array.isArray(e)||!e.length)return;var n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;Object.prototype.hasOwnProperty.call(u,"socket")&&s.isSocket(u.socket)?t.push(u):s.isSocket(u)&&t.push({socket:u})}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}return t},uri:function(e){/^sip:/i.test(e)||(e="".concat(o.SIP,":").concat(e));var t=a.parse(e);return t&&t.user?t:void 0}},optional:{authorization_user:function(e){return-1===i.parse('"'.concat(e,'"'),"quoted_string")?void 0:e},user_agent:function(e){if("string"==typeof e)return e},connection_recovery_max_interval:function(e){if(r.isDecimal(e)){var t=Number(e);if(t>0)return t}},connection_recovery_min_interval:function(e){if(r.isDecimal(e)){var t=Number(e);if(t>0)return t}},contact_uri:function(e){if("string"==typeof e){var t=i.parse(e,"SIP_URI");if(-1!==t)return t}},display_name:function(e){return-1===i.parse('"'.concat(e,'"'),"display_name")?void 0:e},instance_id:function(e){return/^uuid:/i.test(e)&&(e=e.substr(5)),-1===i.parse(e,"uuid")?void 0:e},no_answer_timeout:function(e){if(r.isDecimal(e)){var t=Number(e);if(t>0)return t}},session_timers:function(e){if("boolean"==typeof e)return e},session_timers_refresh_method:function(e){if("string"==typeof e&&((e=e.toUpperCase())===o.INVITE||e===o.UPDATE))return e},password:function(e){return String(e)},realm:function(e){return String(e)},ha1:function(e){return String(e)},register:function(e){if("boolean"==typeof e)return e},register_expires:function(e){if(r.isDecimal(e)){var t=Number(e);if(t>0)return t}},registrar_server:function(e){/^sip:/i.test(e)||(e="".concat(o.SIP,":").concat(e));var t=a.parse(e);return t?t.user?void 0:t:void 0},use_preloaded_route:function(e){if("boolean"==typeof e)return e}}};t.load=function(e,t){for(var n in c.mandatory){if(!t.hasOwnProperty(n))throw new u.ConfigurationError(n);var o=t[n],i=c.mandatory[n](o);if(void 0===i)throw new u.ConfigurationError(n,o);e[n]=i}for(var a in c.optional)if(t.hasOwnProperty(a)){var s=t[a];if(r.isEmpty(s))continue;var l=c.optional[a](s);if(void 0===l)throw new u.ConfigurationError(a,s);e[a]=l}}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(16),i=n(6)("JsSIP:WebSocketInterface"),a=n(6)("JsSIP:ERROR:WebSocketInterface");a.log=console.warn.bind(console),e.exports=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i('new() [url:"%s"]',t),this._url=t,this._sip_uri=null,this._via_transport=null,this._ws=null;var n=o.parse(t,"absoluteURI");if(-1===n)throw a("invalid WebSocket URI: ".concat(t)),new TypeError("Invalid argument: ".concat(t));if("wss"!==n.scheme&&"ws"!==n.scheme)throw a("invalid WebSocket URI scheme: ".concat(n.scheme)),new TypeError("Invalid argument: ".concat(t));this._sip_uri="sip:".concat(n.host).concat(n.port?":".concat(n.port):"",";transport=ws"),this._via_transport=n.scheme.toUpperCase()}var t,n,s;return t=e,(n=[{key:"connect",value:function(){if(i("connect()"),this.isConnected())i("WebSocket ".concat(this._url," is already connected"));else if(this.isConnecting())i("WebSocket ".concat(this._url," is connecting"));else{this._ws&&this.disconnect(),i("connecting to WebSocket ".concat(this._url));try{this._ws=new WebSocket(this._url,"sip"),this._ws.binaryType="arraybuffer",this._ws.onopen=this._onOpen.bind(this),this._ws.onclose=this._onClose.bind(this),this._ws.onmessage=this._onMessage.bind(this),this._ws.onerror=this._onError.bind(this)}catch(e){this._onError(e)}}}},{key:"disconnect",value:function(){i("disconnect()"),this._ws&&(this._ws.onopen=function(){},this._ws.onclose=function(){},this._ws.onmessage=function(){},this._ws.onerror=function(){},this._ws.close(),this._ws=null)}},{key:"send",value:function(e){return i("send()"),this.isConnected()?(this._ws.send(e),!0):(a("unable to send message, WebSocket is not open"),!1)}},{key:"isConnected",value:function(){return this._ws&&this._ws.readyState===this._ws.OPEN}},{key:"isConnecting",value:function(){return this._ws&&this._ws.readyState===this._ws.CONNECTING}},{key:"_onOpen",value:function(){i("WebSocket ".concat(this._url," connected")),this.onconnect()}},{key:"_onClose",value:function(e){var t=e.wasClean,n=e.code,r=e.reason;i("WebSocket ".concat(this._url," closed")),!1===t&&i("WebSocket abrupt disconnection");var o={socket:this,error:!t,code:n,reason:r};this.ondisconnect(o)}},{key:"_onMessage",value:function(e){var t=e.data;i("received WebSocket message"),this.ondata(t)}},{key:"_onError",value:function(e){a("WebSocket ".concat(this._url," error: ").concat(e))}},{key:"via_transport",get:function(){return this._via_transport},set:function(e){this._via_transport=e.toUpperCase()}},{key:"sip_uri",get:function(){return this._sip_uri}},{key:"url",get:function(){return this._url}}])&&r(t.prototype,n),s&&r(t,s),e}()},function(e,t,n){var r={"./callcenter.mp3":260};function o(e){var t=i(e);return n(t)}function i(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=259},function(e,t){e.exports="../sounds/callcenter.mp3"},function(e,t){!function(){"use strict";var e={firstElementChild:function(){for(var e,t=this.children,n=0,r=t.length;n<r;++n)if(1===(e=t[n]).nodeType)return e;return null},lastElementChild:function(){for(var e,t=this.children,n=t.length-1;n>=0;--n)if(1===(e=t[n]).nodeType)return e;return null},nextElementSibling:function(){for(var e=this.nextSibling;e&&1!==e.nodeType;)e=e.nextSibling;return e},previousElementSibling:function(){for(var e=this.previousSibling;e&&1!==e.nodeType;)e=e.previousSibling;return e},childElementCount:function(){for(var e=0,t=this.children,n=0,r=t.length;n<r;++n)1===t[n].nodeType&&++e;return e}};for(var t in e)t in document.documentElement||Object.defineProperty(Element.prototype,t,{get:e[t]})}()},function(e,t,n){var r=n(263),o=n(71),i=n(119),a=n(49)("socket.io-client");e.exports=t=u;var s=t.managers={};function u(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,o=r(e),u=o.source,c=o.id,l=o.path,f=s[c]&&l in s[c].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||f?(a("ignoring socket cache for %s",u),n=i(u,t)):(s[c]||(a("new io instance for %s",u),s[c]=i(u,t)),n=s[c]),o.query&&!t.query?t.query=o.query:t&&"object"==typeof t.query&&(t.query=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}(t.query)),n.socket(o.path,t)}t.protocol=o.protocol,t.connect=u,t.Manager=n(119),t.Socket=n(125)},function(e,t,n){(function(t){var r=n(117),o=n(49)("socket.io-client:url");e.exports=function(e,n){var i=e;n=n||t.location,null==e&&(e=n.protocol+"//"+n.host);"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(o("protocol-less url %s",e),e=void 0!==n?n.protocol+"//"+e:"https://"+e),o("parse %s",e),i=r(e));i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443"));i.path=i.path||"/";var a=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+a+":"+i.port,i.href=i.protocol+"://"+a+(n&&n.port===i.port?"":":"+i.port),i}}).call(this,n(12))},function(e,t,n){(t=e.exports=i.debug=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&("-"===(e=n[o].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(265),t.names=[],t.skips=[],t.formatters={};var r,o=0;function i(e){function n(){}function i(){var e=i,n=+new Date,a=n-(r||n);e.diff=a,e.prev=r,e.curr=n,r=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=t.colors[o++%t.colors.length]);for(var s=new Array(arguments.length),u=0;u<s.length;u++)s[u]=arguments[u];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var c=0;s[0]=s[0].replace(/%([a-z%])/g,function(n,r){if("%%"===n)return n;c++;var o=t.formatters[r];if("function"==typeof o){var i=s[c];n=o.call(e,i),s.splice(c,1),c--}return n}),s=t.formatArgs.apply(e,s),(i.log||t.log||console.log.bind(console)).apply(e,s)}n.enabled=!1,i.enabled=!0;var a=t.enabled(e)?i:n;return a.namespace=e,a}},function(e,t){var n=1e3,r=60*n,o=60*r,i=24*o,a=365.25*i;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var u,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>1e4)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===c&&!1===isNaN(e))return t.long?s(u=e,i,"day")||s(u,o,"hour")||s(u,r,"minute")||s(u,n,"second")||u+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=o)return Math.round(e/o)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){function r(){var e;try{e=t.storage.debug}catch(e){}return e}(t=e.exports=n(267)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(){var e=arguments,n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r),e},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=r,t.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){return JSON.stringify(e)},t.enable(r())},function(e,t,n){(t=e.exports=function(e){function n(){}function i(){var e=i,n=+new Date,a=n-(r||n);e.diff=a,e.prev=r,e.curr=n,r=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=t.colors[o++%t.colors.length]);var s=Array.prototype.slice.call(arguments);s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var u=0;s[0]=s[0].replace(/%([a-z%])/g,function(n,r){if("%%"===n)return n;u++;var o=t.formatters[r];if("function"==typeof o){var i=s[u];n=o.call(e,i),s.splice(u,1),u--}return n}),"function"==typeof t.formatArgs&&(s=t.formatArgs.apply(e,s));var c=i.log||t.log||console.log.bind(console);c.apply(e,s)}n.enabled=!1,i.enabled=!0;var a=t.enabled(e)?i:n;return a.namespace=e,a}).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&("-"===(e=n[o].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(268),t.names=[],t.skips=[],t.formatters={};var r,o=0},function(e,t){var n=1e3,r=60*n,o=60*r,i=24*o,a=365.25*i;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){return t=t||{},"string"==typeof e?function(e){if((e=""+e).length>1e4)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s}}(e):t.long?s(u=e,i,"day")||s(u,o,"hour")||s(u,r,"minute")||s(u,n,"second")||u+" ms":function(e){return e>=i?Math.round(e/i)+"d":e>=o?Math.round(e/o)+"h":e>=r?Math.round(e/r)+"m":e>=n?Math.round(e/n)+"s":e+"ms"}(e);var u}},function(e,t,n){(function(e,r){var o;/*! JSON v3.3.2 | http://bestiejs.github.io/json3 | Copyright 2012-2014, Kit Cambridge | http://kit.mit-license.org */(function(){var i=n(270),a={function:!0,object:!0},s=a[typeof t]&&t&&!t.nodeType&&t,u=a[typeof window]&&window||this,c=s&&a[typeof e]&&e&&!e.nodeType&&"object"==typeof r&&r;function l(e,t){e||(e=u.Object()),t||(t=u.Object());var n=e.Number||u.Number,r=e.String||u.String,o=e.Object||u.Object,i=e.Date||u.Date,s=e.SyntaxError||u.SyntaxError,c=e.TypeError||u.TypeError,f=e.Math||u.Math,p=e.JSON||u.JSON;"object"==typeof p&&p&&(t.stringify=p.stringify,t.parse=p.parse);var d,h,v,m=o.prototype,g=m.toString,y=new i(-0xc782b5b800cec);try{y=-109252==y.getUTCFullYear()&&0===y.getUTCMonth()&&1===y.getUTCDate()&&10==y.getUTCHours()&&37==y.getUTCMinutes()&&6==y.getUTCSeconds()&&708==y.getUTCMilliseconds()}catch(e){}function _(e){if(_[e]!==v)return _[e];var o;if("bug-string-char-index"==e)o="a"!="a"[0];else if("json"==e)o=_("json-stringify")&&_("json-parse");else{var a,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var u=t.stringify,c="function"==typeof u&&y;if(c){(a=function(){return 1}).toJSON=a;try{c="0"===u(0)&&"0"===u(new n)&&'""'==u(new r)&&u(g)===v&&u(v)===v&&u()===v&&"1"===u(a)&&"[1]"==u([a])&&"[null]"==u([v])&&"null"==u(null)&&"[null,null,null]"==u([v,g,null])&&u({a:[a,!0,!1,null,"\0\b\n\f\r\t"]})==s&&"1"===u(null,a)&&"[\n 1,\n 2\n]"==u([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==u(new i(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==u(new i(864e13))&&'"-000001-01-01T00:00:00.000Z"'==u(new i(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==u(new i(-1))}catch(e){c=!1}}o=c}if("json-parse"==e){var l=t.parse;if("function"==typeof l)try{if(0===l("0")&&!l(!1)){var f=5==(a=l(s)).a.length&&1===a.a[0];if(f){try{f=!l('"\t"')}catch(e){}if(f)try{f=1!==l("01")}catch(e){}if(f)try{f=1!==l("1.")}catch(e){}}}}catch(e){f=!1}o=f}}return _[e]=!!o}if(!_("json")){var b=_("bug-string-char-index");if(!y)var C=f.floor,A=[0,31,59,90,120,151,181,212,243,273,304,334],E=function(e,t){return A[t]+365*(e-1970)+C((e-1969+(t=+(t>1)))/4)-C((e-1901+t)/100)+C((e-1601+t)/400)};if((d=m.hasOwnProperty)||(d=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=g?d=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,d=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,d.call(this,e)}),h=function(e,t){var n,r,o,i=0;for(o in(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n)d.call(r,o)&&i++;return n=r=null,i?h=2==i?function(e,t){var n,r={},o="[object Function]"==g.call(e);for(n in e)o&&"prototype"==n||d.call(r,n)||!(r[n]=1)||!d.call(e,n)||t(n)}:function(e,t){var n,r,o="[object Function]"==g.call(e);for(n in e)o&&"prototype"==n||!d.call(e,n)||(r="constructor"===n)||t(n);(r||d.call(e,n="constructor"))&&t(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],h=function(e,t){var n,o,i="[object Function]"==g.call(e),s=!i&&"function"!=typeof e.constructor&&a[typeof e.hasOwnProperty]&&e.hasOwnProperty||d;for(n in e)i&&"prototype"==n||!s.call(e,n)||t(n);for(o=r.length;n=r[--o];s.call(e,n)&&t(n));}),h(e,t)},!_("json-stringify")){var S={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},T=function(e,t){return("000000"+(t||0)).slice(-e)},w=function(e){for(var t='"',n=0,r=e.length,o=!b||r>10,i=o&&(b?e.split(""):e);n<r;n++){var a=e.charCodeAt(n);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=S[a];break;default:if(a<32){t+="\\u00"+T(2,a.toString(16));break}t+=o?i[n]:e.charAt(n)}}return t+'"'},k=function(e,t,n,r,o,i,a){var s,u,l,f,p,m,y,_,b,A,S,R,O,x,I,P;try{s=t[e]}catch(e){}if("object"==typeof s&&s)if("[object Date]"!=(u=g.call(s))||d.call(s,"toJSON"))"function"==typeof s.toJSON&&("[object Number]"!=u&&"[object String]"!=u&&"[object Array]"!=u||d.call(s,"toJSON"))&&(s=s.toJSON(e));else if(s>-1/0&&s<1/0){if(E){for(p=C(s/864e5),l=C(p/365.2425)+1970-1;E(l+1,0)<=p;l++);for(f=C((p-E(l,0))/30.42);E(l,f+1)<=p;f++);p=1+p-E(l,f),y=C((m=(s%864e5+864e5)%864e5)/36e5)%24,_=C(m/6e4)%60,b=C(m/1e3)%60,A=m%1e3}else l=s.getUTCFullYear(),f=s.getUTCMonth(),p=s.getUTCDate(),y=s.getUTCHours(),_=s.getUTCMinutes(),b=s.getUTCSeconds(),A=s.getUTCMilliseconds();s=(l<=0||l>=1e4?(l<0?"-":"+")+T(6,l<0?-l:l):T(4,l))+"-"+T(2,f+1)+"-"+T(2,p)+"T"+T(2,y)+":"+T(2,_)+":"+T(2,b)+"."+T(3,A)+"Z"}else s=null;if(n&&(s=n.call(t,e,s)),null===s)return"null";if("[object Boolean]"==(u=g.call(s)))return""+s;if("[object Number]"==u)return s>-1/0&&s<1/0?""+s:"null";if("[object String]"==u)return w(""+s);if("object"==typeof s){for(x=a.length;x--;)if(a[x]===s)throw c();if(a.push(s),S=[],I=i,i+=o,"[object Array]"==u){for(O=0,x=s.length;O<x;O++)R=k(O,s,n,r,o,i,a),S.push(R===v?"null":R);P=S.length?o?"[\n"+i+S.join(",\n"+i)+"\n"+I+"]":"["+S.join(",")+"]":"[]"}else h(r||s,function(e){var t=k(e,s,n,r,o,i,a);t!==v&&S.push(w(e)+":"+(o?" ":"")+t)}),P=S.length?o?"{\n"+i+S.join(",\n"+i)+"\n"+I+"}":"{"+S.join(",")+"}":"{}";return a.pop(),P}};t.stringify=function(e,t,n){var r,o,i,s;if(a[typeof t]&&t)if("[object Function]"==(s=g.call(t)))o=t;else if("[object Array]"==s){i={};for(var u,c=0,l=t.length;c<l;u=t[c++],("[object String]"==(s=g.call(u))||"[object Number]"==s)&&(i[u]=1));}if(n)if("[object Number]"==(s=g.call(n))){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else"[object String]"==s&&(r=n.length<=10?n:n.slice(0,10));return k("",((u={})[""]=e,u),o,i,r,"",[])}}if(!_("json-parse")){var R,O,x=r.fromCharCode,I={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},P=function(){throw R=O=null,s()},N=function(){for(var e,t,n,r,o,i=O,a=i.length;R<a;)switch(o=i.charCodeAt(R)){case 9:case 10:case 13:case 32:R++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=b?i.charAt(R):i[R],R++,e;case 34:for(e="@",R++;R<a;)if((o=i.charCodeAt(R))<32)P();else if(92==o)switch(o=i.charCodeAt(++R)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=I[o],R++;break;case 117:for(t=++R,n=R+4;R<n;R++)(o=i.charCodeAt(R))>=48&&o<=57||o>=97&&o<=102||o>=65&&o<=70||P();e+=x("0x"+i.slice(t,R));break;default:P()}else{if(34==o)break;for(o=i.charCodeAt(R),t=R;o>=32&&92!=o&&34!=o;)o=i.charCodeAt(++R);e+=i.slice(t,R)}if(34==i.charCodeAt(R))return R++,e;P();default:if(t=R,45==o&&(r=!0,o=i.charCodeAt(++R)),o>=48&&o<=57){for(48==o&&((o=i.charCodeAt(R+1))>=48&&o<=57)&&P(),r=!1;R<a&&((o=i.charCodeAt(R))>=48&&o<=57);R++);if(46==i.charCodeAt(R)){for(n=++R;n<a&&((o=i.charCodeAt(n))>=48&&o<=57);n++);n==R&&P(),R=n}if(101==(o=i.charCodeAt(R))||69==o){for(43!=(o=i.charCodeAt(++R))&&45!=o||R++,n=R;n<a&&((o=i.charCodeAt(n))>=48&&o<=57);n++);n==R&&P(),R=n}return+i.slice(t,R)}if(r&&P(),"true"==i.slice(R,R+4))return R+=4,!0;if("false"==i.slice(R,R+5))return R+=5,!1;if("null"==i.slice(R,R+4))return R+=4,null;P()}return"$"},D=function(e){var t,n;if("$"==e&&P(),"string"==typeof e){if("@"==(b?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];"]"!=(e=N());n||(n=!0))n&&(","==e?"]"==(e=N())&&P():P()),","==e&&P(),t.push(D(e));return t}if("{"==e){for(t={};"}"!=(e=N());n||(n=!0))n&&(","==e?"}"==(e=N())&&P():P()),","!=e&&"string"==typeof e&&"@"==(b?e.charAt(0):e[0])&&":"==N()||P(),t[e.slice(1)]=D(N());return t}P()}return e},M=function(e,t,n){var r=U(e,t,n);r===v?delete e[t]:e[t]=r},U=function(e,t,n){var r,o=e[t];if("object"==typeof o&&o)if("[object Array]"==g.call(o))for(r=o.length;r--;)M(o,r,n);else h(o,function(e){M(o,e,n)});return n.call(e,t,o)};t.parse=function(e,t){var n,r;return R=0,O=""+e,n=D(N()),"$"!=N()&&P(),R=O=null,t&&"[object Function]"==g.call(t)?U(((r={})[""]=n,r),"",t):n}}}return t.runInContext=l,t}if(!c||c.global!==c&&c.window!==c&&c.self!==c||(u=c),s&&!i)l(u,s);else{var f=u.JSON,p=u.JSON3,d=!1,h=l(u,u.JSON3={noConflict:function(){return d||(d=!0,u.JSON=f,u.JSON3=p,f=p=null),h}});u.JSON={parse:h.parse,stringify:h.stringify}}i&&(void 0===(o=function(){return h}.call(t,n,t,e))||(e.exports=o))}).call(this)}).call(this,n(52)(e),n(12))},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){var n=this;function r(){n.off(e,r),t.apply(this,arguments)}return this._callbacks=this._callbacks||{},r.fn=t,this.on(e,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks[e];if(!r)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){(function(e){var r=n(273),o=n(118);t.deconstructPacket=function(e){var t=[],n=e.data;var i=e;return i.data=function e(n){if(!n)return n;if(o(n)){var i={_placeholder:!0,num:t.length};return t.push(n),i}if(r(n)){for(var a=new Array(n.length),s=0;s<n.length;s++)a[s]=e(n[s]);return a}if("object"==typeof n&&!(n instanceof Date)){for(var u in a={},n)a[u]=e(n[u]);return a}return n}(n),i.attachments=t.length,{packet:i,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(n){if(n&&n._placeholder)return t[n.num];if(r(n)){for(var o=0;o<n.length;o++)n[o]=e(n[o]);return n}if(n&&"object"==typeof n){for(var i in n)n[i]=e(n[i]);return n}return n}(e.data),e.attachments=void 0,e},t.removeBlobs=function(t,n){var i=0,a=t;!function t(s,u,c){if(!s)return s;if(e.Blob&&s instanceof Blob||e.File&&s instanceof File){i++;var l=new FileReader;l.onload=function(){c?c[u]=this.result:a=this.result,--i||n(a)},l.readAsArrayBuffer(s)}else if(r(s))for(var f=0;f<s.length;f++)t(s[f],f,s);else if(s&&"object"==typeof s&&!o(s))for(var p in s)t(s[p],p,s)}(a),i||n(a)}}).call(this,n(12))},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){e.exports=n(275)},function(e,t,n){e.exports=n(276),e.exports.parser=n(33)},function(e,t,n){(function(t){var r=n(120),o=n(41),i=n(51)("engine.io-client:socket"),a=n(124),s=n(33),u=n(117),c=n(291),l=n(74);function f(e,n){if(!(this instanceof f))return new f(e,n);n=n||{},e&&"object"==typeof e&&(n=e,e=null),e?(e=u(e),n.hostname=e.host,n.secure="https"===e.protocol||"wss"===e.protocol,n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=u(n.host).host),this.secure=null!=n.secure?n.secure:t.location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.agent=n.agent||!1,this.hostname=n.hostname||(t.location?location.hostname:"localhost"),this.port=n.port||(t.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized?null:n.rejectUnauthorized,this.forceNode=!!n.forceNode;var r="object"==typeof t&&t;r.global===r&&(n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),n.localAddress&&(this.localAddress=n.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=f,f.priorWebsocketSuccess=!1,o(f.prototype),f.protocol=s.protocol,f.Socket=f,f.Transport=n(73),f.transports=n(120),f.parser=n(33),f.prototype.createTransport=function(e){i('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);return t.EIO=s.protocol,t.transport=e,this.id&&(t.sid=this.id),new r[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders,forceNode:this.forceNode,localAddress:this.localAddress})},f.prototype.open=function(){var e;if(this.rememberUpgrade&&f.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},f.prototype.setTransport=function(e){i("setting transport %s",e.name);var t=this;this.transport&&(i("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},f.prototype.probe=function(e){i('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,r=this;function o(){if(r.onlyBinaryUpgrades){var o=!this.supportsBinary&&r.transport.supportsBinary;n=n||o}n||(i('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(o){if(!n)if("pong"===o.type&&"probe"===o.data){if(i('probe transport "%s" pong',e),r.upgrading=!0,r.emit("upgrading",t),!t)return;f.priorWebsocketSuccess="websocket"===t.name,i('pausing current transport "%s"',r.transport.name),r.transport.pause(function(){n||"closed"!==r.readyState&&(i("changing transport and sending upgrade packet"),p(),r.setTransport(t),t.send([{type:"upgrade"}]),r.emit("upgrade",t),t=null,r.upgrading=!1,r.flush())})}else{i('probe transport "%s" failed',e);var a=new Error("probe error");a.transport=t.name,r.emit("upgradeError",a)}}))}function a(){n||(n=!0,p(),t.close(),t=null)}function s(n){var o=new Error("probe error: "+n);o.transport=t.name,a(),i('probe transport "%s" failed because of error: %s',e,n),r.emit("upgradeError",o)}function u(){s("transport closed")}function c(){s("socket closed")}function l(e){t&&e.name!==t.name&&(i('"%s" works - aborting "%s"',e.name,t.name),a())}function p(){t.removeListener("open",o),t.removeListener("error",s),t.removeListener("close",u),r.removeListener("close",c),r.removeListener("upgrading",l)}f.priorWebsocketSuccess=!1,t.once("open",o),t.once("error",s),t.once("close",u),this.once("close",c),this.once("upgrading",l),t.open()},f.prototype.onOpen=function(){if(i("socket open"),this.readyState="open",f.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){i("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},f.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(i('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(c(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else i('packet received with socket readyState "%s"',this.readyState)},f.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},f.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},f.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){i("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},f.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},f.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},f.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(i("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},f.prototype.write=f.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},f.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var o={type:e,data:t,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}},f.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():t()}):this.upgrading?r():t()}function t(){e.onClose("forced close"),i("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return this},f.prototype.onError=function(e){i("socket error %j",e),f.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},f.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){i('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},f.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~a(this.transports,e[n])&&t.push(e[n]);return t}}).call(this,n(12))},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,n){(function(t){var r=n(72),o=n(121),i=n(41),a=n(50),s=n(51)("engine.io-client:polling-xhr");function u(){}function c(e){if(o.call(this,e),this.requestTimeout=e.requestTimeout,t.location){var n="https:"===location.protocol,r=location.port;r||(r=n?443:80),this.xd=e.hostname!==t.location.hostname||r!==e.port,this.xs=e.secure!==n}else this.extraHeaders=e.extraHeaders}function l(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function f(){for(var e in l.requests)l.requests.hasOwnProperty(e)&&l.requests[e].abort()}e.exports=c,e.exports.Request=l,a(c,o),c.prototype.supportsBinary=!0,c.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new l(e)},c.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),o=this;r.on("success",t),r.on("error",function(e){o.onError("xhr post error",e)}),this.sendXhr=r},c.prototype.doPoll=function(){s("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},i(l.prototype),l.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var n=this.xhr=new r(e),o=this;try{s("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var i in n.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.extraHeaders[i])}catch(e){}if(this.supportsBinary&&(n.responseType="arraybuffer"),"POST"===this.method)try{this.isBinary?n.setRequestHeader("Content-type","application/octet-stream"):n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{n.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in n&&(n.withCredentials=!0),this.requestTimeout&&(n.timeout=this.requestTimeout),this.hasXDR()?(n.onload=function(){o.onLoad()},n.onerror=function(){o.onError(n.responseText)}):n.onreadystatechange=function(){4===n.readyState&&(200===n.status||1223===n.status?o.onLoad():setTimeout(function(){o.onError(n.status)},0))},s("xhr data %s",this.data),n.send(this.data)}catch(e){return void setTimeout(function(){o.onError(e)},0)}t.document&&(this.index=l.requestsCount++,l.requests[this.index]=this)},l.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},l.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},l.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},l.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=u:this.xhr.onreadystatechange=u,e)try{this.xhr.abort()}catch(e){}t.document&&delete l.requests[this.index],this.xhr=null}},l.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(e){}if("application/octet-stream"===t)e=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(t){for(var n=new Uint8Array(this.xhr.response),r=[],o=0,i=n.length;o<i;o++)r.push(n[o]);e=String.fromCharCode.apply(null,r)}else e=this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},l.prototype.hasXDR=function(){return void 0!==t.XDomainRequest&&!this.xs&&this.enablesXDR},l.prototype.abort=function(){this.cleanup()},l.requestsCount=0,l.requests={},t.document&&(t.attachEvent?t.attachEvent("onunload",f):t.addEventListener&&t.addEventListener("beforeunload",f,!1))}).call(this,n(12))},function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var o=new Uint8Array(e),i=new Uint8Array(n-t),a=t,s=0;a<n;a++,s++)i[s]=o[a];return i.buffer}},function(e,t){function n(){}e.exports=function(e,t,r){var o=!1;return r=r||n,i.count=e,0===e?t():i;function i(e,n){if(i.count<=0)throw new Error("after called too many times");--i.count,e?(o=!0,t(e),t=r):0!==i.count||o||t(null,n)}}},function(e,t,n){(function(e,r){var o;/*! https://mths.be/wtf8 v1.0.0 by @mathias */!function(i){var a=t,s=(e&&e.exports,"object"==typeof r&&r);s.global!==s&&s.window;var u,c,l,f=String.fromCharCode;function p(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function d(e,t){return f(e>>t&63|128)}function h(e){if(0==(4294967168&e))return f(e);var t="";return 0==(4294965248&e)?t=f(e>>6&31|192):0==(4294901760&e)?(t=f(e>>12&15|224),t+=d(e,6)):0==(4292870144&e)&&(t=f(e>>18&7|240),t+=d(e,12),t+=d(e,6)),t+=f(63&e|128)}function v(){if(l>=c)throw Error("Invalid byte index");var e=255&u[l];if(l++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function m(){var e,t;if(l>c)throw Error("Invalid byte index");if(l==c)return!1;if(e=255&u[l],l++,0==(128&e))return e;if(192==(224&e)){if((t=(31&e)<<6|v())>=128)return t;throw Error("Invalid continuation byte")}if(224==(240&e)){if((t=(15&e)<<12|v()<<6|v())>=2048)return t;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=(15&e)<<18|v()<<12|v()<<6|v())>=65536&&t<=1114111)return t;throw Error("Invalid WTF-8 detected")}var g={version:"1.0.0",encode:function(e){for(var t=p(e),n=t.length,r=-1,o="";++r<n;)o+=h(t[r]);return o},decode:function(e){u=p(e),c=u.length,l=0;for(var t,n=[];!1!==(t=m());)n.push(t);return function(e){for(var t,n=e.length,r=-1,o="";++r<n;)(t=e[r])>65535&&(o+=f((t-=65536)>>>10&1023|55296),t=56320|1023&t),o+=f(t);return o}(n)}};void 0===(o=function(){return g}.call(t,n,t,e))||(e.exports=o)}()}).call(this,n(52)(e),n(12))},function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<e.length;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),o=r.length,i="";for(n=0;n<o;n+=3)i+=e[r[n]>>2],i+=e[(3&r[n])<<4|r[n+1]>>4],i+=e[(15&r[n+1])<<2|r[n+2]>>6],i+=e[63&r[n+2]];return o%3==2?i=i.substring(0,i.length-1)+"=":o%3==1&&(i=i.substring(0,i.length-2)+"=="),i},t.decode=function(e){var t,r,o,i,a,s=.75*e.length,u=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var l=new ArrayBuffer(s),f=new Uint8Array(l);for(t=0;t<u;t+=4)r=n[e.charCodeAt(t)],o=n[e.charCodeAt(t+1)],i=n[e.charCodeAt(t+2)],a=n[e.charCodeAt(t+3)],f[c++]=r<<2|o>>4,f[c++]=(15&o)<<4|i>>2,f[c++]=(3&i)<<6|63&a;return l}}()},function(e,t,n){(function(t){var n=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),o=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),i=n&&n.prototype.append&&n.prototype.getBlob;function a(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var o=new Uint8Array(n.byteLength);o.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=o.buffer}e[t]=r}}}function s(e,t){t=t||{};var r=new n;a(e);for(var o=0;o<e.length;o++)r.append(e[o]);return t.type?r.getBlob(t.type):r.getBlob()}function u(e,t){return a(e),new Blob(e,t||{})}e.exports=r?o?t.Blob:u:i?s:void 0}).call(this,n(12))},function(e,t,n){(t=e.exports=i.debug=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&("-"===(e=n[o].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(287),t.names=[],t.skips=[],t.formatters={};var r,o=0;function i(e){function n(){}function i(){var e=i,n=+new Date,a=n-(r||n);e.diff=a,e.prev=r,e.curr=n,r=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=t.colors[o++%t.colors.length]);for(var s=new Array(arguments.length),u=0;u<s.length;u++)s[u]=arguments[u];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var c=0;s[0]=s[0].replace(/%([a-z%])/g,function(n,r){if("%%"===n)return n;c++;var o=t.formatters[r];if("function"==typeof o){var i=s[c];n=o.call(e,i),s.splice(c,1),c--}return n}),s=t.formatArgs.apply(e,s),(i.log||t.log||console.log.bind(console)).apply(e,s)}n.enabled=!1,i.enabled=!0;var a=t.enabled(e)?i:n;return a.namespace=e,a}},function(e,t){var n=1e3,r=60*n,o=60*r,i=24*o,a=365.25*i;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var u,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>1e4)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===c&&!1===isNaN(e))return t.long?s(u=e,i,"day")||s(u,o,"hour")||s(u,r,"minute")||s(u,n,"second")||u+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=o)return Math.round(e/o)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){(function(t){var r=n(121),o=n(50);e.exports=c;var i,a=/\n/g,s=/\\n/g;function u(){}function c(e){r.call(this,e),this.query=this.query||{},i||(t.___eio||(t.___eio=[]),i=t.___eio),this.index=i.length;var n=this;i.push(function(e){n.onData(e)}),this.query.j=this.index,t.document&&t.addEventListener&&t.addEventListener("beforeunload",function(){n.script&&(n.script.onerror=u)},!1)}o(c,r),c.prototype.supportsBinary=!1,c.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},c.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},c.prototype.doWrite=function(e,t){var n=this;if(!this.form){var r,o=document.createElement("form"),i=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=u,o.method="POST",o.setAttribute("accept-charset","utf-8"),i.name="d",o.appendChild(i),document.body.appendChild(o),this.form=o,this.area=i}function c(){l(),t()}function l(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(e)}catch(e){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),l(),e=e.replace(s,"\\\n"),this.area.value=e.replace(a,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&c()}:this.iframe.onload=c}}).call(this,n(12))},function(e,t,n){(function(t){var r,o=n(73),i=n(33),a=n(74),s=n(50),u=n(123),c=n(51)("engine.io-client:websocket"),l=t.WebSocket||t.MozWebSocket;if("undefined"==typeof window)try{r=n(290)}catch(e){}var f=l;function p(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=l&&!e.forceNode,this.usingBrowserWebSocket||(f=r),o.call(this,e)}f||"undefined"!=typeof window||(f=r),e.exports=p,s(p,o),p.prototype.name="websocket",p.prototype.supportsBinary=!0,p.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t={agent:this.agent,perMessageDeflate:this.perMessageDeflate};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(t.headers=this.extraHeaders),this.localAddress&&(t.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?new f(e):new f(e,void 0,t)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},p.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},p.prototype.write=function(e){var n=this;this.writable=!1;for(var r=e.length,o=0,a=r;o<a;o++)!function(e){i.encodePacket(e,n.supportsBinary,function(o){if(!n.usingBrowserWebSocket){var i={};if(e.options&&(i.compress=e.options.compress),n.perMessageDeflate)("string"==typeof o?t.Buffer.byteLength(o):o.length)<n.perMessageDeflate.threshold&&(i.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(o):n.ws.send(o,i)}catch(e){c("websocket closed before onclose event")}--r||s()})}(e[o]);function s(){n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0)}},p.prototype.onClose=function(){o.prototype.onClose.call(this)},p.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},p.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=u()),this.supportsBinary||(e.b64=1),(e=a.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},p.prototype.check=function(){return!(!f||"__initialize"in f&&this.name===p.prototype.name)}}).call(this,n(12))},function(e,t){},function(e,t,n){(function(t){var n=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,i=/(?:^|:|,)(?:\s*\[)+/g,a=/^\s+/,s=/\s+$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(a,"").replace(s,""),t.JSON&&JSON.parse?JSON.parse(e):n.test(e.replace(r,"@").replace(o,"]").replace(i,""))?new Function("return "+e)():void 0):null}}).call(this,n(12))},function(e,t){e.exports=function(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n}},function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},function(e,t,n){var r={"./close.png":295};function o(e){var t=i(e);return n(t)}function i(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=294},function(e,t){e.exports="../imgs/close.png"},,function(e,t,n){"use strict";n.r(t);n(130),n(131);var r=n(3),o=n.n(r),i=n(0),a=n.n(i),s=n(75),u=(n(234),{id:"",name:"",group_id:[],permissions:{}}),c=n(2),l=n.n(c),f="idle",p="busy",d="offline",h="resting",v="hangup",m="fixed_voip_online",g="phone_online",y="voip_online";function b(e){return"function"==typeof e}function C(e){var t=parseInt(e/3600),n=parseInt(e%3600/60),r=parseInt(e%60);return(t=t<10?"0"+t:t)+":"+(n=n<10?"0"+n:n)+":"+(r=r<10?"0"+r:r)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eventMap={}}var t,n,r;return t=e,(n=[{key:"set",value:function(e,t){this[e]!==t&&(this[e]=t,this.trigger("change",e,t,this))}},{key:"setProperties",value:function(e){var t=this,n=[];o.a.forIn(e,function(e,r){t[r]!==e&&(t[r]=e,n.push(r))}),o.a.forEach(n,function(e){return t.trigger("change",e,t[e])})}},{key:"trigger",value:function(){for(var e=arguments[0],t=this._getEvents(e),n=[].splice.call(arguments,1),r=0,o=t.length;r<o;r++)b(t[r])&&t[r].apply(this,n)}},{key:"on",value:function(e,t){this._getEvents(e).push(t)}},{key:"_getEvents",value:function(e){var t=this.eventMap[e];return t||(t=this.eventMap[e]=[]),t}},{key:"off",value:function(){var e,t;arguments.length>1?(e=arguments[0],t=arguments[1]):arguments.length>0&&(e=arguments[0]),e&&t?this.eventMap[e]&&o.a.remove(this.eventMap[e],function(e){return e===t}):e?delete this.eventMap[e]:this.eventMap={}}}])&&A(t.prototype,n),r&&A(t,r),e}();function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=new(function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=w(this,k(t).call(this))).agent_work_state=d,e.agent_work_way=m,e.default_callout_number=null,e.callout_numbers=[],e.enableVoipOnline=!1,e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,E),n=t,(r=[{key:"setAgentWorkState",value:function(e){this.agent_work_state!==e&&(this.agent_work_state=e,this.trigger("change","agent_work_state",e,this))}},{key:"setAgentWorkWay",value:function(e){this.agent_work_way!==e&&(this.agent_work_way=e,this.trigger("change","agent_work_way",e,this))}},{key:"setDefaultCalloutNumber",value:function(e){this.default_callout_number!==e&&(this.default_callout_number=e,this.trigger("change","default_callout_number",e,this))}},{key:"set",value:function(e,t){this[e]!==t&&(this[e]=t,this.trigger("change",e,t,this))}},{key:"reset",value:function(){this.agent_work_state=d,this.agent_work_way=m,this.enableVoipOnline=!1}}])&&T(n.prototype,r),o&&T(n,o),t}()),x=n(76),I=n.n(x),P=n(128),N=n.n(P),D=n(77),M=n.n(D),U=n(129),j=n.n(U),L=M.a.create();function F(){return M.a.random(32)}function B(e,t){return I.a.decrypt(e,j.a.parse(t),{iv:L}).toString(N.a)}function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var z=new(function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=W(this,V(t).call(this))).queue=[],e.eventMap={change:[],add:[]},e}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,E),n=t,(r=[{key:"put",value:function(e){var t,n,r=o.a.find(this.queue,["conversation_id",e.conversation_id]),i=this;return t=e.conversation_id,n=function(t){if(O.encrypt_cellphone_number&&(t.customer_phone=B(t.customer_phone,t.key)),r){if(o.a.some(["ringing"],e.state)&&"talking"===r.state)return;if(o.a.some([v],e.state)&&("talking"===r.state||"ringing"===r.state))return;r.update(o.a.assign(e,t)),i.trigger("change",r)}else{var n=o.a.assign(e,t);i.queue.push(n),i.trigger("add",n)}},l.a.get("/agent_api/v1/callcenter/desktop/conversation",{conversation_id:t},n),this}},{key:"get",value:function(e){return o.a.find(this.queue,function(t){return t.conversation_id===e})}}])&&q(n.prototype,r),i&&q(n,i),t}()),Y=n(1);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var $=new(function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==K(t)&&"function"!=typeof t?X(e):t}(this,J(t).call(this))).queue_desc="",e.customer_phone="",e.phone_location="",e.ringingTime=0,e.talkingTime=0,e.call_type="呼入",e.queue_desc="",e.state="hangup",e.cache=[],e.eventMap={change:[],ringing:[],talking:[],hangup:[],screenPop:[]},e.cc_ad_task=null;var n=X(X(e));return e.on("change",function(e,t,r){n.state;"state"===e&&("ringing"===t?(n.set("ringingTime",0),n.startRingingTiming(),clearInterval(n.talkingTimingIntervalId),n.trigger("ringing",n)):"talking"===t?(n.set("talkingTime",0),n.startTalkingTiming(),clearInterval(n.ringingTimingIntervalId),n.trigger("talking",n)):"hangup"===t&&(clearInterval(n.talkingTimingIntervalId),clearInterval(n.ringingTimingIntervalId),n.trigger("hangup",n)))}),z.on("change",function(e){e.conversation_id===n.conversation_id?n.updateFromCallLog(e):n.updateCache(e)}),z.on("add",function(e){"hangup"!==e.state&&(n.updateCache(e),n.screenPop(e))}),e}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(t,E),n=t,(r=[{key:"startRingingTiming",value:function(){var e=this;clearInterval(this.ringingTimingIntervalId),this.ringingTimingIntervalId=setInterval(function(){e.set("ringingTime",e.ringingTime+1)},1e3)}},{key:"startTalkingTiming",value:function(){var e=this;clearInterval(this.talkingTimingIntervalId),this.talkingTimingIntervalId=setInterval(function(){e.set("talkingTime",e.talkingTime+1)},1e3)}},{key:"updateCache",value:function(e){var t=o.a.find(this.cache,["conversation_id",e.conversation_id]);if(t)e.state===v&&o.a.remove(this.cache,function(e){return e===t});else{if(e.state===v)return;this.cache.push(e)}}},{key:"readCache",value:function(){this.updateFromCallLog(this.cache.shift())}},{key:"updateFromCallLog",value:function(e){this.setProperties(e)}},{key:"screenPop",value:function(){this.readCache(),this.trigger("screenPop",this)}},{key:"manualScreenPop",value:function(){var e,t=this;e=function(e){1e3===e.code?(O.encrypt_cellphone_number&&(e.customer_phone=B(e.customer_phone,e.key)),t.trigger("screenPop",e)):Y.a.error(e.code_message||"手动弹屏失败")},l.a.get("/agent_api/v1/callcenter/desktop/current_conversation",null,e)}}])&&Q(n.prototype,r),i&&Q(n,i),t}()),ee=n(78),te=n.n(ee);function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(259);var re=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events={muted:[],unmuted:[],hold:[],unhold:[],registered:[],unregistered:[],registrationFailed:[],sessionFailed:[],sessionProcess:[],sessionConfirmed:[],sessionEnded:[],sessionAccepted:[],callProcess:[],callConfirmed:[],callFailed:[],callEnded:[]}}var t,n,r;return t=e,(n=[{key:"init",value:function(e){var t=e.host,n=e.port,r=e.username,o=e.password;this._audioElement=document.createElement("audio"),this._audioElement.autoplay=!0;var i="wss://"+t+":"+n;this._socket=new te.a.WebSocketInterface(i),this._sipUri="sip:"+r+"@"+t,this._uaConfig={sockets:[this._socket],uri:this._sipUri,password:o},this._ua=new te.a.UA(this._uaConfig),this._ua.addListener("connecting",this._onUaConnecting.bind(this)),this._ua.addListener("connected",this._onUaConnected.bind(this)),this._ua.addListener("disconnected",this._onUaDisconnected.bind(this)),this._ua.addListener("registered",this._onUaRegistered.bind(this)),this._ua.addListener("unregistered",this._onUaUnregistered.bind(this)),this._ua.addListener("registrationFailed",this._onUaRegistrationFailed.bind(this)),this._ua.addListener("newRTCSession",this._onUaNewRTCSession.bind(this))}},{key:"on",value:function(e,t){e in this.events&&this.events[e].push(t)}},{key:"off",value:function(e,t){t?o.a.remove(this.events[e],function(e){return e===t}):this.events[e]=[]}},{key:"trigger",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e in this.events&&o.a.each(this.events[e],function(e){e.apply(void 0,n)})}},{key:"isRegistered",value:function(){return this._ua.isRegistered()}},{key:"isConnected",value:function(){return this._ua.isConnected()}},{key:"register",value:function(){this._ua.register()}},{key:"unregister",value:function(){this._ua.unregister({all:!0})}},{key:"start",value:function(){this._ua&&this._ua.start()}},{key:"stop",value:function(){this._ua&&this._ua.stop()}},{key:"call",value:function(e){var t=this,n={eventHandlers:{progress:this._onCallProcess.bind(this),failed:function(e){var n=e.cause;t.trigger("callFailed",n),t._onCallFailed.apply(t,arguments)},confirmed:this._onCallConfirmed.bind(this),ended:this._onCallEnded.bind(this)},mediaConstraints:{audio:!0,video:!1},sessionTimersExpires:180};this._session=this._ua.call(e,n)}},{key:"_onCallProcess",value:function(){console.log("正在拨打"),this.trigger("callProcess")}},{key:"_onCallFailed",value:function(e){var t=e.cause;"Canceled"===t?console.log("您取消了"):console.log("拨号失败:"+t)}},{key:"_onCallConfirmed",value:function(){console.log("对方已接受"),this.trigger("callConfirmed")}},{key:"_onCallEnded",value:function(){console.log("结束呼叫"),this.trigger("callEnded")}},{key:"_onUaConnecting",value:function(e){e.socket,e.attempts;console.log("正在连接...")}},{key:"_onUaConnected",value:function(e){e.socket;console.log("已连接")}},{key:"_onUaDisconnected",value:function(e){if(console.log("已断开连接"),e){e.socket;var t=e.error;e.code,e.reason;console.error(t)}}},{key:"_onUaRegistered",value:function(e){var t=e.response;console.log("已注册"),this.trigger("registered",t)}},{key:"_onUaUnregistered",value:function(e){var t=e.response,n=e.cause;console.log("已注销"),this.trigger("unregistered",{response:t,cause:n})}},{key:"_onUaRegistrationFailed",value:function(e){var t=e.response,n=e.cause;console.error(n),this.trigger("registrationFailed",{response:t,cause:n})}},{key:"_onUaNewRTCSession",value:function(e){var t=this,n=(e.originator,e.session);e.request;(this._session=n,n.addListener("muted",function(){return t.trigger("muted")}),n.addListener("unmuted",function(){return t.trigger("unmuted")}),n.addListener("hold",function(){return t.trigger("hold")}),n.addListener("unhold",function(){return t.trigger("unhold")}),n.on("progress",function(e){var n=e.originator;"local"===n&&t.playRinging(),t.trigger("sessionProcess",n)}),n.on("accepted",function(){t.trigger("sessionAccepted")}),n.on("confirmed",function(){t._audioElement.srcObject=n.connection.getRemoteStreams()[0],t.stopRinging(),t.trigger("sessionConfirmed")}),n.on("ended",function(){t.trigger("sessionEnded")}),n.on("failed",function(e){var n=e.cause;t.stopRinging(),t.trigger("sessionFailed",n)}),n.on("icecandidate",function(e){e.candidate;var n=e.ready;t._iceCheckingTimer||(t._iceCheckingTimer=setTimeout(n,5e3))}),n.on("sdp",function(){clearTimeout(t._iceCheckingTimer),t._iceCheckingTimer=null}),"incoming"!==n.direction)&&n.connection.addEventListener("addstream",function(e){t._audioElement.srcObject=e.stream})}},{key:"_isInProgress",value:function(){}},{key:"_isEstablished",value:function(){}},{key:"_isEnded",value:function(){}},{key:"_isReadyToReOffer",value:function(){}},{key:"answer",value:function(){this._session&&this._session.isInProgress()&&this._session.answer({mediaConstraints:{audio:!0,video:!1},sessionTimersExpires:200})}},{key:"hangupAllSessions",value:function(){this._ua.terminateSessions()}},{key:"_sendDTMF",value:function(){}},{key:"_sendInfo",value:function(){}},{key:"hold",value:function(){this._session.hold()}},{key:"unhold",value:function(){this._session.unhold()}},{key:"_renegotiate",value:function(){}},{key:"_isOnHold",value:function(){}},{key:"mute",value:function(){this._session&&this._session.mute({audio:!0,video:!0})}},{key:"unmute",value:function(){this._session&&this._session.unmute({audio:!0,video:!1})}},{key:"playRinging",value:function(){this._ringingElement||(this._ringingElement=document.createElement("audio"),this._ringingElement.src="sounds/callcenter.mp3",this._ringingElement.loop=!0),this._ringingElement.play()}},{key:"stopRinging",value:function(){this._ringingElement&&(this._ringingElement.pause(),this._ringingElement.currentTime=0)}},{key:"_isMuted",value:function(){}},{key:"_refer",value:function(){}},{key:"_resetLocalMedia",value:function(){}}])&&ne(t.prototype,n),r&&ne(t,r),e}(),oe=window.softphone=new re;function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ae=!1,se=function(){},ue="agent";function ce(e){if(!ae){var t,n,r;if(ae=!0,"object"===ie(arguments[1])?(t=arguments[1],n=arguments[2],r=arguments[3]):"function"==typeof arguments[1]&&(n=arguments[1],r=arguments[2]),setTimeout(function(){ae=!1},3e3),O.agent_work_state===d)return Y.a.error("离线不可以拨打电话"),void(b(r)&&r(new Error("离线不可以外呼")));if(/^[\d*#+]{4,}$/.test(e)){var o={number:e};if(t&&t.biz_id&&(o.biz_id=t.biz_id),O.encrypt_cellphone_number){var i=F();o.number=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F();return I.a.encrypt(e,t,{iv:L}).toString()}(e,i),o.key=i.toString()}l.a.post("/agent_api/v1/callcenter/desktop/make_call",o,function(e){switch(e.code){case 1e3:Y.a.success("已发起外呼请求"),b(n)&&n();break;default:Y.a.error(e.message||"外呼失败"),b(r)&&r(new Error("外呼失败"))}},function(){Y.a.error("外呼失败"),b(r)&&r(new Error("外呼失败"))})}else b(r)&&r(new Error("电话号码格式不正确"))}}function le(){var e="https:"==document.location.protocol;O.agent_work_way!==y||e?O.agent_work_way===y&&oe.answer():alert("请在https://下登录使用网页电话")}function fe(e,t,n){l.a.post("/agent_api/v1/callcenter/agents/agent_work_state",{agent_work_state:e},function(){b(t)&&t.apply(void 0,arguments)},function(){Y.a.error("切换在线状态失败"),b(n)&&n.apply(void 0,arguments)})}function pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:se,r="https:"==document.location.protocol;"voip_online"!==e||r?l.a.post("/agent_api/v1/callcenter/agents/agent_work_way",{agent_work_way:e},function(e){1e3===e.code?t(e):n(e)},function(){n.apply(void 0,arguments)}):alert("请在https://下登录使用网页电话")}function de(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se;if(O.agent_work_way!==y)l.a.post("/agent_api/v1/callcenter/desktop/drop_call",null,function(n){2049!==n.code?1001!==n.code?(Y.a.error(n.code_message||"挂断失败！"),b(t)&&t.apply(void 0,arguments)):b(e)&&e.apply(void 0,arguments):o.a.forEach(z.queue,function(e){if("hangup"!==e.state){var t=o.a.clone(e);t.state="hangup",z.put(t)}})},function(){Y.a.error("挂断失败！"),b(t)&&t.apply(void 0,arguments)});else try{oe.hangupAllSessions(),e()}catch(e){t(e)}}function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:se;l.a.post("/agent_api/v1/callcenter/desktop/transfer_call",{agent_no:e},function(e){switch(e.code){case 1001:t(e);break;default:n(e)}},function(e){n(e)})}function ve(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:se;ue="agent",l.a.post("/agent_api/v1/callcenter/desktop/start_consult",{agent_no:e},function(e){switch(e.code){case 1001:t(e);break;default:n(e)}},function(e){n(e)})}function me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:se;l.a.post("/agent_api/v1/callcenter/desktop/three_party",{agent_no:e},function(e){switch(e.code){case 1001:t(e);break;default:n(e)}},function(e){n(e)})}function ge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:se;l.a.post("/agent_api/v1/callcenter/desktop/transfer_ivr",{node_id:e.id,transfer_mode:e.transfer_mode},function(e){switch(e.code){case 1001:t(e);break;default:n(e)}},function(e){n(e)})}function ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se,n="/agent_api/v1/callcenter/desktop/end_consult";"agent"!==ue&&(n="/agent_api/v1/callcenter/desktop/end_consult_outline"),l.a.post(n,null,function(n){switch(n.code){case 1001:e(n);break;default:t(n)}},function(e){t(e)})}function _e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:se,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:se;l.a.get("/agent_api/v1/callcenter/desktop/external_contacts_prefix_search",{prefix_input:e,page:t},function(e){switch(e.code){case 1e3:n(e);break;default:r(e)}},function(e){r(e)})}function be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se;l.a.post("/agent_api/v1/callcenter/desktop/hold_call",null,function(n){switch(n.code){case 1001:e(n);break;default:t(n)}},function(e){t(e)})}function Ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se;l.a.post("/agent_api/v1/callcenter/desktop/retrieval_call",null,function(n){switch(n.code){case 1001:e(n);break;default:t(n)}},function(e){t(e)})}function Ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:se;l.a.post("/agent_api/v1/callcenter/desktop/transfer_call",{queue_type:e},function(e){switch(e.code){case 1001:t(e);break;default:n(e)}},function(e){n(e)})}function Ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:se;l.a.post("/agent_api/v1/callcenter/desktop//transfer_call_outline",{outline_phone_number:e},function(e){switch(e.code){case 1001:t(e);break;default:n(e)}},function(e){n(e)})}function Se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:se;ue="outline",l.a.post("/agent_api/v1/callcenter/desktop/start_consult_outline",{outline_phone_number:e},function(e){switch(e.code){case 1001:t(e);break;default:n(e)}},function(e){n(e)})}function Te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:se;l.a.post("/agent_api/v1/callcenter/desktop/three_party_outline",{outline_phone_number:e},function(e){switch(e.code){case 1001:t(e);break;default:n(e)}},function(e){n(e)})}function we(){return $.cc_ad_task}function ke(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:se;l.a.post("/agent_api/v1/callcenter/agents/setup_default_number",{id:e},function(e){switch(e.code){case 1e3:t(e);break;default:n(e)}},function(e){n(e)})}function Re(){return O.callout_numbers}function Oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:se;l.a.post("/agent_api/v1/callcenter/desktop/transfer_after_consult",{agent_no:e},function(e){switch(e.code){case 1001:t(e);break;default:n(e)}},function(e){n(e)})}function xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:se;l.a.post("/agent_api/v1/callcenter/desktop/three_party_after_consult",{agent_no:e},function(e){switch(e.code){case 1001:t(e);break;default:n(e)}},function(e){n(e)})}function Ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:se;l.a.post("/agent_api/v1/callcenter/desktop/transfer_after_three_party",{agent_no:e},function(e){switch(e.code){case 1001:t(e);break;default:n(e)}},function(e){n(e)})}var Pe=n(5),Ne=n.n(Pe);function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t){return!t||"object"!==De(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fe=function(e){function t(e){var n,r=e.optionLabelPath,o=void 0===r?"name":r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ue(this,je(t).call(this))).state={expand:!1,optionLabelPath:o},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.content,r=t.value,i=o.a.find(n,{id:r}),s=this.state.expand&&!this.props.disabled?"":"hide";return s+=" "+this.props.direction,a.a.createElement("div",{className:(this.props.className||"")+" ucm-dropdown"},a.a.createElement("img",{src:Ne.a.caret_down,onClick:this.toggleExpand.bind(this)}),a.a.createElement("div",{onClick:this.toggleExpand.bind(this)},i?i.name:""),a.a.createElement("ul",{className:s},o.a.map(this.props.content,function(t){if(!t.hide)return a.a.createElement("li",{key:t.id,onClick:function(n){e.toggleExpand(),e.props.onChange&&e.props.onChange(t)}},t[e.state.optionLabelPath])})))}},{key:"toggleExpand",value:function(){this.props.disabled?this.setState({expand:!1}):this.setState({expand:!this.state.expand})}}])&&Me(n.prototype,r),i&&Me(n,i),t}();function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ge(e,t){return(Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}document;var Ye={};Ye[f]="空闲",Ye[p]="忙碌",Ye[h]="小休",Ye[d]="离线",Ye.neaten="整理中",Ye.talking="通话中",Ye.ringing="振铃中";var Ke=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Be(t)&&"function"!=typeof t?ze(e):t}(this,Ve(t).call(this,e))).agentWayMap=[{id:m,name:"IP话机"},{id:g,name:"手机"}],n.state={agent_work_state:O.agent_work_state,agent_work_way:O.agent_work_way,default_callout_number:O.default_callout_number,callState:v};var r=ze(ze(n));return O.on("change",n.callConfigChangCb=function(e,t){switch(e){case"agent_work_state":case"agent_work_way":case"default_callout_number":r.setState(qe({},e,t));break;case"enableVoipOnline":t&&(r.agentWayMap.push({id:y,name:"网页电话"}),r.forceUpdate())}}),$.on("change",n.callInfoChangeCb=function(e,t){"state"===e&&r.setState({callState:t})}),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return this.agentStateMap=[{id:f,name:a.a.createElement("div",{className:"work-state-"+f},a.a.createElement("i",null),"空闲")},{id:p,name:a.a.createElement("div",{className:"work-state-"+p},a.a.createElement("i",null),"忙碌")},{id:h,name:a.a.createElement("div",{className:"work-state-"+h},a.a.createElement("i",null),"小休")}].concat(He(_.map(this.props.customStates,function(e){return"string"==typeof e.name&&(e.name=a.a.createElement("div",{className:"work-state-"+e.originalStateId},a.a.createElement("i",null),e.name)),e})),[{id:d,name:a.a.createElement("div",{className:"work-state-"+d},a.a.createElement("i",null),"离线")},{id:"neaten",name:a.a.createElement("div",{className:"work-state-"+p},a.a.createElement("i",null),"整理中"),hide:!0}]),a.a.createElement("div",{className:"agent-state-panel"},function(){return this.state.callState===v?a.a.createElement(Fe,{direction:this.props.dropdownDirection,content:this.agentStateMap,value:this.state.agent_work_state,className:"state-select",onChange:this.updateAgentWorkState}):"talking"===this.state.callState?a.a.createElement("div",{className:"pull-right working"},a.a.createElement("div",{className:"work-state-talking"},a.a.createElement("i",null),"通话中")):"ringing"===this.state.callState?a.a.createElement("div",{className:"pull-right working"},a.a.createElement("div",{className:"work-state-ringing"},a.a.createElement("i",null),"振铃中")):void 0}.call(this),a.a.createElement(Fe,{direction:this.props.dropdownDirection,content:this.agentWayMap,value:this.state.agent_work_way,className:"state-select",onChange:this.updateAgentWorkWay.bind(this),disabled:this.state.callState!==v}),a.a.createElement(Fe,qe({direction:this.props.dropdownDirection,content:this.props.callout_numbers,value:this.state.default_callout_number,className:"way-select",optionLabelPath:"option",onChange:this.updateCalloutNumbers.bind(this),disabled:this.state.callState!==v},"className","ucm-dropdown-long")))}},{key:"updateAgentWorkState",value:function(e){var t,n,r,o;e.originalStateId?(t=e.originalStateId,n=e.customStateId,l.a.post("/agent_api/v1/callcenter/agents/agent_work_state",{agent_work_state:t,cc_custom_state_id:n},function(){b(r)&&r.apply(void 0,arguments)},function(){Y.a.error("切换在线状态失败"),b(o)&&o.apply(void 0,arguments)})):fe(e.id)}},{key:"updateCalloutNumbers",value:function(e){var t=null===e.id?"":e.id;this.state.callState===v?ke(t,function(){O.set("default_callout_number",e.id)},function(){Y.a.error("切换中继号失败")}):Y.a.error("只能在挂断的时候切换中继号")}},{key:"updateAgentWorkWay",value:function(e){this.state.callState===v?pe(e.id,function(){},function(){Y.a.error("切换在线方式失败")}):Y.a.error("只能在挂断的时候切换在线方式")}},{key:"componentWillUnmount",value:function(){O.off("change",this.callConfigChangCb),$.off("change",this.callInfoChangeCb)}}])&&We(n.prototype,r),o&&We(n,o),t}();function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ze(e){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tt=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=Ze(t).call(this,e),n=!o||"object"!==Qe(o)&&"function"!=typeof o?$e(r):o,et($e($e(n)),"onMouseDown",function(e){n.MouseDown=!0,n.screenX=e.screenX,n.screenY=e.screenY}),et($e($e(n)),"onMouseUp",function(){n.MouseDown=!1}),n.state={expand:!1},n.MouseDown=!1,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(t,i["Component"]),n=t,(r=[{key:"render",value:function(){var e,t=this.props.movable;return e=this.state.expand?a.a.createElement("div",{className:"resize-btn",onClick:this.minimize.bind(this)},a.a.createElement("img",{src:Ne.a.minimize})):a.a.createElement("div",{className:"resize-btn",onClick:this.maximize.bind(this)},a.a.createElement("img",{src:Ne.a.maximize})),a.a.createElement("div",{className:"top-bar ".concat(t?"movable":""),onDragStart:function(){return!1},onDrop:function(){return!1},unselectable:"on",onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp},a.a.createElement("div",{className:"buttons"},e),a.a.createElement("div",{className:"title"},"电话"))}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.movable,r=t.onDrag,o=t.onDrop;n&&(document.addEventListener("mousemove",this.onMouseMove=function(t){if(!0===e.MouseDown){var n=t.screenX-e.screenX,o=t.screenY-e.screenY;e.screenX=t.screenX,e.screenY=t.screenY,r(n,o)}}),document.addEventListener("mouseup",this.onMouseUp=function(t){e.MouseDown=!1,o()}))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)}},{key:"minimize",value:function(){this.setState({expand:!1}),this.props.onMinimize&&this.props.onMinimize()}},{key:"maximize",value:function(){this.setState({expand:!0}),this.props.onMaximize&&this.props.onMaximize()}},{key:"onMouseMove",value:function(e){}}])&&Je(n.prototype,r),o&&Je(n,o),t}();n(261);function nt(e){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ot(e,t){return!t||"object"!==nt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function at(e,t){return(at=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var st={width:"100%",backgroundColor:"#49b34f",border:"0",height:"47px"},ut=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ot(this,it(t).call(this))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&at(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("button",{onClick:this.props.onClick,style:st},a.a.createElement("img",{src:"hangup"===this.props.type?Ne.a.hangup:Ne.a.call_out}))}}])&&rt(n.prototype,r),o&&rt(n,o),t}();function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ft(e,t){return!t||"object"!==ct(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dt(e,t){return(dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ht={outline:"none",width:"94%",height:"47px",border:"1px solid #e4e4e4",backgroundColor:"#eee",marginBottom:"7px",fontSize:"16px",color:"#666",cursor:"pointer"},vt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ft(this,pt(t).call(this,e))).state={},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dt(e,t)}(t,i["Component"]),n=t,(r=[{key:"render",value:function(){return a.a.createElement("button",{style:ht,onClick:this.onClick.bind(this)},this.props.number)}},{key:"onClick",value:function(){this.props.onClick(this.props.number)}}])&&lt(n.prototype,r),o&&lt(n,o),t}();function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yt(e,t){return!t||"object"!==mt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _t(e){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bt(e,t){return(bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ct=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),yt(this,_t(t).call(this))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bt(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("div",{className:(this.props.className||"")+" keyboard"},a.a.createElement("div",{className:"left"},a.a.createElement(vt,{number:"1",onClick:this.onClickBtn.bind(this)}),a.a.createElement(vt,{number:"4",onClick:this.onClickBtn.bind(this)}),a.a.createElement(vt,{number:"7",onClick:this.onClickBtn.bind(this)}),a.a.createElement(vt,{number:"*",onClick:this.onClickBtn.bind(this)})),a.a.createElement("div",{className:"center"},a.a.createElement(vt,{number:"2",onClick:this.onClickBtn.bind(this)}),a.a.createElement(vt,{number:"5",onClick:this.onClickBtn.bind(this)}),a.a.createElement(vt,{number:"8",onClick:this.onClickBtn.bind(this)}),a.a.createElement(vt,{number:"0",onClick:this.onClickBtn.bind(this)})),a.a.createElement("div",{className:"right"},a.a.createElement(vt,{number:"3",onClick:this.onClickBtn.bind(this)}),a.a.createElement(vt,{number:"6",onClick:this.onClickBtn.bind(this)}),a.a.createElement(vt,{number:"9",onClick:this.onClickBtn.bind(this)}),a.a.createElement(vt,{number:"#",onClick:this.onClickBtn.bind(this)})),a.a.createElement("div",{className:"clearfix"}))}},{key:"onClickBtn",value:function(e){this.props.onClick(e)}}])&&gt(n.prototype,r),o&&gt(n,o),t}();function At(e){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function St(e,t){return!t||"object"!==At(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tt(e){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}document;var kt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),St(this,Tt(t).call(this))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("div",{className:"number-input"},a.a.createElement("img",{src:Ne.a.keyboard,onClick:this.props.onKeyboardBtnClick}),a.a.createElement("div",null,a.a.createElement("input",{onChange:this.props.onChange,value:this.props.value})))}}])&&Et(n.prototype,r),o&&Et(n,o),t}();function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xt(e,t){return!t||"object"!==Rt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function It(e){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pt(e,t){return(Pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Nt=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=xt(this,It(t).call(this))).state={inputNumber:"",displayKeyboard:!1},e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pt(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props.isShow;return void 0!==t&&t?a.a.createElement("div",null,a.a.createElement(kt,{onChange:this.getInputNumber.bind(this),value:this.state.inputNumber,onKeyboardBtnClick:this.toggleKeyboard.bind(this)}),a.a.createElement(Ct,{className:this.state.displayKeyboard?"":"hide",onClick:function(t){e.setState({inputNumber:e.state.inputNumber+t})}}),a.a.createElement(ut,{onClick:this.callout.bind(this)}),function(){if(e.props.showManualScreenPop)return a.a.createElement("button",{className:"btn-manual-screen-pop",onClick:$.manualScreenPop.bind($)},"手动弹屏")}()):null}},{key:"getInputNumber",value:function(e){this.setState({inputNumber:e.target.value})}},{key:"callout",value:function(){var e=this.state.inputNumber;O.agent_work_state!==d?ce(e,function(){},function(e){Y.a.error(e.message)}):Y.a.error("离线状态无法外呼！")}},{key:"toggleKeyboard",value:function(){this.setState({displayKeyboard:!this.state.displayKeyboard})}}])&&Ot(n.prototype,r),o&&Ot(n,o),t}();function Dt(e){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ut(e,t){return!t||"object"!==Dt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ft={backgroundColor:"#49b34f",width:"50%",border:"0",height:"47px",marginBottom:"10px"},Bt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ut(this,jt(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement("button",{onClick:le,style:Ft},a.a.createElement("img",{src:Ne.a.call_out}))}}])&&Mt(n.prototype,r),o&&Mt(n,o),t}();function Ht(e){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wt(e){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vt(e,t){return(Vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var zt=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Ht(t)&&"function"!=typeof t?Gt(e):t}(this,Wt(t).call(this,e))).state={customer_phone:$.customer_phone,phone_location:$.phone_location};var r=Gt(Gt(n));return $.on("change",n.onCallInfoChange=function(e,t){var n={};n[e]=t,r.setState(n)}),n}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vt(e,t)}(t,i["Component"]),n=t,(r=[{key:"render",value:function(){return a.a.createElement("div",{className:"customer-info"},a.a.createElement("span",{className:"number-content"},function(e,t){if(!e)return!1;var n=t.permissions,r=t.group_id,i=t.id,a=e.owner_group_id,s=e.owner_id;return!!n.customer_show_cellphone_all||!(!n.customer_show_cellphone_group||!o.a.includes(r,a))||!(!n.customer_show_cellphone_personal||s!==i)}($.customer,u)?$.customer_phone:(e=$.customer_phone,t=e.length,(n=e.substring(0,(t-4)/2))+"****"+e.substr(n.length+4))),a.a.createElement("span",{className:"location-content"},this.state.phone_location));var e,t,n}},{key:"componentWillUnmount",value:function(){$.off("change",this.onCallInfoChange)}}])&&qt(n.prototype,r),s&&qt(n,s),t}();function Yt(e){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qt(e,t){return!t||"object"!==Yt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jt(e){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zt(e,t){return(Zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xt={backgroundColor:"#e7443c",width:"50%",border:"0",height:"47px"},$t=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Qt(this,Jt(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zt(e,t)}(t,i["Component"]),n=t,(r=[{key:"render",value:function(){return a.a.createElement("button",{onClick:de,style:Xt},a.a.createElement("img",{src:Ne.a.hangup}))}}])&&Kt(n.prototype,r),o&&Kt(n,o),t}();function en(e){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nn(e){return(nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rn(e,t){return(rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function on(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var an=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==en(t)&&"function"!=typeof t?on(e):t}(this,nn(t).call(this))).state={ringingTime:0};var n=on(on(e));return $.on("change",e.onCallInfoChange=function(){"ringing"===$.state&&n.setState($)}),e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rn(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e="",t=this.props.isShow;return void 0!==t&&t?(this.state.queue_desc&&(e="来源:"+this.state.queue_desc),a.a.createElement("div",{className:"text-center"},a.a.createElement("img",{src:Ne.a.customer_head}),a.a.createElement(zt,null),a.a.createElement("hr",null),a.a.createElement("div",{className:"desc-info"},e),a.a.createElement("div",{className:"time-info"},C(this.state.ringingTime)),function(){if("in"===$.can_accept&&O.agent_work_way===y)return a.a.createElement("div",null,a.a.createElement(Bt,null))}(),function(){if($.can_hangup)return a.a.createElement("div",null,a.a.createElement($t,null))}())):null}},{key:"componentWillUnmount",value:function(){$.off("change",this.onCallInfoChange)}}])&&tn(n.prototype,r),o&&tn(n,o),t}();function sn(e){return(sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function un(e){return(un=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ln(e,t,n){return t&&cn(e.prototype,t),n&&cn(e,n),e}function fn(e,t){return(fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hn=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=un(t).call(this,e),n=!o||"object"!==sn(o)&&"function"!=typeof o?pn(r):o,dn(pn(pn(n)),"_doNotCloseDropDown",!1),dn(pn(pn(n)),"toggleExpand",function(){n.setState({expand:!n.state.expand})}),dn(pn(pn(n)),"onScroll",function(e){var t=e.target;n.page>=n.maxPage||t.scrollTop>=t.scrollHeight-t.offsetHeight&&(n.page=n.page+1,n.loadMore(n.state.query))}),dn(pn(pn(n)),"_onQueryInputChange",function(e){clearTimeout(n._queryTimeout),n.setState({query:e.target.value}),n._queryTimeout=setTimeout(function(){n.setState({content:[]}),n.page=1,n.loadMore(n.state.query)},500)});var i=e.optionLabelPath,a=void 0===i?"nick_name":i,s=e.placeholder,u=void 0===s?"":s;e.customOptionDiv;return n.maxPage=1,n.page=1,n.state={content:[],loading:!0,expand:!1,selectedItem:null,placeholder:u,optionLabelPath:a,showSearch:!1,query:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fn(e,t)}(t,i["Component"]),ln(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.loadMore(),document.body.addEventListener("click",this._onBodyClick=function(){e._doNotCloseDropDown?e._doNotCloseDropDown=!1:e.setState({expand:!1})}),this._ref.addEventListener("click",this._onDropDownMenuClick=function(){e._doNotCloseDropDown=!0})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,document.body.removeEventListener("click",this._onBodyClick),this._ref.removeEventListener("click",this._onDropDownMenuClick)}}]),ln(t,[{key:"render",value:function(){var e=this,t="dropdown",n=this.props.showSearch,r=this.state,i=r.loading,s=r.query;return this.state.expand||(t+=" hide"),n&&(t+=" show-search"),a.a.createElement("div",{className:"agent-select"},function(){if("input_search"===e.props.mode){var t=e.state.placeholder;return a.a.createElement("div",{className:"external-phone"},a.a.createElement("input",{placeholder:t,onChange:function(t){e.onSearch(t.target.value)}}))}return a.a.createElement("div",{className:"display-frame",onClick:e.toggleExpand},a.a.createElement("span",null,e.state.selectedItem?e.state.selectedItem[e.state.optionLabelPath]:e.state.placeholder),a.a.createElement("img",{src:Ne.a.caret_down}))}(),a.a.createElement("div",{className:t,ref:function(t){return e._ref=t}},e.state.content.length||e.state.loading?a.a.createElement("ul",{onScroll:e.onScroll},o.a.map(e.state.content,function(t){var n=e,r=function(){n.props.onChange(t),n.setState({expand:!1,selectedItem:t,search:""})};return e.state.customOptionDiv?e.customOptionStructure(t,r):a.a.createElement("li",{key:t.id,onClick:r},t[e.state.optionLabelPath])}),function(){if(i)return a.a.createElement("li",{className:"text-center"},a.a.createElement("i",{className:"fa fa-spinner fa-spin"}))}()):a.a.createElement("ul",null,a.a.createElement("li",{style:{textAlign:"center"}},"未筛选出客服|外部联系人",a.a.createElement("br",null),"或",a.a.createElement("br",null),"无客服在线",a.a.createElement("br",null)),a.a.createElement("li",{style:{textAlign:"center"}},a.a.createElement("a",{href:"javascript:",onClick:function(){return e.loadMore(e.state.query)}},"刷新"))),function(){if(n)return a.a.createElement("div",null,a.a.createElement("input",{placeholder:"搜索",value:s,onChange:e._onQueryInputChange}))}()))}},{key:"loadMore",value:function(){this.setState({content:[],loading:!1})}},{key:"onSearch",value:function(e){this.setState({search:e,content:[],loading:!1})}},{key:"customOptionStructure",value:function(e,t){return a.a.createElement("li",{key:e.id,onClick:t},e[this.state.optionLabelPath])}}]),t}();function vn(e){return(vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gn(e,t){return!t||"object"!==vn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yn(e){return(yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _n(e,t){return(_n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bn="-请选择其他客服-",Cn=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=gn(this,yn(t).apply(this,arguments)),o.a.merge(e.state,{placeholder:bn}),e}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_n(e,t)}(t,hn),n=t,(r=[{key:"loadMore",value:function(e){var t=this;this.setState({loading:!0}),function(e,t,n){var r=e.workState,o=e.page,i=e.query,a={page:o,callcenter_work_state:r};i&&(a.query=i),l.a.get("/agent_api/v1/callcenter/agents",a,function(e){t(e)},function(e){n(e)})}({workState:"idle",page:this.page,query:e},function(e){t._isMounted&&(t.maxPage=e.meta.page_count,t.page=e.meta.current_page,t.setState({content:o.a.concat(t.state.content,e.agents),loading:!1}))},function(){Y.a.error("获取客服失败！"),t.setState({loading:!1})})}}])&&mn(n.prototype,r),i&&mn(n,i),t}();function An(e){return(An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function En(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sn(e,t){return!t||"object"!==An(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tn(e){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wn(e,t){return(wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var kn=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Sn(this,Tn(t).call(this))).state={state:"normal"},e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wn(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this,t="image-button common-btn "+(this.props.className||"");return a.a.createElement("button",{className:t,onClick:this.onClick.bind(this)},a.a.createElement("img",{src:this.props.image}),function(){return"normal"===e.props.state?a.a.createElement("p",null,e.props.content):"cancel"===e.props.state?a.a.createElement("p",null,e.props.cancelText||"取消"):void 0}.call(this))}},{key:"onClick",value:function(){"normal"===this.props.state?this.props.normalHandler&&b(this.props.normalHandler)&&this.props.normalHandler():this.props.cancelHandler&&b(this.props.cancelHandler)&&this.props.cancelHandler()}}])&&En(n.prototype,r),o&&En(n,o),t}();function Rn(e){return(Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function On(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xn(e,t){return!t||"object"!==Rn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function In(e){return(In=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pn(e,t){return(Pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Nn="-请输入搜索外部联系人-",Dn=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=xn(this,In(t).apply(this,arguments)),o.a.merge(e.state,{placeholder:Nn,customOptionDiv:!0}),e}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pn(e,t)}(t,hn),n=t,(r=[{key:"loadMore",value:function(){var e=this,t=this.page,n=this.state.search;n&&""!==n?(this.setState({loading:!0}),_e(n,t,function(t){e._isMounted&&(e.maxPage=t.meta.page_count,e.page=t.meta.current_page,e.setState({content:o.a.concat(e.state.content,t.external_contacts),loading:!1,expand:!0}))},function(t){Y.a.error("获取外部联系人列表失败！"),e.setState({loading:!1})})):this.setState({content:[],loading:!1})}},{key:"onSearch",value:function(e){var t=this;if(""!==e){this.setState({loading:!0}),_e(e,1,function(n){n.external_contacts.push({cellphone:e,email:"",id:-1,nick_name:"使用".concat(e)}),t.maxPage=n.meta.page_count,t.page=n.meta.current_page,t.setState({content:n.external_contacts,loading:!1,search:e,expand:!0})},function(e){Y.a.error("获取外部联系人列表失败！"),t.setState({loading:!1})})}else this.setState({loading:!1,search:"",expand:!1,content:[]})}},{key:"customOptionStructure",value:function(e,t){return a.a.createElement("li",{key:e.id,className:"custom_option",onClick:t},a.a.createElement("p",null,e.nick_name),a.a.createElement("p",null,e.cellphone))}}])&&On(n.prototype,r),i&&On(n,i),t}();function Mn(e){return(Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jn(e,t){return!t||"object"!==Mn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ln(e){return(Ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fn(e,t){return(Fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=jn(this,Ln(t).apply(this,arguments)),o.a.merge(n.state,{placeholder:"-请选择其他客服组-",optionLabelPath:"name"}),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fn(e,t)}(t,hn),n=t,(r=[{key:"loadMore",value:function(){var e,t,n,r=this;e={},t=function(e){r._isMounted&&r.setState({content:o.a.concat(r.state.content,o.a.filter(e.queues,{linapp_queue_status:"open"})),loading:!1})},n=function(){Y.a.error("获取客服失败！"),r.setState({loading:!1})},l.a.get("/agent_api/v1/callcenter/desktop/agent_groups",e,function(e){t(e)},function(e){n(e)})}}])&&Un(n.prototype,r),i&&Un(n,i),t}();function Hn(e){return(Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wn(e,t){return!t||"object"!==Hn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vn(e){return(Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gn(e,t){return(Gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var zn=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Wn(this,Vn(t).call(this))).state={content:[],loading:!0,expand:!1,selectedItem:null},e}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gn(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this,t="dropdown";return this.state.expand||(t+=" hide"),a.a.createElement("div",{className:"agent-select"},a.a.createElement("div",{className:"display-frame",onClick:this.toggleExpand.bind(this)},a.a.createElement("span",null,this.state.selectedItem?this.state.selectedItem.name:"-请选择节点-"),a.a.createElement("img",{src:Ne.a.caret_down})),a.a.createElement("ul",{className:t},o.a.map(this.state.content,function(t){return a.a.createElement("li",{key:t.id,onClick:function(){e.props.onChange(t),e.setState({expand:!1,selectedItem:t})}},t.name)}),function(){if(e.state.loading)return a.a.createElement("li",{className:"text-center"},a.a.createElement("i",{className:"fa fa-spinner fa-spin"}))}.call(this)))}},{key:"componentDidMount",value:function(){this.loadingContent()}},{key:"loadingContent",value:function(){var e=this;!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se;l.a.get("/agent_api/v1/callcenter/desktop/ivr_nodes",null,function(n){switch(n.code){case 1e3:e(n);break;default:t(n)}},function(e){t(e)})}(function(t){e.setState({content:t.ivr_nodes,loading:!1})},function(){Y.a.error("获取节点失败！"),e.setState({loading:!1})})}},{key:"toggleExpand",value:function(){this.setState({expand:!this.state.expand})}}])&&qn(n.prototype,r),i&&qn(n,i),t}();function Yn(e){return(Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qn(e){return(Qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jn(e,t){return(Jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $n=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==Yn(t)&&"function"!=typeof t?Zn(e):t}(this,Qn(t).call(this,e)),Xn(Zn(Zn(n)),"_selectAgent",function(e){"transfer"===n.state.type?he(e.id,function(){Y.a.success("转移的请求已经发送！")},function(e){Y.a.error(e.message||"转移失败！")}):"consult"===n.state.type?ve(e.id,function(){Y.a.success("咨询的请求已经发送！")},function(e){Y.a.error(e.message||"咨询失败")}):"threeWay"===n.state.type?me(e.id,function(){Y.a.success("三方的请求已经发送！")},function(e){Y.a.error(e.message||"三方失败！")}):n.state.type,n._lastSelectedAgentId=e.id}),Xn(Zn(Zn(n)),"_transferAfterConsult",function(){n._lastSelectedAgentId&&Oe(n._lastSelectedAgentId)}),Xn(Zn(Zn(n)),"_threeWayCallingAfterConsult",function(){n._lastSelectedAgentId&&xe(n._lastSelectedAgentId)}),Xn(Zn(Zn(n)),"_transferAfterThreeWayCalling",function(){n._lastSelectedAgentId&&Ie(n._lastSelectedAgentId)}),n.state={talkingTime:0,type:null,queue_desc:$.queue_desc,can_end_consult:!1,targetType:"agent",externalPhoneNumber:""};var r=Zn(Zn(n));return $.on("change",n.onCallInfoChange=function(e,t){var n={};n[e]=t,r.setState(n)}),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jn(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this,t=this.state,n=t.can_transfer_after_consult,r=t.can_party_after_consult,i=t.call_transfer_after_party,s=this.props.isShow;if(!(void 0!==s&&s))return null;var u="";return this.state.queue_desc&&(u="来源:"+this.state.queue_desc),a.a.createElement("div",{className:"text-center talking-panel"},a.a.createElement("img",{src:Ne.a.customer_head}),a.a.createElement(zt,null),a.a.createElement("hr",null),a.a.createElement("div",{className:"desc-info"},u),a.a.createElement("div",{className:"time-info"},C(this.state.talkingTime)),"ivr_node"===e.state.type?a.a.createElement("div",{className:"agent-select-wrapper"},a.a.createElement(zn,{onChange:e._selectAgent})):e.state.showAgentSelect&&!e.state.can_end_consult&&(e.state.can_consult||e.state.can_transfer||e.state.can_three_party||e.state.can_transfer_ivr)?a.a.createElement("div",{className:"agent-select-wrapper"},a.a.createElement("select",{value:e.state.targetType,onChange:function(t){return e.setState({targetType:t.target.value})}},o.a.map(e.state.targetTypes,function(e){return a.a.createElement("option",{key:e.value,value:e.value},e.name)})),function(){switch(e.state.targetType){case"agent":return a.a.createElement(Cn,{onChange:e._selectAgent,showSearch:!0});case"group":return a.a.createElement(Bn,{onChange:e._selectGroup.bind(e)});case"externalPhone":return a.a.createElement(Dn,{mode:"input_search",onChange:e._onClickExternalPhone.bind(e)})}}()):null,a.a.createElement("div",{className:"bottom-btns"},a.a.createElement("div",{className:"btn-group"},a.a.createElement(kn,{image:Ne.a.call_retain,normalHandler:this.holdCallSelect.bind(this),content:"保持",className:this.state.can_hold?"":"hide",state:"normal",cancelHandler:this.hideTargetSelect.bind(this)}),a.a.createElement(kn,{image:Ne.a.call_recovery,normalHandler:this.recoveryCallSelect.bind(this),content:"取回",className:this.state.can_retrieval?"":"hide",state:"normal"}),a.a.createElement(kn,{image:Ne.a.ivrIcon,normalHandler:this.showIvrSelect.bind(this),content:"IVR",className:this.state.can_transfer_ivr?"":"hide",state:"ivr_node"!==this.state.type?"normal":"cancel",cancelHandler:this.hideTargetSelect.bind(this)}),a.a.createElement(kn,{image:Ne.a.transfer,normalHandler:this.showTransferAgentSelect.bind(this),content:"转移",className:this.state.can_transfer?"":"hide",state:"transfer"!==this.state.type?"normal":"cancel",cancelHandler:this.hideTargetSelect.bind(this)}),a.a.createElement(kn,{image:Ne.a.consult,normalHandler:this.showConsultAgentSelect.bind(this),content:"咨询",className:this.state.can_consult?"":"hide",state:"consult"!==this.state.type?"normal":"cancel",cancelHandler:this.hideTargetSelect.bind(this)}),a.a.createElement(kn,{image:Ne.a.consult,normalHandler:this.stopConsult.bind(this),className:this.state.can_end_consult?"":"hide",state:"normal",content:"恢复"}),a.a.createElement(kn,{image:Ne.a.threeWayCalling,normalHandler:this.showThreeWayAgentSelect.bind(this),content:"三方",className:this.state.can_three_party?"":"hide",state:"threeWay"!==this.state.type?"normal":"cancel",cancelHandler:this.hideTargetSelect.bind(this)}),n&&a.a.createElement(kn,{image:Ne.a.transfer,normalHandler:this._transferAfterConsult,content:"咨询后转接",state:"normal"}),r&&a.a.createElement(kn,{image:Ne.a.threeWayCalling,normalHandler:this._threeWayCallingAfterConsult,content:"咨询后三方",state:"normal"}),i&&a.a.createElement(kn,{image:Ne.a.transfer,normalHandler:this._transferAfterThreeWayCalling,content:"三方后转接",state:"normal"}))),function(){if($.can_hangup)return a.a.createElement("div",null,a.a.createElement($t,null))}())}},{key:"_selectIvrNode",value:function(e){var t=this;ge(e,function(){t.hideTargetSelect(),Y.a.success("ivr的请求已经发送！")},function(e){Y.a.error(e.message||"转接ivr失败！")})}},{key:"_selectGroup",value:function(e){"transfer"===this.state.type?Ae(e.linapp_queue_id,function(){Y.a.success("转移的请求已经发送！")},function(e){Y.a.error(e.message||"转移失败！")}):"ivr_node"===this.state.type&&ge(e.linapp_queue_id,function(){self.hideTargetSelect(),Y.a.success("ivr的请求已经发送！")},function(e){Y.a.error(e.message||"转接ivr失败！")})}},{key:"_onClickExternalPhone",value:function(e){e.cellphone?this.transfer(this.state.type,e.cellphone):Y.a.error("选择的外部联系人没有电话号码")}},{key:"transfer",value:function(e,t){var n=this;"transfer"===e?Ee(t,function(){n.hideTargetSelect(),Y.a.success("转接外线的请求已经发送")},function(e){return Y.a.error(e.message||"转接外线失败")}):"consult"===e?Se(t,function(){n.hideTargetSelect(),Y.a.success("咨询外线的请求已经发送")},function(e){return Y.a.error(e.message||"咨询外线失败")}):"threeWay"===e&&Te(t,function(){n.hideTargetSelect(),Y.a.success("三方外线的请求已经发送")},function(e){return Y.a.error(e.message||"三方外线失败")})}},{key:"stopConsult",value:function(){ye(function(){Y.a.success("正在取消咨询")},function(e){Y.a.error(e.message||"取消咨询失败")})}},{key:"holdCallSelect",value:function(){be(function(){Y.a.success("正在保持通话")},function(e){Y.a.error(e.message||"保持通话失败")})}},{key:"recoveryCallSelect",value:function(){Ce(function(){Y.a.success("正在取回通话")},function(e){Y.a.error(e.message||"取回通话失败")})}},{key:"showTransferAgentSelect",value:function(){this.setState({type:"transfer",showAgentSelect:!0,targetType:"agent",targetTypes:[{name:"客服",value:"agent"},{name:"客服组",value:"group"},{name:"外线",value:"externalPhone"}]})}},{key:"showConsultAgentSelect",value:function(){this.setState({type:"consult",showAgentSelect:!0,targetType:"agent",targetTypes:[{name:"客服",value:"agent"},{name:"外线",value:"externalPhone"}]})}},{key:"showThreeWayAgentSelect",value:function(){this.setState({type:"threeWay",showAgentSelect:!0,targetType:"agent",targetTypes:[{name:"客服",value:"agent"},{name:"外线",value:"externalPhone"}]})}},{key:"showIvrSelect",value:function(){this.setState({type:"ivr_node",showAgentSelect:!0})}},{key:"hideTargetSelect",value:function(){this.setState({type:null,showAgentSelect:!1})}},{key:"componentWillUnmount",value:function(){$.off("change",this.onCallInfoChange)}}])&&Kn(n.prototype,r),i&&Kn(n,i),t}();function er(e){return(er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nr(e){return(nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rr(e,t){return(rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function or(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ir=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==er(t)&&"function"!=typeof t?or(e):t}(this,nr(t).call(this,e))).state={callState:"hangup"};var r=or(or(n));return $.on("change",n.callInfoChangeCb=function(e,t){"state"===e&&r.setState({callState:t})}),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rr(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.className+" content-wrapper",t=this.state.callState;return a.a.createElement("div",{className:e},a.a.createElement(an,{isShow:"ringing"===t}),a.a.createElement($n,{isShow:"talking"===t}),a.a.createElement(Nt,{isShow:"hangup"===t,showManualScreenPop:this.props.showManualScreenPop}))}},{key:"componentWillUnmount",value:function(){$.off("change",this.callInfoChangeCb)}}])&&tr(n.prototype,r),o&&tr(n,o),t}();function ar(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var sr=function(){function e(t){for(var n in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t)t.hasOwnProperty(n)&&(this[n]=t[n]);this.can_retrieval="true"===t.can_retrieval,this.can_hold="true"===t.can_hold,this.can_transfer="true"===t.can_transfer,this.can_consult="true"===t.can_consult,this.can_three_party="true"===t.can_three_party,this.can_transfer_ivr="true"===t.can_transfer_ivr,this.can_hangup="true"===t.can_hangup,this.is_consult="true"===t.is_consult,this.can_transfer_after_consult="true"===this.can_transfer_after_consult,this.can_party_after_consult="true"===this.can_party_after_consult,this.call_transfer_after_party="true"===this.call_transfer_after_party}var t,n,r;return t=e,(n=[{key:"update",value:function(e){if(e.conversation_id===this.conversation_id){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);return this}console.warn("CallLog.update:conversation_id不一致，无法更新")}}])&&ar(t.prototype,n),r&&ar(t,r),e}();function ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var cr=n(262),lr=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.callbackList=[],this.exceptionCallBacks=[];var o=this,i=this.socket=cr(t,{transports:["websocket"],upgrade:!1}),a={token:r,uid:n,clientId:(new Date).getTime()+Math.random()+""};i.emit("register",a),i.on("reconnect",function(){i.emit("register",a)}),i.on("notice",function(e){for(var t=0,n=o.callbackList.length;t<n;t++)o.callbackList[t].call(o,e)}),i.on("exception",function(e){for(var t=0,n=o.exceptionCallBacks.length;t<n;t++)o.exceptionCallBacks[t].call(o,e)})}var t,n,r;return t=e,(n=[{key:"onNotice",value:function(e){this.callbackList.push(e)}},{key:"onException",value:function(e){this.exceptionCallBacks.push(e)}},{key:"close",value:function(){this.socket.close()}},{key:"destroy",value:function(){this.socket.off("notice"),this.socket.off("exception"),this.socket.off("reconnect"),this.close()}}])&&ur(t.prototype,n),r&&ur(t,r),e}();function fr(e){return(fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dr(e,t){return!t||"object"!==fr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hr(e){return(hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vr(e,t){return(vr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mr(e){$.set("can_consult","true"===e.can_consult),$.set("can_end_consult","true"===e.can_end_consult),$.set("can_three_party","true"===e.can_three_party),$.set("can_transfer","true"===e.can_transfer),$.set("can_transfer_ivr","true"===e.can_transfer_ivr),$.set("can_transfer_after_consult","true"===e.can_transfer_after_consult),$.set("can_party_after_consult","true"===e.can_party_after_consult),$.set("call_transfer_after_party","true"===e.call_transfer_after_party)}var gr=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),dr(this,hr(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vr(e,t)}(t,E),n=t,(r=[{key:"init",value:function(e,t){var n=this;this._socket=new lr(e,t),this._socket.onNotice(function(e){b(n[e.type])&&n[e.type](e)}),this._socket.onException(function(e){switch(e.error){case"connected_at_other_place":Y.a.error(e.message)}})}},{key:"call_log",value:function(e){"ringing"===e.state&&e.ad_task_id&&$.set("cc_ad_task",{ad_task_id:e.ad_task_id,customer_id:e.customer_id,numbers:e.ad_task_numbers.split(",")}),z.put(new sr(e))}},{key:"seat_status",value:function(e){var t=e.agent_work_way,n=e.agent_work_state;O.set("agent_work_way",t),t===y?oe.start():oe.stop(),e.cc_custom_state_id?O.set("agent_work_state",n+"_"+e.cc_custom_state_id):O.set("agent_work_state",n)}},{key:"consult_result",value:function(e){mr(e),this.trigger("consultResult",e)}},{key:"three_party",value:function(e){mr(e),this.trigger("threeWayCallingResult",e)}},{key:"transfer_result",value:function(e){this.trigger("transferResult",e)}},{key:"drop_call",value:function(e){this.trigger("dropCall",e)}},{key:"transfer_ivr_result",value:function(e){mr(e),this.trigger("ivrCallResult",e)}},{key:"resume_agent_result",value:function(e){mr(e),this.trigger("resumeAgentResult",e)}},{key:"hold_call",value:function(e){$.set("can_retrieval","true"===e.can_retrieval),$.set("can_hold","true"===e.can_hold)}},{key:"retrieval_call",value:function(e){$.set("can_retrieval","true"===e.can_retrieval),$.set("can_hold","true"===e.can_hold)}},{key:"barge_in",value:function(e){switch(e.code){case"1000":Y.a.success("强插成功");break;default:Y.a.error("强插失败")}}},{key:"listening_result",value:function(e){switch(e.code){case"1000":Y.a.success("监听成功");break;default:Y.a.error("监听失败")}}},{key:"substitute_result",value:function(e){switch(e.code){case"1000":Y.a.success("拦截成功");break;default:Y.a.error("拦截失败")}}},{key:"destroy",value:function(){this._socket&&(this._socket.destroy(),this._socket=null)}}])&&pr(n.prototype,r),o&&pr(n,o),t}());function yr(e){return(yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cr(e,t,n){return t&&br(e.prototype,t),n&&br(e,n),e}function Ar(e){return(Ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Er(e,t){return(Er=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wr(e){return{display_name:e.access_number,agent_id:u.id,agent_name:u.name,agent_email:e.agent_email,device_info:e.agent_work_way,call_id:e.call_id,call_type:e.call_type,category:e.category,conversation_id:e.conversation_id||e.conversation_log_id,customer_phone_location:e.phone_location,customer_phone_number:e.customer_phone,dtmf:e.dtmf_numbers,ivr_variables:e.ivr_variables,queue_name:e.queue_desc,queue_overflow:e.queue_overflow,queue_status:e.queue_status,queue_time:e.queue_time,ring_time:e.ring_at,multi_ring_count:e.multi_ring_count,relevant_agent:e.relevant_agent}}n(294);var kr=function(e){function t(e){var n,r,o;return _r(this,t),r=this,o=Ar(t).call(this,e),n=!o||"object"!==yr(o)&&"function"!=typeof o?Sr(r):o,Tr(Sr(Sr(n)),"collapse",function(){n.setState({expand:!1})}),Tr(Sr(Sr(n)),"expand",function(){n.setState({expand:!0})}),Tr(Sr(Sr(n)),"drag",function(e,t){if(n.props.movable){n.dragging=!0;var r=window.getComputedStyle(n.container),o=parseInt(r.right),i=parseInt(r.bottom);n.container.style.right=o-e+"px",n.container.style.bottom=i-t+"px"}}),Tr(Sr(Sr(n)),"drop",function(){n.dragging=!1}),n.state={expand:!1,customStates:[],callout_numbers:[{id:null,name:"--",option:"--"}],userDeleted:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Er(e,t)}(t,a.a.Component),Cr(t,[{key:"render",value:function(){var e=this,t=this.state.userDeleted,n=this.props.movable;return a.a.createElement("div",{ref:function(t){return e.ele=t}},a.a.createElement(tt,{onMinimize:this.collapse,onMaximize:this.expand,movable:n,onDrag:this.drag,ref:function(t){return t&&(e.headerComponent=t)},onDrop:this.drop}),a.a.createElement(Ke,{dropdownDirection:this.state.expand?"down":"up",customStates:this.state.customStates,callout_numbers:this.state.callout_numbers}),a.a.createElement(ir,{className:this.state.expand?"":"hide",showManualScreenPop:this.props.showManualScreenPop}),t?a.a.createElement("div",{className:"mask"},a.a.createElement("span",null,"该坐席账号已删除，请联系系统管理员。")):null)}},{key:"componentDidMount",value:function(){var e=this;l.a.get("/agent_api/v1/callcenter/init_data",null,function(t){if(15e3!==t.code){if(t.cc_custom_state_id?O.set("agent_work_state",t.agent_work_state+"_"+t.cc_custom_state_id):O.set("agent_work_state",t.agent_work_state),O.set("agent_work_way",t.agent_work_way),O.set("enableVoipOnline",t.is_web_voip_open),O.set("encrypt_cellphone_number",t.encrypt_cellphone_number),t.is_web_voip_open){oe.on("registrationFailed",function(){Y.a.error("软电话注册失败")}),oe.on("callFailed",function(e){"Canceled"!==e&&("User Denied Media Access"===(e=e||"呼叫失败")&&(e="无法访问您的耳麦"),Y.a.error(e),$.set("state","hangup"))}),oe.on("sessionProcess",function(e){$.setProperties({call_type:"local"===e?"呼入":"呼出",can_accept:"local"===e?"in":"out",agent_work_way:y})}),oe.on("sessionConfirmed",function(){$.set("state","talking")}),oe.on("sessionEnded",function(){$.set("state","hangup")}),oe.on("sessionFailed",function(){$.set("state","hangup")});try{oe.init({host:t.web_voip_host,port:t.web_voip_port_num,username:t.web_voip_id,password:t.web_voip_password}),t.agent_work_way===y&&oe.start()}catch(e){}}t.default_callout_number&&O.set("default_callout_number",t.default_callout_number),O.set("callout_numbers",t.callout_numbers),u.id=t.user_id,u.name=t.user_name,u.group_id=t.group_id,u.permissions=t.permissions;var n=o.a.map(t.callout_numbers||[],function(e){return{id:e.id,name:e.name||e.number,option:e.name?e.name+"-"+e.number:e.number}});e.setState({customStates:o.a.map(t.cc_custom_states||[],function(e){return e.customStateId=e.id,e.originalStateId="resting",e.id=e.originalStateId+"_"+e.id,e}),callout_numbers:[{id:null,name:"--",option:"--"}].concat(n)}),e.props.onInitSuccess(),gr.init(t.tower_host,t.user_id)}else e.setState({userDeleted:!0})},function(){e.props.onInitFailure()}),this.props.movable&&(this.container=this.ele.parentNode,clearInterval(this.intervaleId),this.intervaleId=setInterval(function(){if(!e.dragging){var t=e.container.getBoundingClientRect(),n=t.top,r=t.bottom,o=t.left,i=t.right,a=t.height,s=t.width;n<0&&(e.container.style.bottom=window.innerHeight-a+"px",e.headerComponent.mouseDown=!1),r>window.innerHeight&&(e.container.style.bottom="0"),o<0&&(e.container.style.right=document.documentElement.offsetWidth-s+"px"),i>document.documentElement.offsetWidth&&(e.container.style.right="0")}},1e3))}},{key:"componentWillUnmount",value:function(){this.socket&&this.socket.close(),clearInterval(this.intervaleId)}}]),t}(),Rr=function(){},Or=function(){function e(t){var n=this,r=t.container,o=t.subDomain,i=t.token,u=t.showManualScreenPop,c=void 0!==u&&u,f=t.movable,p=void 0!==f&&f,d=t.onScreenPop,h=void 0===d?Rr:d,v=t.onRinging,m=void 0===v?Rr:v,g=t.onTalking,y=void 0===g?Rr:g,_=t.onHangup,b=void 0===_?Rr:_,C=t.onWorkStatusChange,A=void 0===C?Rr:C,E=t.onWorkWayChange,S=void 0===E?Rr:E,T=t.onDropCall,w=void 0===T?Rr:T,k=t.onTransferResult,R=void 0===k?Rr:k,x=t.onInitSuccess,I=void 0===x?Rr:x,P=t.onIvrCallResult,N=void 0===P?Rr:P,D=t.onResumeAgentResult,M=void 0===D?Rr:D,U=t.onConsultResult,j=void 0===U?function(e){"6005"===e.code&&Y.a.success("成功从咨询中恢复!")}:U,L=t.onThreeWayCallingResult,F=void 0===L?function(e){"1000"===e.code&&Y.a.success("三方成功")}:L,B=t.onInitFailure,H=void 0===B?function(){Y.a.error("获取初始化数据失败!")}:B,q=t.onTokenExpired;_r(this,e),Tr(this,"isDestroyed",!1),Tr(this,"transfer",he),Tr(this,"startConsult",ve),Tr(this,"startThreeWayCalling",me),Tr(this,"stopConsult",ye),Tr(this,"holdCallSelect",be),Tr(this,"recoveryCallSelect",Ce),Tr(this,"makeCall",ce),Tr(this,"setWorkingWay",pe),Tr(this,"startIvrCalling",ge),Tr(this,"transferToGroup",Ae),Tr(this,"transferToExternalPhone",Ee),Tr(this,"startConsultingToExternalPhone",Se),Tr(this,"startThreeWayCallingToExternalPhone",Te),Tr(this,"getAutomaticCallNumGroup",we),Tr(this,"setupDefaultNumber",ke),Tr(this,"getCallNumbers",Re),Tr(this,"transferAfterConsult",Oe),Tr(this,"threeWayCallingAfterConsult",xe),Tr(this,"transferAfterThreeWayCalling",Ie),Tr(this,"answer",le),Tr(this,"_onTalking",function(e){try{n.onTalking(wr(e))}catch(e){console.error(e)}}),Tr(this,"_onHangup",function(e){window.removeEventListener("beforeunload",n._onBeforeUnload),window.removeEventListener("unload",n._onUnload);var t=wr(e);t.hangup_time=(new Date).toISOString(),delete t.ring_time;try{n.onHangup(t)}catch(e){console.error(e)}}),Tr(this,"_onScreenPop",function(e){try{window.addEventListener("beforeunload",n._onBeforeUnload=function(e){return(e||window.event).returnValue="如果刷新页面当前电话将挂断，是否刷新","如果刷新页面当前电话将挂断，是否刷新"}),window.addEventListener("unload",n._onUnload=function(){n.hangup()}),n.onScreenPop(wr(e))}catch(e){console.error(e)}}),Tr(this,"_onRinging",function(e){try{n.onRinging(wr(e))}catch(e){console.error(e)}}),l.a.token=i,l.a.host="https://"+o+".udesk.cn",l.a.refreshToken=q,this.onTalking=y,this.onHangup=b,this.onRinging=m,this.onScreenPop=h;var W=this.wrapper=document.createElement("div");W.className="udesk-callcenter-component",r.appendChild(W),Object(s.render)(a.a.createElement(kr,{callConfig:O,showManualScreenPop:c,onInitSuccess:I,onResumeAgentResult:M,movable:p,onInitFailure:H}),W),gr.on("consultResult",j),gr.on("threeWayCallingResult",F),gr.on("transferResult",R),gr.on("dropCall",w),gr.on("ivrCallResult",N),gr.on("resumeAgentResult",M),$.on("screenPop",this._onScreenPop),$.on("ringing",this._onRinging),$.on("talking",this._onTalking),$.on("hangup",this._onHangup),O.on("change",function(e,t){"agent_work_state"===e?A(t):"agent_work_way"===e&&S(t)}),this.isDestroyed=!1}return Cr(e,[{key:"setWorkStatus",value:function(e,t,n){var r=[f,p,h,d];if(!o.a.includes(r,e))throw new Error("参数只能是以下四种:".concat(r.join(",")));fe(e,t,n)}},{key:"hangup",value:function(e,t){de(e,t)}},{key:"destroy",value:function(){this.isDestroyed||(this.wrapper.parentNode.removeChild(this.wrapper),Y.a.destroy(),$.off(),O.off(),O.reset(),gr.destroy(),window.removeEventListener("beforeunload",this._onBeforeUnload),window.removeEventListener("unload",this._onUnload),Object(s.unmountComponentAtNode)(this.wrapper),this.isDestroyed=!0)}},{key:"setToken",value:function(e){l.a.token=e}}]),e}();Or.WORK_STATE_IDLE=f,Or.WORK_STATE_BUSY=p,Or.WORK_STATE_REST=h,Or.WORK_STATE_OFFLINE=d,window.UdeskCallcenterComponent=Or}]);